<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Mr.JK">
  <meta name="keywords" content="">
  <title>乐优商城day05：vue入门 - Mr.JK</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/darcula.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/custom.css">



  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 4.2.1"></head>





<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>私人博客</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                主页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于我
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/banner.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-09-21 21:47">
      2020-09-21
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      14k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      154
       分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
	
   
	
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <h1 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h1><ul>
<li>会创建Vue实例，知道Vue的常见属性</li>
<li>会使用Vue的生命周期的钩子函数</li>
<li>会使用vue常见指令</li>
<li>会使用vue计算属性和watch监控</li>
<li>会编写Vue组件</li>
<li>掌握组件间通信</li>
<li>了解vue-router使用</li>
<li>了解webpack使用</li>
<li>会使用vue-cli搭建项目</li>
</ul>
<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><p>前几天我们已经对后端的技术栈有了初步的了解、并且已经搭建了整个后端微服务的平台。接下来要做的事情就是功能开发了。但是没有前端页面，我们肯定无从下手，因此今天我们就要来了解一下前端的一些技术，完成前端页面搭建。</p>
<p>先聊一下前端开发模式的发展。</p>
<blockquote>
<p>静态页面</p>
</blockquote>
<p>最初的网页以HTML为主，是纯静态的网页。网页是只读的，信息流只能从服务端到客户端单向流通。<strong>开发人员也只关心页面的样式和内容</strong>即可。</p>
<blockquote>
<p>异步刷新，操作DOM</p>
</blockquote>
<p>1995年，网景工程师Brendan Eich 花了10天时间设计了JavaScript语言.</p>
<p>随着JavaScript的诞生，我们可以操作页面的DOM元素及样式，页面有了一些动态的效果，但是依然是以静态为主。</p>
<p>ajax盛行：</p>
<ul>
<li>2005年开始，ajax逐渐被前端开发人员所重视，因为不用刷新页面就可以更新页面的数据和渲染效果。</li>
<li>此时的<strong>开发人员不仅仅要编写HTML样式，还要懂ajax与后端交互，然后通过JS操作Dom元素来实现页面动态效果</strong>。比较流行的框架如Jquery就是典型代表。</li>
</ul>
<blockquote>
<p>MVVM，关注模型和视图</p>
</blockquote>
<p>2008年，google的Chrome发布，随后就以极快的速度占领市场，超过IE成为浏览器市场的主导者。</p>
<p>2009年，Ryan Dahl在谷歌的Chrome V8引擎基础上，打造了基于事件循环的异步IO框架：Node.js。</p>
<ul>
<li>基于事件循环的异步IO</li>
<li>单线程运行，避免多线程的变量同步问题</li>
<li>JS可以编写后台代码，前后台统一编程语言</li>
</ul>
<p>node.js的伟大之处不在于让JS迈向了后端开发，而是构建了一个庞大的生态系统。</p>
<p>2010年，NPM作为node.js的包管理系统首次发布，开发人员可以遵循Common.js规范来编写Node.js模块，然后发布到NPM上供其他开发人员使用。目前已经是世界最大的包模块管理系统。</p>
<p>随后，在node的基础上，涌现出了一大批的前端框架：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1525825983230.png" srcset="/img/loading.gif" alt="1525825983230"></p>
<blockquote>
<p>MVVM模式</p>
</blockquote>
<ul>
<li>M：即Model，模型，包括数据和一些基本操作</li>
<li>V：即View，视图，页面渲染结果</li>
<li>VM：即View-Model，模型与视图间的双向操作（无需开发人员干涉）</li>
</ul>
<p>在MVVM之前，开发人员从后端获取需要的数据模型，然后要通过DOM操作Model渲染到View中。而后当用户操作视图，我们还需要通过DOM获取View中的数据，然后同步到Model中。</p>
<p>而MVVM中的VM要做的事情就是把DOM操作完全封装起来，开发人员不用再关心Model和View之间是如何互相影响的：</p>
<ul>
<li>只要我们Model发生了改变，View上自然就会表现出来。</li>
<li>当用户修改了View，Model中的数据也会跟着改变。</li>
</ul>
<p>把开发人员从繁琐的DOM操作中解放出来，把关注点放在如何操作Model上。</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1525828854056.png" srcset="/img/loading.gif" alt="1525828854056"></p>
<p>而我们今天要学习的，就是一款MVVM模式的框架：Vue</p>
<h1 id="1-认识Vue"><a href="#1-认识Vue" class="headerlink" title="1.认识Vue"></a>1.认识Vue</h1><p>Vue (读音 /vjuː/，类似于 <strong>view</strong>) 是一套用于构建用户界面的<strong>渐进式框架</strong>。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与<a href="https://cn.vuejs.org/v2/guide/single-file-components.html" target="_blank" rel="noopener">现代化的工具链</a>以及各种<a href="https://github.com/vuejs/awesome-vue#libraries--plugins" target="_blank" rel="noopener">支持类库</a>结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。</p>
<p>​    前端框架三巨头：Vue.js、React.js、AngularJS，vue.js以其轻量易用著称，vue.js和React.js发展速度最快，AngularJS还是老大。</p>
<p>官网：<a href="https://cn.vuejs.org/" target="_blank" rel="noopener">https://cn.vuejs.org/</a></p>
<p>参考：<a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/</a></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1525829249048.png" srcset="/img/loading.gif" alt="1525829249048"></p>
<p>Git地址：<a href="https://github.com/vuejs" target="_blank" rel="noopener">https://github.com/vuejs</a></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1525829030730.png" srcset="/img/loading.gif" alt="1525829030730"></p>
<p><strong>尤雨溪</strong>，Vue.js 创作者，Vue Technology创始人，致力于Vue的研究开发。</p>
<h1 id="2-Node和NPM"><a href="#2-Node和NPM" class="headerlink" title="2.Node和NPM"></a>2.Node和NPM</h1><p>前面说过，NPM是Node提供的模块管理工具，可以非常方便的下载安装很多前端框架，包括Jquery、AngularJS、VueJs都有。为了后面学习方便，我们先安装node及NPM工具。</p>
<h2 id="2-1-下载Node-js"><a href="#2-1-下载Node-js" class="headerlink" title="2.1.下载Node.js"></a>2.1.下载Node.js</h2><p>下载地址：<a href="https://nodejs.org/en/" target="_blank" rel="noopener">https://nodejs.org/en/</a></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529594451775.png" srcset="/img/loading.gif" alt="1529594451775"></p>
<p>推荐下载LTS版本。</p>
<p>课程中采用的是8.11.3版本。也是目前最新的。大家自行下载或者使用课前资料中提供的安装包。然后下一步安装即可。</p>
<p>完成以后，在控制台输入：</p>
<div class="hljs"><pre><code class="hljs powershell">node <span class="hljs-literal">-v</span></code></pre></div>

<p>看到版本信息：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529595770482.png" srcset="/img/loading.gif" alt="1529595770482"></p>
<h2 id="2-2-NPM"><a href="#2-2-NPM" class="headerlink" title="2.2.NPM"></a>2.2.NPM</h2><p>Node自带了NPM了，在控制台输入<code>npm -v</code>查看：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529595810923.png" srcset="/img/loading.gif" alt="1529595810923"></p>
<p>npm默认的仓库地址是在国外网站，速度较慢，建议大家设置到淘宝镜像。但是切换镜像是比较麻烦的。推荐一款切换镜像的工具：nrm</p>
<p>我们首先安装nrm，这里<code>-g</code>代表全局安装。可能需要一点儿时间</p>
<div class="hljs"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> nrm -g</code></pre></div>

<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529596099952.png" srcset="/img/loading.gif" alt="1529596099952"></p>
<p>然后通过<code>nrm ls</code>命令查看npm的仓库列表,带*的就是当前选中的镜像仓库：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529596219439.png" srcset="/img/loading.gif" alt="1529596219439"></p>
<p>通过<code>nrm use taobao</code>来指定要使用的镜像源：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529596312671.png" srcset="/img/loading.gif" alt="1529596312671"></p>
<p>然后通过<code>nrm test npm</code>来测试速度：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529596566134.png" srcset="/img/loading.gif" alt="1529596566134"></p>
<p>注意：</p>
<ul>
<li>有教程推荐大家使用cnpm命令，但是使用发现cnpm有时会有bug，不推荐。</li>
<li>安装完成请一定要重启下电脑！！！</li>
<li>安装完成请一定要重启下电脑！！！</li>
<li>安装完成请一定要重启下电脑！！！</li>
</ul>
<h1 id="3-快速入门"><a href="#3-快速入门" class="headerlink" title="3.快速入门"></a>3.快速入门</h1><p>接下来，我们快速领略下vue的魅力</p>
<h2 id="3-1-创建工程"><a href="#3-1-创建工程" class="headerlink" title="3.1.创建工程"></a>3.1.创建工程</h2><p>创建一个新的空工程：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529596874127.png" srcset="/img/loading.gif" alt="1529596874127"></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529597228506.png" srcset="/img/loading.gif" alt="1529597228506"></p>
<p>然后新建一个module：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529597325121.png" srcset="/img/loading.gif" alt="1529597325121"></p>
<p>选中static web，静态web项目：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529597573453.png" srcset="/img/loading.gif" alt="1529597573453"></p>
<p>位置信息：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529597672429.png" srcset="/img/loading.gif" alt="1529597672429"></p>
<h2 id="3-2-安装vue"><a href="#3-2-安装vue" class="headerlink" title="3.2.安装vue"></a>3.2.安装vue</h2><h3 id="3-2-1-下载安装"><a href="#3-2-1-下载安装" class="headerlink" title="3.2.1.下载安装"></a>3.2.1.下载安装</h3><p>下载地址：<a href="https://github.com/vuejs/vue" target="_blank" rel="noopener">https://github.com/vuejs/vue</a></p>
<p>可以下载2.5.16版本<a href="https://github.com/vuejs/vue/archive/v2.5.16.zip" target="_blank" rel="noopener">https://github.com/vuejs/vue/archive/v2.5.16.zip</a></p>
<p>下载解压，得到vue.js文件。</p>
<h3 id="3-2-2-使用CDN"><a href="#3-2-2-使用CDN" class="headerlink" title="3.2.2.使用CDN"></a>3.2.2.使用CDN</h3><p>或者也可以直接使用公共的CDN服务：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 开发环境版本，包含了用帮助的命令行警告 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>或者：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 生产环境版本，优化了尺寸和速度 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>



<h3 id="3-2-3-推荐npm安装"><a href="#3-2-3-推荐npm安装" class="headerlink" title="3.2.3.推荐npm安装"></a>3.2.3.推荐npm安装</h3><p>在idea的左下角，有个Terminal按钮，点击打开控制台：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529598030268.png" srcset="/img/loading.gif" alt="1529598030268"></p>
<p>进入hello-vue目录，先输入：<code>npm init -y</code> 进行初始化</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529598244471.png" srcset="/img/loading.gif" alt="1529598244471"></p>
<p>安装Vue，输入命令：<code>npm install vue --save</code></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529598444504.png" srcset="/img/loading.gif" alt="1529598444504"></p>
<p>然后就会在hello-vue目录发现一个node_modules目录，并且在下面有一个vue目录。</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529602488684.png" srcset="/img/loading.gif" alt="1529602488684"></p>
<p>node_modules是通过npm安装的所有模块的默认位置。</p>
<h2 id="3-3-vue入门案例"><a href="#3-3-vue入门案例" class="headerlink" title="3.3.vue入门案例"></a>3.3.vue入门案例</h2><h3 id="3-3-1-HTML模板"><a href="#3-3-1-HTML模板" class="headerlink" title="3.3.1.HTML模板"></a>3.3.1.HTML模板</h3><p> 在hello-vue目录新建一个HTML</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529719572523.png" srcset="/img/loading.gif" alt="1529719572523"></p>
<p>在hello.html中，我们编写一段简单的代码：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529719673944.png" srcset="/img/loading.gif" alt="1529719673944"></p>
<p>h2中要输出一句话：xx 非常帅。前面的xx是要渲染的数据。</p>
<h3 id="3-3-2-vue声明式渲染"><a href="#3-3-2-vue声明式渲染" class="headerlink" title="3.3.2.vue声明式渲染"></a>3.3.2.vue声明式渲染</h3><p>然后我们通过Vue进行渲染：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;name&#125;&#125;，非常帅！！！<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"node_modules/vue/dist/vue.js"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
<span class="actionscript">    <span class="hljs-comment">// 创建vue实例</span></span>
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el:<span class="hljs-string">"#app"</span>, <span class="hljs-comment">// el即element，该vue实例要渲染的页面元素</span></span>
<span class="actionscript">        data:&#123; <span class="hljs-comment">// 渲染页面需要的数据</span></span>
<span class="actionscript">            name: <span class="hljs-string">"峰哥"</span></span>
        &#125;
    &#125;);

<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<ul>
<li>首先通过 new Vue()来创建Vue实例</li>
<li>然后构造函数接收一个对象，对象中有一些属性：<ul>
<li>el：是element的缩写，通过id选中要渲染的页面元素，本例中是一个div</li>
<li>data：数据，数据是一个对象，里面有很多属性，都可以渲染到视图中<ul>
<li>name：这里我们指定了一个name属性</li>
</ul>
</li>
</ul>
</li>
<li>页面中的<code>h2</code>元素中，我们通过的方式，来渲染刚刚定义的name属性。</li>
</ul>
<p>打开页面查看效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529722898366.png" srcset="/img/loading.gif" alt="1529722898366"></p>
<p>更神奇的在于，当你修改name属性时，页面会跟着变化：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529723206508.png" srcset="/img/loading.gif" alt="1529723206508"></p>
<h3 id="3-3-3-双向绑定"><a href="#3-3-3-双向绑定" class="headerlink" title="3.3.3.双向绑定"></a>3.3.3.双向绑定</h3><p>我们对刚才的案例进行简单修改：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"num"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>
            &#123;&#123;name&#125;&#125;，非常帅！！！有&#123;&#123;num&#125;&#125;位女神为他着迷。
        <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"node_modules/vue/dist/vue.js"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
<span class="actionscript">    <span class="hljs-comment">// 创建vue实例</span></span>
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el: <span class="hljs-string">"#app"</span>, <span class="hljs-comment">// el即element，该vue实例要渲染的页面元素</span></span>
<span class="actionscript">        data: &#123; <span class="hljs-comment">// 渲染页面需要的数据</span></span>
<span class="actionscript">            name: <span class="hljs-string">"峰哥"</span>,</span>
            num: 5
        &#125;
    &#125;);

<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<ul>
<li>我们在data添加了新的属性：<code>num</code></li>
<li>在页面中有一个<code>input</code>元素，通过<code>v-model</code>与<code>num</code>进行绑定。</li>
<li>同时通过<code></code>在页面输出</li>
</ul>
<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/52.gif" srcset="/img/loading.gif" alt="1529723206508"></p>
<p>我们可以观察到，输入框的变化引起了data中的num的变化，同时页面输出也跟着变化。</p>
<ul>
<li>input与num绑定，input的value值变化，影响到了data中的num值</li>
<li>页面<code></code>与数据num绑定，因此num值变化，引起了页面效果变化。</li>
</ul>
<p>没有任何dom操作，这就是双向绑定的魅力。</p>
<h3 id="3-3-4-事件处理"><a href="#3-3-4-事件处理" class="headerlink" title="3.3.4.事件处理"></a>3.3.4.事件处理</h3><p>我们在页面添加一个按钮：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"num++"</span>&gt;</span>点我<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre></div>

<ul>
<li>这里用<code>v-on</code>指令绑定点击事件，而不是普通的<code>onclick</code>，然后直接操作num</li>
<li>普通click是无法直接操作num的。</li>
</ul>
<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/53.gif" srcset="/img/loading.gif" alt></p>
<h1 id="4-Vue实例"><a href="#4-Vue实例" class="headerlink" title="4.Vue实例"></a>4.Vue实例</h1><h2 id="4-1-创建Vue实例"><a href="#4-1-创建Vue实例" class="headerlink" title="4.1.创建Vue实例"></a>4.1.创建Vue实例</h2><p>每个 Vue 应用都是通过用 <code>Vue</code> 函数创建一个新的 <strong>Vue 实例</strong>开始的：</p>
<div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-comment">// 选项</span>
&#125;)</code></pre></div>

<p>在构造函数中传入一个对象，并且在对象中声明各种Vue需要的数据和方法，包括：</p>
<ul>
<li>el</li>
<li>data</li>
<li>methods</li>
</ul>
<p>等等</p>
<p>接下来我们一 一介绍。</p>
<h2 id="4-2-模板或元素"><a href="#4-2-模板或元素" class="headerlink" title="4.2.模板或元素"></a>4.2.模板或元素</h2><p>每个Vue实例都需要关联一段Html模板，Vue会基于此模板进行视图渲染。</p>
<p>我们可以通过el属性来指定。</p>
<p>例如一段html模板：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>然后创建Vue实例，关联这个div</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;
	el:<span class="hljs-string">"#app"</span>
&#125;)</code></pre></div>

<p>这样，Vue就可以基于id为<code>app</code>的div元素作为模板进行渲染了。在这个div范围以外的部分是无法使用vue特性的。</p>
<h2 id="4-3-数据"><a href="#4-3-数据" class="headerlink" title="4.3.数据"></a>4.3.数据</h2><p>当Vue实例被创建时，它会尝试获取在data中定义的所有属性，用于视图的渲染，并且监视data中的属性变化，当data发生改变，所有相关的视图都将重新渲染，这就是“响应式“系统。</p>
<p>html：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"name"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>js:</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;
    el:<span class="hljs-string">"#app"</span>,
    data:&#123;
        name:<span class="hljs-string">"刘德华"</span>
    &#125;
&#125;)</code></pre></div>

<ul>
<li>name的变化会影响到<code>input</code>的值</li>
<li>input中输入的值，也会导致vm中的name发生改变</li>
</ul>
<h2 id="4-4-方法"><a href="#4-4-方法" class="headerlink" title="4.4.方法"></a>4.4.方法</h2><p>Vue实例中除了可以定义data属性，也可以定义方法，并且在Vue实例的作用范围内使用。</p>
<p>html:</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    &#123;&#123;num&#125;&#125;
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"add"</span>&gt;</span>加<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>js:</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;
    el:<span class="hljs-string">"#app"</span>,
    data:&#123;
        num: <span class="hljs-number">0</span>
    &#125;,
    methods:&#123;
        add:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;
            <span class="hljs-comment">// this代表的当前vue实例</span>
            <span class="hljs-keyword">this</span>.num++;
        &#125;
    &#125;
&#125;)</code></pre></div>



<h2 id="4-5-生命周期钩子"><a href="#4-5-生命周期钩子" class="headerlink" title="4.5.生命周期钩子"></a>4.5.生命周期钩子</h2><h3 id="4-5-1-生命周期"><a href="#4-5-1-生命周期" class="headerlink" title="4.5.1.生命周期"></a>4.5.1.生命周期</h3><p>每个 Vue 实例在被创建时都要经过一系列的初始化过程 ：创建实例，装载模板，渲染模板等等。Vue为生命周期中的每个状态都设置了钩子函数（监听函数）。每当Vue实例处于不同的生命周期时，对应的函数就会被触发调用。</p>
<p>生命周期：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/lifecycle.png" srcset="/img/loading.gif" alt="Vue life cycle"></p>
<h3 id="4-5-2-钩子函数"><a href="#4-5-2-钩子函数" class="headerlink" title="4.5.2.钩子函数"></a>4.5.2.钩子函数</h3><p>beforeCreated：我们在用Vue时都要进行实例化，因此，该函数就是在Vue实例化是调用，也可以将他理解为初始化函数比较方便一点，在Vue1.0时，这个函数的名字就是init。 </p>
<p>created：在创建实例之后进行调用。 </p>
<p>beforeMount：页面加载完成，没有渲染。如：此时页面还是</p>
<p>mounted：我们可以将他理解为原生js中的window.onload=function({.,.}),或许大家也在用jquery，所以也可以理解为jquery中的$(document).ready(function(){….})，他的功能就是：在dom文档渲染完毕之后将要执行的函数，该函数在Vue1.0版本中名字为compiled。 此时页面中的已被渲染成峰哥</p>
<p>beforeDestroy：该函数将在销毁实例前进行调用 。</p>
<p>destroyed：改函数将在销毁实例时进行调用。</p>
<p>beforeUpdate：组件更新之前。</p>
<p>updated：组件更新之后。</p>
<p>例如：created代表在vue实例创建后；</p>
<p>我们可以在Vue中定义一个created函数，代表这个时期的钩子函数：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">// 创建vue实例</span>
<span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;
    el: <span class="hljs-string">"#app"</span>, <span class="hljs-comment">// el即element，该vue实例要渲染的页面元素</span>
    data: &#123; <span class="hljs-comment">// 渲染页面需要的数据</span>
        name: <span class="hljs-string">"峰哥"</span>,
        num: <span class="hljs-number">5</span>
    &#125;,
    methods: &#123;
        add: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;
            <span class="hljs-keyword">this</span>.num--;
        &#125;
    &#125;,
    created: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
        <span class="hljs-keyword">this</span>.num = <span class="hljs-number">100</span>;
    &#125;
&#125;);</code></pre></div>

<p>结果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529835200236.png" srcset="/img/loading.gif" alt="1529835200236"></p>
<h3 id="4-5-3-this"><a href="#4-5-3-this" class="headerlink" title="4.5.3.this"></a>4.5.3.this</h3><p>我们可以看下在vue内部的this变量是谁，我们在created的时候，打印this</p>
<div class="hljs"><pre><code class="hljs js">methods: &#123;
    add: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;
        <span class="hljs-keyword">this</span>.num--;
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>);
    &#125;
&#125;,</code></pre></div>

<p> 控制台的输出：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529835379275.png" srcset="/img/loading.gif" alt="1529835379275"></p>
<h1 id="5-指令"><a href="#5-指令" class="headerlink" title="5.指令"></a>5.指令</h1><p>什么是指令？</p>
<p>指令 (Directives) 是带有 <code>v-</code> 前缀的特殊特性。指令特性的预期值是：<strong>单个 JavaScript 表达式</strong>。指令的职责是，当表达式的值改变时，将其产生的连带影响，响应式地作用于 DOM。 </p>
<p>例如我们在入门案例中的v-on，代表绑定事件。</p>
<h2 id="5-1-插值表达式"><a href="#5-1-插值表达式" class="headerlink" title="5.1.插值表达式"></a>5.1.插值表达式</h2><h3 id="5-1-1-花括号"><a href="#5-1-1-花括号" class="headerlink" title="5.1.1.花括号"></a>5.1.1.花括号</h3><p>格式：</p>
<div class="hljs"><pre><code class="hljs vue">&#123;&#123;表达式&#125;&#125;</code></pre></div>

<p>说明：</p>
<ul>
<li>该表达式支持JS语法，可以调用js内置函数（必须有返回值）</li>
<li>表达式必须有返回结果。例如 1 + 1，没有结果的表达式不允许使用，如：var a = 1 + 1;</li>
<li>可以直接获取Vue实例中定义的数据或函数</li>
</ul>
<p>示例：</p>
<p>HTML:</p>
<div id="app">{{name}}</div>

<p>JS:</p>
<p>var app = new Vue({<br>    el:”#app”,<br>    data:{<br>        name:”Jack”<br>    }<br>})</p>
<h3 id="5-1-2-插值闪烁"><a href="#5-1-2-插值闪烁" class="headerlink" title="5.1.2.插值闪烁"></a>5.1.2.插值闪烁</h3><p>使用{{}}方式在网速较慢时会出现问题。在数据未加载完成时，页面会显示出原始的<code>{{}}</code>，加载完毕后才显示正确数据，我们称为插值闪烁。</p>
<p>我们将网速调慢一些，然后试试看刚才的案例：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529836021593.png" srcset="/img/loading.gif" alt="1529836021593"></p>
<p>刷新页面：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/54.gif" srcset="/img/loading.gif" alt></p>
<h3 id="5-1-3-v-text和v-html"><a href="#5-1-3-v-text和v-html" class="headerlink" title="5.1.3.v-text和v-html"></a>5.1.3.v-text和v-html</h3><p>使用v-text和v-html指令来替代<code>{{}}</code></p>
<p>说明：</p>
<ul>
<li>v-text：将数据输出到元素内部，如果输出的数据有HTML代码，会作为普通文本输出</li>
<li>v-html：将数据输出到元素内部，如果输出的数据有HTML代码，会被渲染</li>
</ul>
<p>示例：</p>
<p>HTML:</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    v-text:<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">"hello"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    v-html:<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">"hello"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>JS:</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;
    el:<span class="hljs-string">"#app"</span>,
    data:&#123;
        hello: <span class="hljs-string">"&lt;h1&gt;大家好，我是峰哥&lt;/h1&gt;"</span>
    &#125;
&#125;)</code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529836688083.png" srcset="/img/loading.gif" alt="1529836688083"></p>
<p>并且不会出现插值闪烁，当没有数据时，会显示空白。</p>
<h2 id="5-2-v-model"><a href="#5-2-v-model" class="headerlink" title="5.2.v-model"></a>5.2.v-model</h2><p>刚才的v-text和v-html可以看做是单向绑定，数据影响了视图渲染，但是反过来就不行。接下来学习的v-model是双向绑定，视图（View）和模型（Model）之间会互相影响。</p>
<p>既然是双向绑定，一定是在视图中可以修改数据，这样就限定了视图的元素类型。目前v-model的可使用元素有：</p>
<ul>
<li>input</li>
<li>select</li>
<li>textarea</li>
<li>checkbox</li>
<li>radio</li>
<li>components（Vue中的自定义组件）</li>
</ul>
<p>基本上除了最后一项，其它都是表单的输入项。</p>
<p>举例：</p>
<p>html：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"language"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Java"</span> /&gt;</span>Java<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"language"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"PHP"</span> /&gt;</span>PHP<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"language"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Swift"</span> /&gt;</span>Swift<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>
        你选择了：&#123;&#123;language.join(',')&#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el:<span class="hljs-string">"#app"</span>,</span>
        data:&#123;
            language: []
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<ul>
<li>多个<code>CheckBox</code>对应一个model时，model的类型是一个数组，单个checkbox值默认是boolean类型</li>
<li>radio对应的值是input的value值</li>
<li><code>input</code> 和<code>textarea</code> 默认对应的model是字符串</li>
<li><code>select</code>单选对应字符串，多选对应也是数组</li>
</ul>
<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1529837541201.png" srcset="/img/loading.gif" alt="1529837541201"></p>
<h2 id="5-3-v-on"><a href="#5-3-v-on" class="headerlink" title="5.3.v-on"></a>5.3.v-on</h2><h3 id="5-3-1-基本用法"><a href="#5-3-1-基本用法" class="headerlink" title="5.3.1.基本用法"></a>5.3.1.基本用法</h3><p>v-on指令用于给页面元素绑定事件。</p>
<p>语法：</p>
<div class="hljs"><pre><code class="hljs applescript">v-<span class="hljs-keyword">on</span>:事件名=<span class="hljs-string">"js片段或函数名"</span></code></pre></div>

<p>示例：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--事件中直接写js片段--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"num++"</span>&gt;</span>增加一个<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    <span class="hljs-comment">&lt;!--事件指定一个回调函数，必须是Vue实例中定义的函数--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"decrement"</span>&gt;</span>减少一个<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>有&#123;&#123;num&#125;&#125;个女神迷恋峰哥<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el:<span class="hljs-string">"#app"</span>,</span>
        data:&#123;
            num:100
        &#125;,
        methods:&#123;
            decrement()&#123;
<span class="actionscript">                <span class="hljs-keyword">this</span>.num--;</span>
            &#125;
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/55.gif" srcset="/img/loading.gif" alt></p>
<p>另外，事件绑定可以简写，例如<code>v-on:click=&#39;add&#39;</code>可以简写为<code>@click=&#39;add&#39;</code></p>
<h3 id="5-3-2-事件修饰符"><a href="#5-3-2-事件修饰符" class="headerlink" title="5.3.2.事件修饰符"></a>5.3.2.事件修饰符</h3><p>在事件处理程序中调用 <code>event.preventDefault()</code> 或 <code>event.stopPropagation()</code> 是非常常见的需求。尽管我们可以在方法中轻松实现这点，但更好的方式是：方法只有纯粹的数据逻辑，而不是去处理 DOM 事件细节。</p>
<p>为了解决这个问题，Vue.js 为 <code>v-on</code> 提供了<strong>事件修饰符</strong>。修饰符是由点开头的指令后缀来表示的。</p>
<ul>
<li><code>.stop</code> ：阻止事件冒泡到父元素</li>
<li><code>.prevent</code>：阻止默认事件发生</li>
<li><code>.capture</code>：使用事件捕获模式</li>
<li><code>.self</code>：只有元素自身触发事件才执行。（冒泡或捕获的都不执行）</li>
<li><code>.once</code>：只执行一次</li>
</ul>
<p>阻止默认事件</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--右击事件，并阻止默认事件发生--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:contextmenu.prevent</span>=<span class="hljs-string">"num++"</span>&gt;</span>增加一个<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    <span class="hljs-comment">&lt;!--右击事件，不阻止默认事件发生--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:contextmenu</span>=<span class="hljs-string">"decrement($event)"</span>&gt;</span>减少一个<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>有&#123;&#123;num&#125;&#125;个女神迷恋峰哥<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el: <span class="hljs-string">"#app"</span>,</span>
        data: &#123;
            num: 100
        &#125;,
        methods: &#123;
            decrement(ev) &#123;
<span class="actionscript">                <span class="hljs-comment">// ev.preventDefault();</span></span>
<span class="actionscript">                <span class="hljs-keyword">this</span>.num--;</span>
            &#125;
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>效果：（右键“增加一个”，不会触发默认的浏览器右击事件；右键“减少一个”，会触发默认的浏览器右击事件）</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/56.gif" srcset="/img/loading.gif" alt></p>
<h3 id="5-3-3-按键修饰符"><a href="#5-3-3-按键修饰符" class="headerlink" title="5.3.3.按键修饰符"></a>5.3.3.按键修饰符</h3><p>在监听键盘事件时，我们经常需要检查常见的键值。Vue 允许为 <code>v-on</code> 在监听键盘事件时添加按键修饰符： </p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 只有在 `keyCode` 是 13 时调用 `vm.submit()` --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-on:keyup.13</span>=<span class="hljs-string">"submit"</span>&gt;</span></code></pre></div>



<p>记住所有的 <code>keyCode</code> 比较困难，所以 Vue 为最常用的按键提供了别名：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 同上 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-on:keyup.enter</span>=<span class="hljs-string">"submit"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- 缩写语法 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">"submit"</span>&gt;</span></code></pre></div>

<p>全部的按键别名：</p>
<ul>
<li><code>.enter</code></li>
<li><code>.tab</code></li>
<li><code>.delete</code> (捕获“删除”和“退格”键)</li>
<li><code>.esc</code></li>
<li><code>.space</code></li>
<li><code>.up</code></li>
<li><code>.down</code></li>
<li><code>.left</code></li>
<li><code>.right</code></li>
</ul>
<h3 id="5-3-4-组合按钮"><a href="#5-3-4-组合按钮" class="headerlink" title="5.3.4.组合按钮"></a>5.3.4.组合按钮</h3><p>可以用如下修饰符来实现仅在按下相应按键时才触发鼠标或键盘事件的监听器。</p>
<ul>
<li><code>.ctrl</code></li>
<li><code>.alt</code></li>
<li><code>.shift</code></li>
</ul>
<p>例如：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- Alt + C --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> @<span class="hljs-attr">keyup.alt.67</span>=<span class="hljs-string">"clear"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Ctrl + Click --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> @<span class="hljs-attr">click.ctrl</span>=<span class="hljs-string">"doSomething"</span>&gt;</span>Do something<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>



<h2 id="5-4-v-for"><a href="#5-4-v-for" class="headerlink" title="5.4.v-for"></a>5.4.v-for</h2><p>遍历数据渲染页面是非常常用的需求，Vue中通过v-for指令来实现。</p>
<h3 id="5-4-1-遍历数组"><a href="#5-4-1-遍历数组" class="headerlink" title="5.4.1.遍历数组"></a>5.4.1.遍历数组</h3><blockquote>
<p>语法：</p>
</blockquote>
<div class="hljs"><pre><code class="hljs ini"><span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in items"</span></code></pre></div>

<ul>
<li>items：要遍历的数组，需要在vue的data中定义好。</li>
<li>item：迭代得到的数组元素的别名</li>
</ul>
<blockquote>
<p>示例</p>
</blockquote>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"user in users"</span>&gt;</span>
            &#123;&#123;user.name&#125;&#125; - &#123;&#123;user.gender&#125;&#125; - &#123;&#123;user.age&#125;&#125;
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el: <span class="hljs-string">"#app"</span>,</span>
        data: &#123;
            users:[
<span class="actionscript">                &#123;name:<span class="hljs-string">'柳岩'</span>, gender:<span class="hljs-string">'女'</span>, age: <span class="hljs-number">21</span>&#125;,</span>
<span class="actionscript">                &#123;name:<span class="hljs-string">'峰哥'</span>, gender:<span class="hljs-string">'男'</span>, age: <span class="hljs-number">18</span>&#125;,</span>
<span class="actionscript">                &#123;name:<span class="hljs-string">'范冰冰'</span>, gender:<span class="hljs-string">'女'</span>, age: <span class="hljs-number">24</span>&#125;,</span>
<span class="actionscript">                &#123;name:<span class="hljs-string">'刘亦菲'</span>, gender:<span class="hljs-string">'女'</span>, age: <span class="hljs-number">18</span>&#125;,</span>
<span class="actionscript">                &#123;name:<span class="hljs-string">'古力娜扎'</span>, gender:<span class="hljs-string">'女'</span>, age: <span class="hljs-number">25</span>&#125;</span>
            ]
        &#125;,
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530006198953.png" srcset="/img/loading.gif" alt="1530006198953"></p>
<h3 id="5-4-2-数组角标"><a href="#5-4-2-数组角标" class="headerlink" title="5.4.2.数组角标"></a>5.4.2.数组角标</h3><p>在遍历的过程中，如果我们需要知道数组角标，可以指定第二个参数：</p>
<blockquote>
<p>语法</p>
</blockquote>
<div class="hljs"><pre><code class="hljs ini"><span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item,index) in items"</span></code></pre></div>

<ul>
<li>items：要迭代的数组</li>
<li>item：迭代得到的数组元素别名</li>
<li>index：迭代到的当前元素索引，从0开始。</li>
</ul>
<blockquote>
<p>示例</p>
</blockquote>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(user, index) in users"</span>&gt;</span>
        &#123;&#123;index + 1&#125;&#125;. &#123;&#123;user.name&#125;&#125; - &#123;&#123;user.gender&#125;&#125; - &#123;&#123;user.age&#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<blockquote>
<p>效果：</p>
</blockquote>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530006094601.png" srcset="/img/loading.gif" alt="1530006094601"></p>
<h3 id="5-4-3-遍历对象"><a href="#5-4-3-遍历对象" class="headerlink" title="5.4.3.遍历对象"></a>5.4.3.遍历对象</h3><p>v-for除了可以迭代数组，也可以迭代对象。语法基本类似</p>
<blockquote>
<p>语法：</p>
</blockquote>
<div class="hljs"><pre><code class="hljs javascript">v-<span class="hljs-keyword">for</span>=<span class="hljs-string">"value in object"</span>
v-<span class="hljs-keyword">for</span>=<span class="hljs-string">"(value,key) in object"</span>
v-<span class="hljs-keyword">for</span>=<span class="hljs-string">"(value,key,index) in object"</span></code></pre></div>

<ul>
<li>1个参数时，得到的是对象的属性</li>
<li>2个参数时，第一个是属性，第二个是键</li>
<li>3个参数时，第三个是索引，从0开始</li>
</ul>
<blockquote>
<p>示例：</p>
</blockquote>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(value, key, index) in user"</span>&gt;</span>
            &#123;&#123;index + 1&#125;&#125;. &#123;&#123;key&#125;&#125; - &#123;&#123;value&#125;&#125;
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el:<span class="hljs-string">"#app"</span>,</span>
        data:&#123;
<span class="actionscript">            user:&#123;name:<span class="hljs-string">'峰哥'</span>, gender:<span class="hljs-string">'男'</span>, age: <span class="hljs-number">18</span>&#125;</span>
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<blockquote>
<p>效果：</p>
</blockquote>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530006251975.png" srcset="/img/loading.gif" alt="1530006251975"></p>
<h3 id="5-4-4-key"><a href="#5-4-4-key" class="headerlink" title="5.4.4.key"></a>5.4.4.key</h3><p>当 Vue.js 用 <code>v-for</code> 正在更新已渲染过的元素列表时，它默认用“就地复用”策略。如果数据项的顺序被改变，Vue 将不会移动 DOM 元素来匹配数据项的顺序， 而是简单复用此处每个元素，并且确保它在特定索引下显示已被渲染过的每个元素。 </p>
<p>这个功能可以有效的提高渲染的效率。</p>
<p>但是要实现这个功能，你需要给Vue一些提示，以便它能跟踪每个节点的身份，从而重用和重新排序现有元素，你需要为每项提供一个唯一 <code>key</code> 属性。理想的 <code>key</code> 值是每项都有的且唯一的 id。 </p>
<p>示例：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item,index) in items"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">index</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<ul>
<li>这里使用了一个特殊语法：<code>:key=&quot;&quot;</code> 我们后面会讲到，它可以让你读取vue中的属性，并赋值给key属性</li>
<li>这里我们绑定的key是数组的索引，应该是唯一的</li>
</ul>
<h2 id="5-5-v-if和v-show"><a href="#5-5-v-if和v-show" class="headerlink" title="5.5.v-if和v-show"></a>5.5.v-if和v-show</h2><h3 id="5-5-1-基本使用"><a href="#5-5-1-基本使用" class="headerlink" title="5.5.1.基本使用"></a>5.5.1.基本使用</h3><p>v-if，顾名思义，条件判断。当得到结果为true时，所在的元素才会被渲染。</p>
<blockquote>
<p>语法：</p>
</blockquote>
<div class="hljs"><pre><code class="hljs ini"><span class="hljs-attr">v-if</span>=<span class="hljs-string">"布尔表达式"</span></code></pre></div>

<blockquote>
<p>示例：</p>
</blockquote>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"show = !show"</span>&gt;</span>点我呀<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"show"</span>&gt;</span>
        看到我啦？！
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">"show"</span>&gt;</span>
        看到我啦？！show
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el: <span class="hljs-string">"#app"</span>,</span>
        data: &#123;
<span class="actionscript">            show: <span class="hljs-literal">true</span></span>
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<blockquote>
<p>效果：</p>
</blockquote>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/57.gif" srcset="/img/loading.gif" alt></p>
<h3 id="5-5-2-与v-for结合"><a href="#5-5-2-与v-for结合" class="headerlink" title="5.5.2.与v-for结合"></a>5.5.2.与v-for结合</h3><p>当v-if和v-for出现在一起时，v-for优先级更高。也就是说，会先遍历，再判断条件。</p>
<p>修改v-for中的案例，添加v-if：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(user, index) in users"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"user.gender == '女'"</span>&gt;</span>
        &#123;&#123;index + 1&#125;&#125;. &#123;&#123;user.name&#125;&#125; - &#123;&#123;user.gender&#125;&#125; - &#123;&#123;user.age&#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530013415911.png" srcset="/img/loading.gif" alt="1530013415911"></p>
<p>只显示女性用户信息</p>
<h3 id="5-5-3-v-else"><a href="#5-5-3-v-else" class="headerlink" title="5.5.3.v-else"></a>5.5.3.v-else</h3><p>你可以使用 <code>v-else</code> 指令来表示 <code>v-if</code> 的“else 块”：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"Math.random() &gt; 0.5"</span>&gt;</span>
        看到我啦？！if
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-else</span>&gt;</span>
        看到我啦？！else
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p><code>v-else</code> 元素必须紧跟在带 <code>v-if</code> 或者 <code>v-else-if</code> 的元素的后面，否则它将不会被识别。</p>
<p><code>v-else-if</code>，顾名思义，充当 <code>v-if</code> 的“else-if 块”，可以连续使用：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"random=Math.random()"</span>&gt;</span>点我呀<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;random&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"random &gt;= 0.75"</span>&gt;</span>
        看到我啦？！if
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"random &gt; 0.5"</span>&gt;</span>
        看到我啦？！if 0.5
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"random &gt; 0.25"</span>&gt;</span>
        看到我啦？！if 0.25
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-else</span>&gt;</span>
        看到我啦？！else
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el: <span class="hljs-string">"#app"</span>,</span>
        data: &#123;
            random: 1
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>类似于 <code>v-else</code>，<code>v-else-if</code> 也必须紧跟在带 <code>v-if</code> 或者 <code>v-else-if</code> 的元素之后。</p>
<p>演示：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/58.gif" srcset="/img/loading.gif" alt="1530013415911"></p>
<h3 id="5-5-4-v-show"><a href="#5-5-4-v-show" class="headerlink" title="5.5.4.v-show"></a>5.5.4.v-show</h3><p>另一个用于根据条件展示元素的选项是 <code>v-show</code> 指令。用法大致一样：</p>
<div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">"ok"</span>&gt;</span>Hello!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></code></pre></div>

<p>不同的是带有 <code>v-show</code> 的元素始终会被渲染并保留在 DOM 中。<code>v-show</code> 只是简单地切换元素的 CSS 属性 <code>display</code>。</p>
<p>示例：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--事件中直接写js片段--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"show = !show"</span>&gt;</span>点击切换<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"show"</span>&gt;</span>
        你好
    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el:<span class="hljs-string">"#app"</span>,</span>
        data:&#123;
<span class="actionscript">            show:<span class="hljs-literal">true</span></span>
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>



<p>代码：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/59.gif" srcset="/img/loading.gif" alt></p>
<h2 id="5-6-v-bind"><a href="#5-6-v-bind" class="headerlink" title="5.6.v-bind"></a>5.6.v-bind</h2><p>html属性不能使用双大括号形式绑定，只能使用v-bind指令。</p>
<p>在将 <code>v-bind</code> 用于 <code>class</code> 和 <code>style</code> 时，Vue.js 做了专门的增强。表达式结果的类型除了字符串之外，还可以是对象或数组。 </p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--可以是数据模型，可以是具有返回值的js代码块或者函数--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:title</span>=<span class="hljs-string">"title"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"border: 1px solid red; width: 50px; height: 50px;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el: <span class="hljs-string">"#app"</span>,</span>
        data: &#123;
<span class="actionscript">            title: <span class="hljs-string">"title"</span>,</span>
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530025378843.png" srcset="/img/loading.gif" alt="1530025378843"></p>
<p>在将 <code>v-bind</code> 用于 <code>class</code> 和 <code>style</code> 时，Vue.js 做了专门的增强。表达式结果的类型除了字符串之外，还可以是对象或数组。 </p>
<h3 id="5-6-1-绑定class样式"><a href="#5-6-1-绑定class样式" class="headerlink" title="5.6.1.绑定class样式"></a>5.6.1.绑定class样式</h3><blockquote>
<p>数组语法</p>
</blockquote>
<p>我们可以借助于<code>v-bind</code>指令来实现：</p>
<p>HTML：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">"activeClass"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">"errorClass"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">"[activeClass, errorClass]"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el: <span class="hljs-string">"#app"</span>,</span>
        data: &#123;
<span class="actionscript">            activeClass: <span class="hljs-string">'active'</span>,</span>
<span class="actionscript">            errorClass: [<span class="hljs-string">'text-danger'</span>, <span class="hljs-string">'text-error'</span>]</span>
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>渲染后的效果：（具有active和hasError的样式）</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530026818515.png" srcset="/img/loading.gif" alt="1530026818515"></p>
<blockquote>
<p>对象语法</p>
</blockquote>
<p>我们可以传给 <code>v-bind:class</code> 一个对象，以动态地切换 class：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">"&#123; active: isActive &#125;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>上面的语法表示 <code>active</code> 这个 <strong>class 存在与否将取决于数据属性 <code>isActive</code></strong> 的 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy" target="_blank" rel="noopener">truthiness</a>（所有的值都是真实的，除了false,0,“”,null,undefined和NaN）。</p>
<p>你可以在对象中传入更多属性来动态切换多个 class。此外，<code>v-bind:class</code> 指令也可以与普通的 class 属性共存。如下模板:</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"static"</span></span>
<span class="hljs-tag">     <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">"&#123; active: isActive, 'text-danger': hasError &#125;"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>和如下 data：</p>
<div class="hljs"><pre><code class="hljs js">data: &#123;
  isActive: <span class="hljs-literal">true</span>,
  hasError: <span class="hljs-literal">false</span>
&#125;</code></pre></div>

<p>结果渲染为：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"static active"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>active样式和text-danger样式的存在与否，取决于isActive和hasError的值。本例中isActive为true，hasError为false，所以active样式存在，text-danger不存在。</p>
<p><strong>通常情况下，绑定的数据对象不必内联定义在模板里</strong>： </p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"static"</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">"classObject"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>数据：</p>
<div class="hljs"><pre><code class="hljs javascript">data: &#123;
  classObject: &#123;
    active: <span class="hljs-literal">true</span>,
    <span class="hljs-string">'text-danger'</span>: <span class="hljs-literal">false</span>
  &#125;
&#125;</code></pre></div>

<p>效果和之前一样：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"static active"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>



<h3 id="5-6-2-绑定style样式"><a href="#5-6-2-绑定style样式" class="headerlink" title="5.6.2.绑定style样式"></a>5.6.2.绑定style样式</h3><blockquote>
<p>数组语法</p>
</blockquote>
<p>数组语法可以将多个样式对象应用到同一个元素上： </p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:style</span>=<span class="hljs-string">"[baseStyles, overridingStyles]"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>数据：</p>
<div class="hljs"><pre><code class="hljs javascript">data: &#123;
    baseStyles: &#123;<span class="hljs-string">'background-color'</span>: <span class="hljs-string">'red'</span>&#125;,
    overridingStyles: &#123;<span class="hljs-attr">border</span>: <span class="hljs-string">'1px solid black'</span>&#125;
&#125;</code></pre></div>

<p>渲染后的结果：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-color: red; border: 1px solid black;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<blockquote>
<p>对象语法</p>
</blockquote>
<p><code>v-bind:style</code> 的对象语法十分直观——看着非常像 CSS，但其实是一个 JavaScript 对象。CSS 属性名可以用驼峰式 (camelCase) 或短横线分隔 (kebab-case，记得用单引号括起来) 来命名： </p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:style</span>=<span class="hljs-string">"&#123; color: activeColor, fontSize: fontSize + 'px' &#125;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>数据：</p>
<div class="hljs"><pre><code class="hljs JavaScript">data: &#123;
  activeColor: <span class="hljs-string">'red'</span>,
  fontSize: <span class="hljs-number">30</span>
&#125;</code></pre></div>

<p>效果：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: red; font-size: 30px;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>



<p><strong>直接绑定到一个样式对象通常更好，这会让模板更清晰</strong>： </p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:style</span>=<span class="hljs-string">"styleObject"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="hljs"><pre><code class="hljs javascript">data: &#123;
  styleObject: &#123;
    color: <span class="hljs-string">'red'</span>,
    fontSize: <span class="hljs-string">'13px'</span>
  &#125;
&#125;</code></pre></div>

<p>效果同上。</p>
<h3 id="5-6-3-简写"><a href="#5-6-3-简写" class="headerlink" title="5.6.3.简写"></a>5.6.3.简写</h3><p><code>v-bind:class</code>可以简写为<code>:class</code></p>
<h2 id="5-7-计算属性"><a href="#5-7-计算属性" class="headerlink" title="5.7.计算属性"></a>5.7.计算属性</h2><p>在插值表达式中使用js表达式是非常方便的，而且也经常被用到。</p>
<p>但是如果表达式的内容很长，就会显得不够优雅，而且后期维护起来也不方便，例如下面的场景，我们有一个日期的数据，但是是毫秒值：</p>
<div class="hljs"><pre><code class="hljs js">data:&#123;
    birthday:<span class="hljs-number">1529032123201</span> <span class="hljs-comment">// 毫秒值</span>
&#125;</code></pre></div>

<p>我们在页面渲染，希望得到yyyy-MM-dd的样式：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>您的生日是：&#123;&#123;
    new Date(birthday).getFullYear() + '-'+ new Date(birthday).getMonth()+ '-' + new Date(birthday).getDay()
    &#125;&#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></code></pre></div>

<p>虽然能得到结果，但是非常麻烦。</p>
<p>Vue中提供了计算属性，来替代复杂的表达式：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;
    el:<span class="hljs-string">"#app"</span>,
    data:&#123;
        birthday:<span class="hljs-number">1429032123201</span> <span class="hljs-comment">// 毫秒值</span>
    &#125;,
    computed:&#123;
        birth()&#123;<span class="hljs-comment">// 计算属性本质是一个方法，但是必须返回结果</span>
            <span class="hljs-keyword">const</span> d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.birthday);
            <span class="hljs-keyword">return</span> d.getFullYear() + <span class="hljs-string">"-"</span> + d.getMonth() + <span class="hljs-string">"-"</span> + d.getDay();
        &#125;
    &#125;
&#125;)</code></pre></div>

<ul>
<li>计算属性本质就是方法，但是一定要返回数据。然后页面渲染时，可以把这个方法当成一个变量来使用。</li>
</ul>
<p>页面使用：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>您的生日是：&#123;&#123;birth&#125;&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530029950644.png" srcset="/img/loading.gif" alt="1530029950644"></p>
<p>我们可以将同一函数定义为一个方法而不是一个计算属性。两种方式的最终结果确实是完全相同的。然而，不同的是<strong>计算属性是基于它们的依赖进行缓存的</strong>。计算属性只有在它的相关依赖发生改变时才会重新求值。这就意味着只要<code>birthday</code>还没有发生改变，多次访问 <code>birthday</code> 计算属性会立即返回之前的计算结果，而不必再次执行函数。 </p>
<h2 id="5-8-watch"><a href="#5-8-watch" class="headerlink" title="5.8.watch"></a>5.8.watch</h2><p>watch可以让我们监控一个值的变化。从而做出相应的反应。</p>
<p>示例：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el:<span class="hljs-string">"#app"</span>,</span>
        data:&#123;
<span class="actionscript">            message:<span class="hljs-string">""</span></span>
        &#125;,
        watch:&#123;
            message(newVal, oldVal)&#123;
<span class="javascript">                <span class="hljs-built_in">console</span>.log(newVal, oldVal);</span>
            &#125;
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530030506879.png" srcset="/img/loading.gif" alt="1530030506879"></p>
<h1 id="6-组件化"><a href="#6-组件化" class="headerlink" title="6.组件化"></a>6.组件化</h1><p>在大型应用开发的时候，页面可以划分成很多部分。往往不同的页面，也会有相同的部分。例如可能会有相同的头部导航。</p>
<p>但是如果每个页面都独自开发，这无疑增加了我们开发的成本。所以我们会把页面的不同部分拆分成独立的组件，然后在不同页面就可以共享这些组件，避免重复开发。</p>
<h2 id="6-1-全局组件"><a href="#6-1-全局组件" class="headerlink" title="6.1.全局组件"></a>6.1.全局组件</h2><p>我们通过Vue的component方法来定义一个全局组件。</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--使用定义好的全局组件--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-comment">// 定义全局组件，两个参数：1，组件名称。2，组件参数</span></span>
<span class="actionscript">    Vue.component(<span class="hljs-string">"counter"</span>,&#123;</span>
<span class="handlebars"><span class="xml">        template:'<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"count++"</span>&gt;</span>你点了我 </span><span class="hljs-template-variable">&#123;&#123; count &#125;&#125;</span><span class="xml"> 次，我记住了.<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>',</span></span>
        data()&#123;
<span class="actionscript">            <span class="hljs-keyword">return</span> &#123;</span>
                count:0
            &#125;
        &#125;
    &#125;)
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el:<span class="hljs-string">"#app"</span></span>
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<ul>
<li>组件其实也是一个Vue实例，因此它在定义时也会接收：data、methods、生命周期函数等</li>
<li>不同的是组件不会与页面的元素绑定，否则就无法复用了，因此没有el属性。</li>
<li>但是组件渲染需要html模板，所以增加了template属性，值就是HTML模板</li>
<li>全局组件定义完毕，任何vue实例都可以直接在HTML中通过组件名称来使用组件了。</li>
<li>data必须是一个函数，不再是一个对象。</li>
</ul>
<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/60.gif" srcset="/img/loading.gif" alt></p>
<h2 id="6-2-组件的复用"><a href="#6-2-组件的复用" class="headerlink" title="6.2.组件的复用"></a>6.2.组件的复用</h2><p>定义好的组件，可以任意复用多次：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--使用定义好的全局组件--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530084943778.png" srcset="/img/loading.gif" alt="1530084943778"></p>
<p>你会发现每个组件互不干扰，都有自己的count值。怎么实现的？</p>
<blockquote>
<p><strong>组件的data属性必须是函数</strong>！</p>
</blockquote>
<p>当我们定义这个 <code>&lt;counter&gt;</code> 组件时，它的data 并不是像这样直接提供一个对象：</p>
<div class="hljs"><pre><code class="hljs js">data: &#123;
  count: <span class="hljs-number">0</span>
&#125;</code></pre></div>

<p>取而代之的是，一个组件的 data 选项必须是一个函数，因此每个实例可以维护一份被返回对象的独立的拷贝：</p>
<div class="hljs"><pre><code class="hljs js">data: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">return</span> &#123;
    count: <span class="hljs-number">0</span>
  &#125;
&#125;</code></pre></div>

<p>如果 Vue 没有这条规则，点击一个按钮就会影响到其它所有实例！</p>
<h2 id="6-3-局部注册"><a href="#6-3-局部注册" class="headerlink" title="6.3.局部注册"></a>6.3.局部注册</h2><p>一旦全局注册，就意味着即便以后你不再使用这个组件，它依然会随着Vue的加载而加载。</p>
<p>因此，对于一些并不频繁使用的组件，我们会采用局部注册。</p>
<p>我们先在外部定义一个对象，结构与创建组件时传递的第二个参数一致：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> counter = &#123;
    template:<span class="hljs-string">'&lt;button v-on:click="count++"&gt;你点了我 &#123;&#123; count &#125;&#125; 次，我记住了.&lt;/button&gt;'</span>,
    data()&#123;
        <span class="hljs-keyword">return</span> &#123;
            count:<span class="hljs-number">0</span>
        &#125;
    &#125;
&#125;;</code></pre></div>

<p>然后在Vue中使用它：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;
    el:<span class="hljs-string">"#app"</span>,
    components:&#123;
        counter:counter <span class="hljs-comment">// 将定义的对象注册为组件</span>
    &#125;
&#125;)</code></pre></div>

<ul>
<li>components就是当前vue对象子组件集合。<ul>
<li>其key就是子组件名称</li>
<li>其值就是组件对象的属性</li>
</ul>
</li>
<li>效果与刚才的全局注册是类似的，不同的是，这个counter组件只能在当前的Vue实例中使用</li>
</ul>
<h2 id="6-4-组件通信"><a href="#6-4-组件通信" class="headerlink" title="6.4.组件通信"></a>6.4.组件通信</h2><p>通常一个单页应用会以一棵嵌套的组件树的形式来组织：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1525855149491.png" srcset="/img/loading.gif" alt="1525855149491"></p>
<ul>
<li>页面首先分成了顶部导航、左侧内容区、右侧边栏三部分</li>
<li>左侧内容区又分为上下两个组件</li>
<li>右侧边栏中又包含了3个子组件</li>
</ul>
<p>各个组件之间以嵌套的关系组合在一起，那么这个时候不可避免的会有组件间通信的需求。</p>
<h3 id="6-4-1-props（父向子传递）"><a href="#6-4-1-props（父向子传递）" class="headerlink" title="6.4.1.props（父向子传递）"></a>6.4.1.props（父向子传递）</h3><ol>
<li>父组件使用子组件时，自定义属性（属性名任意，属性值为要传递的数据）</li>
<li>子组件通过props接收父组件属性</li>
</ol>
<p>父组件使用子组件，并自定义了title属性：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>打个招呼：<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-comment">&lt;!--使用子组件，同时传递title属性--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">introduce</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"大家好，我是锋哥"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    Vue.component(<span class="hljs-string">"introduce"</span>,&#123;</span>
<span class="actionscript">        <span class="hljs-comment">// 直接使用props接收到的属性来渲染页面</span></span>
<span class="handlebars"><span class="xml">        template:'<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;title&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>',</span></span>
<span class="actionscript">        props:[<span class="hljs-string">'title'</span>] <span class="hljs-comment">// 通过props来接收一个父组件传递的属性</span></span>
    &#125;)
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el:<span class="hljs-string">"#app"</span></span>
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530093525973.png" srcset="/img/loading.gif" alt="1530093525973"></p>
<h3 id="6-4-2-props验证"><a href="#6-4-2-props验证" class="headerlink" title="6.4.2.props验证"></a>6.4.2.props验证</h3><p>我们定义一个子组件，并接受复杂数据：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> myList = &#123;
    template: <span class="hljs-string">'\</span>
<span class="hljs-string">    &lt;ul&gt;\</span>
<span class="hljs-string">    	&lt;li v-for="item in items" :key="item.id"&gt;&#123;&#123;item.id&#125;&#125; : &#123;&#123;item.name&#125;&#125;&lt;/li&gt;\</span>
<span class="hljs-string">    &lt;/ul&gt;\</span>
<span class="hljs-string">    '</span>,
    props: &#123;
        items: &#123;
            type: <span class="hljs-built_in">Array</span>,
            <span class="hljs-keyword">default</span>: [],
            required: <span class="hljs-literal">true</span>
        &#125;
    &#125;
&#125;;</code></pre></div>

<ul>
<li>这个子组件可以对 items 进行迭代，并输出到页面。</li>
<li>props：定义需要从父组件中接收的属性<ul>
<li>items：是要接收的属性名称<ul>
<li>type：限定父组件传递来的必须是数组</li>
<li>default：默认值</li>
<li>required：是否必须</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>当 prop 验证失败的时候，(开发环境构建版本的) Vue 将会产生一个控制台的警告。</strong> </p>
<p>我们在父组件中使用它：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>传智播客已开设如下课程：<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 使用子组件的同时，传递属性，这里使用了v-bind，指向了父组件自己的属性lessons --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">my-list</span> <span class="hljs-attr">:items</span>=<span class="hljs-string">"lessons"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;
    el:<span class="hljs-string">"#app"</span>,
    components:&#123;
        myList <span class="hljs-comment">// 当key和value一样时，可以只写一个</span>
    &#125;,
    data:&#123;
        lessons:[
            &#123;<span class="hljs-attr">id</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'java'</span>&#125;,
            &#123;<span class="hljs-attr">id</span>:<span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'php'</span>&#125;,
            &#123;<span class="hljs-attr">id</span>:<span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ios'</span>&#125;,
        ]
    &#125;
&#125;)</code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530107338625.png" srcset="/img/loading.gif" alt="1530107338625"></p>
<p>type类型，可以有：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530108427358.png" srcset="/img/loading.gif" alt="1530108427358"></p>
<h3 id="6-4-3-动态静态传递"><a href="#6-4-3-动态静态传递" class="headerlink" title="6.4.3.动态静态传递"></a>6.4.3.动态静态传递</h3><p>给 prop 传入一个静态的值： </p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">introduce</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"大家好，我是锋哥"</span>/&gt;</span></code></pre></div>

<p>给 prop 传入一个动态的值： （通过v-bind从数据模型中，获取title的值）</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">introduce</span> <span class="hljs-attr">:title</span>=<span class="hljs-string">"title"</span>/&gt;</span></code></pre></div>

<p>静态传递时，我们传入的值都是字符串类型的，但实际上<strong>任何类型</strong>的值都可以传给一个 props。 </p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 即便 `42` 是静态的，我们仍然需要 `v-bind` 来告诉 Vue --&gt;</span>
<span class="hljs-comment">&lt;!-- 这是一个JavaScript表达式而不是一个字符串。--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">blog-post</span> <span class="hljs-attr">v-bind:likes</span>=<span class="hljs-string">"42"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">blog-post</span>&gt;</span>

<span class="hljs-comment">&lt;!-- 用一个变量进行动态赋值。--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">blog-post</span> <span class="hljs-attr">v-bind:likes</span>=<span class="hljs-string">"post.likes"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">blog-post</span>&gt;</span></code></pre></div>



<h3 id="6-4-4-子向父的通信"><a href="#6-4-4-子向父的通信" class="headerlink" title="6.4.4.子向父的通信"></a>6.4.4.子向父的通信</h3><p>来看这样的一个案例：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>num: &#123;&#123;num&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-comment">&lt;!--使用子组件的时候，传递num到子组件中--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span> <span class="hljs-attr">:num</span>=<span class="hljs-string">"num"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    Vue.component(<span class="hljs-string">"counter"</span>, &#123;<span class="hljs-comment">// 子组件，定义了两个按钮，点击数字num会加或减</span></span>
        template:'\
<span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\</span></span>
<span class="handlebars"><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"num++"</span>&gt;</span>加<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>  \</span></span>
<span class="handlebars"><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"num--"</span>&gt;</span>减<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>  \</span></span>
<span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>',</span></span>
<span class="actionscript">        props:[<span class="hljs-string">'num'</span>]<span class="hljs-comment">// count是从父组件获取的。</span></span>
    &#125;)
<span class="actionscript">    <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el:<span class="hljs-string">"#app"</span>,</span>
        data:&#123;
            num:0
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<ul>
<li>子组件接收父组件的num属性</li>
<li>子组件定义点击按钮，点击后对num进行加或减操作</li>
</ul>
<p>我们尝试运行，好像没问题，点击按钮试试：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530115066496.png" srcset="/img/loading.gif" alt="1525859093172"></p>
<p>子组件接收到父组件属性后，默认是不允许修改的。怎么办？</p>
<p>既然只有父组件能修改，那么加和减的操作一定是放在父组件：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;
    el:<span class="hljs-string">"#app"</span>,
    data:&#123;
        num:<span class="hljs-number">0</span>
    &#125;,
    methods:&#123; <span class="hljs-comment">// 父组件中定义操作num的方法</span>
        increment()&#123;
            <span class="hljs-keyword">this</span>.num++;
        &#125;,
        decrement()&#123;
            <span class="hljs-keyword">this</span>.num--;
        &#125;
    &#125;
&#125;)</code></pre></div>

<p>但是，点击按钮是在子组件中，那就是说需要子组件来调用父组件的函数，怎么做？</p>
<p>我们可以<strong>通过v-on指令将父组件的函数绑定到子组件</strong>上：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>num: &#123;&#123;num&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span> <span class="hljs-attr">:count</span>=<span class="hljs-string">"num"</span> @<span class="hljs-attr">inc</span>=<span class="hljs-string">"increment"</span> @<span class="hljs-attr">dec</span>=<span class="hljs-string">"decrement"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p>在子组件中定义函数，函数的具体实现调用父组件的实现，并在子组件中调用这些函数。当子组件中按钮被点击时，调用绑定的函数：</p>
<div class="hljs"><pre><code class="hljs js">Vue.component(<span class="hljs-string">"counter"</span>, &#123;
    template:<span class="hljs-string">'\</span>
<span class="hljs-string">        &lt;div&gt;\</span>
<span class="hljs-string">            &lt;button @click="plus"&gt;加&lt;/button&gt;  \</span>
<span class="hljs-string">            &lt;button @click="reduce"&gt;减&lt;/button&gt;  \</span>
<span class="hljs-string">        &lt;/div&gt;'</span>,
    props:[<span class="hljs-string">'count'</span>],
    methods:&#123;
        plus()&#123;
            <span class="hljs-keyword">this</span>.$emit(<span class="hljs-string">"inc"</span>);
        &#125;,
        reduce()&#123;
            <span class="hljs-keyword">this</span>.$emit(<span class="hljs-string">"dec"</span>);
        &#125;
    &#125;
&#125;)</code></pre></div>

<ul>
<li>vue提供了一个内置的this.$emit()函数，用来调用父组件绑定的函数</li>
</ul>
<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/61.gif" srcset="/img/loading.gif" alt></p>
<h1 id="7-路由vue-router"><a href="#7-路由vue-router" class="headerlink" title="7.路由vue-router"></a>7.路由vue-router</h1><h2 id="7-1-场景模拟"><a href="#7-1-场景模拟" class="headerlink" title="7.1.场景模拟"></a>7.1.场景模拟</h2><p>现在我们来实现这样一个功能：</p>
<p>一个页面，包含登录和注册，点击不同按钮，实现登录和注册页切换：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/%E4%B9%90%E4%BC%98/day05-Vue/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/8.gif" srcset="/img/loading.gif" alt></p>
<h3 id="7-1-1-编写父组件"><a href="#7-1-1-编写父组件" class="headerlink" title="7.1.1.编写父组件"></a>7.1.1.编写父组件</h3><p>为了让接下来的功能比较清晰，我们先新建一个文件夹：src</p>
<p>然后新建一个HTML文件，作为入口：index.html</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530148321175.png" srcset="/img/loading.gif" alt="1530148321175"></p>
<p>然后编写页面的基本结构：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>登录<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>注册<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        登录页/注册页
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"../node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el:<span class="hljs-string">"#app"</span></span>
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>样式：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530149363817.png" srcset="/img/loading.gif" alt="1530149363817"></p>
<h3 id="7-1-2-编写登录及注册组件"><a href="#7-1-2-编写登录及注册组件" class="headerlink" title="7.1.2.编写登录及注册组件"></a>7.1.2.编写登录及注册组件</h3><p>接下来我们来实现登录组件，以前我们都是写在一个文件中，但是为了复用性，开发中都会把组件放入独立的JS文件中，我们新建一个user目录以及login.js及register.js：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530156389366.png" srcset="/img/loading.gif" alt="1530156389366"></p>
<p>编写组件，这里我们只写模板，不写功能。</p>
<p>login.js内容如下：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> loginForm = &#123;
    template:<span class="hljs-string">'\</span>
<span class="hljs-string">    &lt;div&gt;\</span>
<span class="hljs-string">    &lt;h2&gt;登录页&lt;/h2&gt; \</span>
<span class="hljs-string">    用户名：&lt;input type="text"&gt;&lt;br/&gt;\</span>
<span class="hljs-string">    密码：&lt;input type="password"&gt;&lt;br/&gt;\</span>
<span class="hljs-string">    &lt;/div&gt;\</span>
<span class="hljs-string">    '</span>
&#125;</code></pre></div>

<p>register.js内容：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> registerForm = &#123;
    template:<span class="hljs-string">'\</span>
<span class="hljs-string">    &lt;div&gt;\</span>
<span class="hljs-string">    &lt;h2&gt;注册页&lt;/h2&gt; \</span>
<span class="hljs-string">    用&amp;ensp;户&amp;ensp;名：&lt;input type="text"&gt;&lt;br/&gt;\</span>
<span class="hljs-string">    密&amp;emsp;&amp;emsp;码：&lt;input type="password"&gt;&lt;br/&gt;\</span>
<span class="hljs-string">    确认密码：&lt;input type="password"&gt;&lt;br/&gt;\</span>
<span class="hljs-string">    &lt;/div&gt;\</span>
<span class="hljs-string">    '</span>
&#125;</code></pre></div>



<h3 id="7-1-3-在父组件中引用"><a href="#7-1-3-在父组件中引用" class="headerlink" title="7.1.3.在父组件中引用"></a>7.1.3.在父组件中引用</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>登录<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>注册<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-comment">&lt;!--&lt;loginForm&gt;&lt;/loginForm&gt;--&gt;</span>
        <span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">            疑问：为什么不采用上面的写法？</span>
<span class="hljs-comment">            由于html是大小写不敏感的，如果采用上面的写法，则被认为是&lt;loginform&gt;&lt;/loginform&gt;</span>
<span class="hljs-comment">            所以，如果是驼峰形式的组件，需要把驼峰转化为“-”的形式</span>
<span class="hljs-comment">         --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">login-form</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">login-form</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">register-form</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">register-form</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"../node_modules/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"user/login.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"user/register.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span>
<span class="actionscript">    <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span>
<span class="actionscript">        el: <span class="hljs-string">"#app"</span>,</span>
        components: &#123;
            loginForm,
            registerForm
        &#125;
    &#125;)
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530157389501.png" srcset="/img/loading.gif" alt="1530157389501"></p>
<h3 id="7-1-5-问题"><a href="#7-1-5-问题" class="headerlink" title="7.1.5.问题"></a>7.1.5.问题</h3><p>我们期待的是，当点击登录或注册按钮，分别显示登录页或注册页，而不是一起显示。</p>
<p>但是，如何才能动态加载组件，实现组件切换呢？</p>
<p>虽然使用原生的Html5和JS也能实现，但是官方推荐我们使用vue-router模块。</p>
<h2 id="7-2-vue-router简介和安装"><a href="#7-2-vue-router简介和安装" class="headerlink" title="7.2.vue-router简介和安装"></a>7.2.vue-router简介和安装</h2><p>使用vue-router和vue可以非常方便的实现 复杂单页应用的动态路由功能。</p>
<p>官网：<a href="https://router.vuejs.org/zh-cn/" target="_blank" rel="noopener">https://router.vuejs.org/zh-cn/</a></p>
<p>使用npm安装：<code>npm install vue-router --save</code> </p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530161293338.png" srcset="/img/loading.gif" alt="1530161293338"></p>
<p>在index.html中引入依赖：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"../node_modules/vue-router/dist/vue-router.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>



<h2 id="7-3-快速入门"><a href="#7-3-快速入门" class="headerlink" title="7.3.快速入门"></a>7.3.快速入门</h2><p>新建vue-router对象，并且指定路由规则：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">// 创建VueRouter对象</span>
<span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> VueRouter(&#123;
    routes:[ <span class="hljs-comment">// 编写路由规则</span>
        &#123;
            path:<span class="hljs-string">"/login"</span>, <span class="hljs-comment">// 请求路径</span>
            component:loginForm <span class="hljs-comment">// 组件名称</span>
        &#125;,
        &#123;<span class="hljs-attr">path</span>:<span class="hljs-string">"/register"</span>,<span class="hljs-attr">component</span>:registerForm&#125;,
    ]
&#125;)</code></pre></div>

<ul>
<li>创建VueRouter对象，并指定路由参数</li>
<li>routes：路由规则的数组，可以指定多个对象，每个对象是一条路由规则，包含以下属性：<ul>
<li>path：路由的路径</li>
<li>component：组件名称</li>
</ul>
</li>
</ul>
<p>在父组件中引入router对象：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;
    el:<span class="hljs-string">"#app"</span>,
    components:&#123;<span class="hljs-comment">// 引用登录和注册组件</span>
        loginForm,
        registerForm
    &#125;,
    router <span class="hljs-comment">// 引用上面定义的router对象</span>
&#125;)</code></pre></div>



<p>页面跳转控制：</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--router-link来指定跳转的路径--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span>&gt;</span>登录<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/register"</span>&gt;</span>注册<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-comment">&lt;!--vue-router的锚点--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<ul>
<li>通过<code>&lt;router-view&gt;</code>来指定一个锚点，当路由的路径匹配时，vue-router会自动把对应组件放到锚点位置进行渲染</li>
<li>通过<code>&lt;router-link&gt;</code>指定一个跳转链接，当点击时，会触发vue-router的路由功能，路径中的hash值会随之改变</li>
</ul>
<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/62.gif" srcset="/img/loading.gif" alt></p>
<p><strong>注意</strong>：单页应用中，页面的切换并不是页面的跳转。仅仅是地址最后的hash值变化。</p>
<p>事实上，我们总共就一个HTML：index.html</p>
<h1 id="8-webpack"><a href="#8-webpack" class="headerlink" title="8.webpack"></a>8.webpack</h1><p>Webpack 是一个前端资源的打包工具，它可以将js、image、css等资源当成一个模块进行打包。</p>
<p>中文官方网站：<a href="https://www.webpackjs.com/" target="_blank" rel="noopener">https://www.webpackjs.com/</a></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530168661348.png" srcset="/img/loading.gif" alt="1530168661348"></p>
<p>官网给出的解释：</p>
<blockquote>
<p>本质上，<em>webpack</em> 是一个现代 JavaScript 应用程序的<em>静态模块打包器(module bundler)</em>。当 webpack 处理应用程序时，它会递归地构建一个<em>依赖关系图(dependency graph)</em>，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 <em>bundle</em>。 </p>
</blockquote>
<p>为什么需要打包？</p>
<ul>
<li>将许多碎小文件打包成一个整体，减少单页面内的衍生请求次数，提高网站效率。</li>
<li>将ES6的高级语法进行转换编译，以兼容老版本的浏览器。</li>
<li>将代码打包的同时进行混淆，提高代码的安全性。</li>
</ul>
<h2 id="8-1-安装"><a href="#8-1-安装" class="headerlink" title="8.1.安装"></a>8.1.安装</h2><p>webpack支持全局安装和本地安装，官方推荐是本地安装，我们按照官方的来。</p>
<p>安装最新版本webpack，输入命令：<code>npm install --save-dev webpack</code></p>
<p> webpack 4+ 版本，你还需要安装 CLI ，输入命令：<code>npm install webpack webpack-cli --save-dev</code></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530187524815.png" srcset="/img/loading.gif" alt="1530187524815"></p>
<p>此时，我们注意下项目中文件夹下，会有一个package.json文件。（其实早就有了）</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530187744149.png" srcset="/img/loading.gif" alt="1530187744149"></p>
<p>打开文件，可以看到我们之前用npm安装过的文件都会出现在这里：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1525873343908.png" srcset="/img/loading.gif" alt="1525873343908"></p>
<h2 id="8-2-核心概念"><a href="#8-2-核心概念" class="headerlink" title="8.2.核心概念"></a>8.2.核心概念</h2><p>学习Webpack，你需要先理解四个<strong>核心概念</strong>：</p>
<ul>
<li><p>入口(entry)</p>
<p>webpack打包的起点，可以有一个或多个，一般是js文件。webpack会从启点文件开始，寻找启点直接或间接依赖的其它所有的依赖，包括JS、CSS、图片资源等，作为将来打包的原始数据</p>
</li>
<li><p>输出(output)</p>
<p>出口一般包含两个属性：path和filename。用来告诉webpack打包的目标文件夹，以及文件的名称。目的地也可以有多个。</p>
</li>
<li><p>加载器（loader）</p>
<p>webpack本身只识别Js文件，如果要加载非JS文件，必须指定一些额外的加载器（loader），例如css-loader。然后将这些文件转为webpack能处理的有效模块，最后利用webpack的打包能力去处理。</p>
</li>
<li><p>插件(plugins)</p>
<p>插件可以扩展webpack的功能，让webpack不仅仅是完成打包，甚至各种更复杂的功能，或者是对打包功能进行优化、压缩，提高效率。</p>
</li>
</ul>
<h2 id="8-3-编写webpack配置"><a href="#8-3-编写webpack配置" class="headerlink" title="8.3.编写webpack配置"></a>8.3.编写webpack配置</h2><p>接下来，我们编写一个webpack的配置，来指定一些打包的配置项。配置文件的名称，默认就是webpack.config.js，我们放到hello-vue的根目录：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530199761226.png" srcset="/img/loading.gif" alt="1530199761226"></p>
<p>配置文件中就是要指定上面说的四个核心概念，入口、出口、加载器、插件。</p>
<p>不过，加载器和插件是可选的。我们先编写入口和出口</p>
<h3 id="8-3-1-入口entry"><a href="#8-3-1-入口entry" class="headerlink" title="8.3.1.入口entry"></a>8.3.1.入口entry</h3><p>webpack打包的启点，可以有一个或多个，一般是js文件。现在思考一下我们有没有一个入口？貌似没有，我们所有的东西都集中在index.html，不是一个js，那怎么办？</p>
<p>我们新建一个js，把index.html中的部分内容进行集中，然后在index.html中引用这个js不就OK了！</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530200787599.png" srcset="/img/loading.gif" alt="1530200787599"></p>
<p>然后把原来index.html中的js代码全部移动到index.js中</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">// 使用es6的语法导入js模块</span>
<span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'../node_modules/vue/dist/vue'</span>;
<span class="hljs-keyword">import</span> VueRouter <span class="hljs-keyword">from</span> <span class="hljs-string">'../node_modules/vue-router/dist/vue-router'</span>;
<span class="hljs-keyword">import</span> loginForm <span class="hljs-keyword">from</span> <span class="hljs-string">'./user/login'</span>;
<span class="hljs-keyword">import</span> registerForm <span class="hljs-keyword">from</span> <span class="hljs-string">'./user/register'</span>;

Vue.use(VueRouter);

<span class="hljs-comment">// 创建vue对象</span>
<span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> VueRouter(&#123;
    routes: [ <span class="hljs-comment">// 编写路由规则</span>
        <span class="hljs-comment">// path: 路由请求路径；component：组件名称</span>
        &#123;<span class="hljs-attr">path</span>: <span class="hljs-string">"/login"</span>, <span class="hljs-attr">component</span>: loginForm&#125;,
        &#123;<span class="hljs-attr">path</span>: <span class="hljs-string">"/register"</span>, <span class="hljs-attr">component</span>: registerForm&#125;
    ]
&#125;);
<span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;
    el: <span class="hljs-string">"#app"</span>,
    components: &#123;
        loginForm,
        registerForm
    &#125;,
    router
&#125;);</code></pre></div>

<ul>
<li><p>原来的index.html中引入了很多其它js，在这里我们使用es6的import语法进行导入。</p>
</li>
<li><p>​</p>
<p>注意，要使用import，就需要在login.js和register.js中添加export导出语句：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> loginForm=&#123;
    template: <span class="hljs-string">'\</span>
<span class="hljs-string">       &lt;div&gt;\</span>
<span class="hljs-string">            &lt;h2&gt;登陆页&lt;/h2&gt;\</span>
<span class="hljs-string">            用户名：&lt;input type="text"&gt;&lt;br&gt;\</span>
<span class="hljs-string">            密&amp;emsp;码：&lt;input type="password"&gt;\</span>
<span class="hljs-string">       &lt;/div&gt;'</span>,
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> loginForm;</code></pre></div>

<p>register.js:</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> registerForm = &#123;
    template:<span class="hljs-string">'\</span>
<span class="hljs-string">    &lt;div&gt;\</span>
<span class="hljs-string">    &lt;h2&gt;注册页&lt;/h2&gt; \</span>
<span class="hljs-string">    用&amp;ensp;户&amp;ensp;名：&lt;input type="text"&gt;&lt;br/&gt;\</span>
<span class="hljs-string">    密&amp;emsp;&amp;emsp;码：&lt;input type="password"&gt;&lt;br/&gt;\</span>
<span class="hljs-string">    确认密码：&lt;input type="password"&gt;&lt;br/&gt;\</span>
<span class="hljs-string">    &lt;/div&gt;\</span>
<span class="hljs-string">    '</span>
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> registerForm;</code></pre></div>


</li>
</ul>
<ul>
<li>vue-router使用模块化加载后，必须增加一句：Vue.use(VueRouter)</li>
</ul>
<p>这样，index.js就成了我们整个配置的入口了。</p>
<p>我们在webpack.config.js中添加以下内容：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-built_in">module</span>.exports=&#123;
    entry:<span class="hljs-string">'./src/index.js'</span>,  <span class="hljs-comment">//指定打包的入口文件</span>
&#125;</code></pre></div>



<h3 id="8-3-2-出口output"><a href="#8-3-2-出口output" class="headerlink" title="8.3.2.出口output"></a>8.3.2.出口output</h3><p>出口，就是输出的目的地。一般我们会用一个dist目录，作为打包输出的文件夹：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530201612391.png" srcset="/img/loading.gif" alt="1530201612391"></p>
<p>然后，编写webpack.config.js，添加出口配置：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-built_in">module</span>.exports=&#123;
    entry:<span class="hljs-string">'./src/main.js'</span>,  <span class="hljs-comment">//指定打包的入口文件</span>
    output:&#123;
        <span class="hljs-comment">// path: 输出的目录，__dirname是相对于webpack.config.js配置文件的绝对路径</span>
        path : __dirname+<span class="hljs-string">'/dist'</span>,  
        filename:<span class="hljs-string">'build.js'</span>	 <span class="hljs-comment">//输出的js文件名</span>
    &#125;
&#125;</code></pre></div>



<h2 id="8-4-执行打包"><a href="#8-4-执行打包" class="headerlink" title="8.4.执行打包"></a>8.4.执行打包</h2><p>在控制台输入以下命令：</p>
<div class="hljs"><pre><code class="hljs arduino">npx webpack --<span class="hljs-built_in">config</span> webpack.<span class="hljs-built_in">config</span>.js</code></pre></div>

<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530203361613.png" srcset="/img/loading.gif" alt="1530203361613"></p>
<p>随后，查看dist目录：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530203406462.png" srcset="/img/loading.gif" alt="1530203406462"></p>
<p>尝试打开build.js，你根本看不懂：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530203465737.png" srcset="/img/loading.gif" alt="1530203465737"></p>
<p>所有的js合并为1个，并且对变量名进行了随机打乱，这样就起到了 压缩、混淆的作用。</p>
<h2 id="8-5-测试运行"><a href="#8-5-测试运行" class="headerlink" title="8.5.测试运行"></a>8.5.测试运行</h2><p>在index.html中引入刚刚生成的build.js文件，</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
        <span class="hljs-comment">&lt;!--router-link来指定跳转的路径--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span>&gt;</span>登录<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/register"</span>&gt;</span>注册<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-comment">&lt;!--vue-router的锚点--&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"../dist/build.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div>



<p>然后运行：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530203553915.png" srcset="/img/loading.gif" alt="1530203553915"></p>
<h2 id="8-6-打包CSS"><a href="#8-6-打包CSS" class="headerlink" title="8.6.打包CSS"></a>8.6.打包CSS</h2><p>我们来编写一段CSS代码，对index的样式做一些美化：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530203880056.png" srcset="/img/loading.gif" alt="1530203880056"></p>
<p>内容：</p>
<div class="hljs"><pre><code class="hljs css"><span class="hljs-selector-id">#app</span> <span class="hljs-selector-tag">a</span>&#123;
    <span class="hljs-attribute">display</span>: inline-block;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;
    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">30px</span>;
    <span class="hljs-attribute">background-color</span>: dodgerblue;
    <span class="hljs-attribute">color</span>: white;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
    <span class="hljs-attribute">text-decoration</span>: none;
&#125;
<span class="hljs-selector-id">#app</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span>&#123;
    <span class="hljs-attribute">background-color</span>: whitesmoke;
    <span class="hljs-attribute">color</span>: dodgerblue;
&#125;
<span class="hljs-selector-id">#app</span> <span class="hljs-selector-tag">div</span>&#123;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>;
&#125;
<span class="hljs-selector-id">#app</span>&#123;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">305px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid dodgerblue;
&#125;</code></pre></div>



<h3 id="8-6-1-安装加载器"><a href="#8-6-1-安装加载器" class="headerlink" title="8.6.1.安装加载器"></a>8.6.1.安装加载器</h3><p>前面说过，webpack默认只支持js加载。要加载CSS文件，必须安装加载器：</p>
<p>命令：<code>npm install style-loader css-loader --save-dev</code></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530204068192.png" srcset="/img/loading.gif" alt="1530204068192"></p>
<p>此时，在package.json中能看到新安装的：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530204160848.png" srcset="/img/loading.gif" alt="1530204160848"></p>
<h3 id="8-6-3-index-js引入css文件"><a href="#8-6-3-index-js引入css文件" class="headerlink" title="8.6.3.index.js引入css文件"></a>8.6.3.index.js引入css文件</h3><p>因为入口在index.js，因此css文件也要在这里引入。依然使用ES6 的模块语法：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-string">'./css/main.css'</span></code></pre></div>

<h3 id="8-6-4-配置加载器"><a href="#8-6-4-配置加载器" class="headerlink" title="8.6.4.配置加载器"></a>8.6.4.配置加载器</h3><p>在webpack.config.js配置文件中配置css的加载器</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-built_in">module</span>.exports = &#123;
    entry: <span class="hljs-string">'./src/main.js'</span>,  <span class="hljs-comment">//指定打包的入口文件</span>
    output: &#123;
        path: __dirname + <span class="hljs-string">'/dist'</span>, <span class="hljs-comment">// 注意：__dirname表示webpack.config.js所在目录的绝对路径</span>
        filename: <span class="hljs-string">'build.js'</span>  <span class="hljs-comment">//输出文件</span>
    &#125;,
    <span class="hljs-built_in">module</span>: &#123;
        rules: [
            &#123;
                test: <span class="hljs-regexp">/\.css$/</span>, <span class="hljs-comment">// 通过正则表达式匹配所有以.css后缀的文件</span>
                use: [ <span class="hljs-comment">// 要使用的加载器，这两个顺序一定不要乱</span>
                    <span class="hljs-string">'style-loader'</span>,
                    <span class="hljs-string">'css-loader'</span>
                ]
            &#125;
        ]
    &#125;
&#125;</code></pre></div>

<h3 id="8-6-5-重新打包"><a href="#8-6-5-重新打包" class="headerlink" title="8.6.5.重新打包"></a>8.6.5.重新打包</h3><p>再次输入打包指令：<code>npx webpack --config webpack.config.js</code></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530204780240.png" srcset="/img/loading.gif" alt="1530204780240"></p>
<p>效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530204813013.png" srcset="/img/loading.gif" alt="1530204813013"></p>
<h2 id="8-7-script脚本"><a href="#8-7-script脚本" class="headerlink" title="8.7.script脚本"></a>8.7.script脚本</h2><p>我们每次使用npm安装，都会在package.json中留下痕迹，事实上，package.json中不仅可以记录安装的内容，还可编写脚本，让我们运行命令更加快捷。</p>
<p>我们可以把webpack的命令编入其中：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530205423730.png" srcset="/img/loading.gif" alt="1530205423730"></p>
<p>以后，如果要打包，就可以直接输入：<code>npm run build</code>即可。</p>
<p><code>npm run</code> ：执行npm脚本，后面跟的是配置脚本的名称<code>build</code></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530205504104.png" srcset="/img/loading.gif" alt="1530205504104"></p>
<h2 id="8-8-打包HTML"><a href="#8-8-打包HTML" class="headerlink" title="8.8.打包HTML"></a>8.8.打包HTML</h2><p>之前的打包过程中，除了HTML文件外的其它文件都被打包了，当在线上部署时，我们还得自己复制HTML到dist，然后手动添加生成的js到HTML中，这非常不友好。</p>
<p>webpack中的一个插件：html-webpack-plugin，可以解决这个问题。</p>
<p>1）安装插件：<code>npm install --save-dev html-webpack-plugin</code></p>
<p>需要在webpack.config.js中添加插件：</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">const</span> HtmlWebpackPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'html-webpack-plugin'</span>);

<span class="hljs-built_in">module</span>.exports = &#123;
    entry: <span class="hljs-string">'./src/main.js'</span>,  <span class="hljs-comment">//指定打包的入口文件</span>
    output: &#123;
        path: __dirname + <span class="hljs-string">'/dist'</span>,  <span class="hljs-comment">// 注意：__dirname表示webpack.config.js所在目录的绝对路径</span>
        filename: <span class="hljs-string">'build.js'</span>		   <span class="hljs-comment">//输出文件</span>
    &#125;,
    <span class="hljs-built_in">module</span>: &#123;
        rules: [
            &#123;
                test: <span class="hljs-regexp">/\.css$/</span>, <span class="hljs-comment">// 通过正则表达式匹配所有以.css后缀的文件</span>
                use: [ <span class="hljs-comment">// 要使用的加载器，这两个顺序一定不要乱</span>
                    <span class="hljs-string">'style-loader'</span>,
                    <span class="hljs-string">'css-loader'</span>
                ]
            &#125;
        ]
    &#125;,
    plugins:[
        <span class="hljs-keyword">new</span> HtmlWebpackPlugin(&#123;
            title: <span class="hljs-string">'首页'</span>,  <span class="hljs-comment">//生成的页面标题&lt;head&gt;&lt;title&gt;首页&lt;/title&gt;&lt;/head&gt;</span>
            filename: <span class="hljs-string">'index.html'</span>, <span class="hljs-comment">// dist目录下生成的文件名</span>
            template: <span class="hljs-string">'./src/index.html'</span> <span class="hljs-comment">// 我们原来的index.html，作为模板</span>
        &#125;)
    ]
&#125;</code></pre></div>



<p>2）将原来HTML中的引入js代码删除：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530207035782.png" srcset="/img/loading.gif" alt="1530207035782"></p>
<p>3）再次打包：<code>npm run build</code></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530206990349.png" srcset="/img/loading.gif" alt="1530206990349"></p>
<p>4）查看dist目录：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530207132261.png" srcset="/img/loading.gif" alt="1530207132261"></p>
<p>打开index.html，发现已经自动添加了当前目录下的build.js</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
        <span class="hljs-comment">&lt;!--router-link来指定跳转的路径--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span>&gt;</span>登录<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/register"</span>&gt;</span>注册<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-comment">&lt;!--vue-router的锚点--&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"build.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div>



<h2 id="8-9-热更新的web服务"><a href="#8-9-热更新的web服务" class="headerlink" title="8.9.热更新的web服务"></a>8.9.热更新的web服务</h2><p>刚才的案例中，每次修改任何js或css内容，都必须重新打包，非常麻烦。</p>
<p>webpack给我们提供了一个插件，可以帮我们运行一个web服务，加载页面内容，并且修改js后不需要重新加载就能看到最新结果：</p>
<p>1）安装插件：<code>npm install webpack-dev-server --save-dev</code></p>
<p>2）添加启动脚本</p>
<p>在package.json中配置script</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-string">"scripts"</span>: &#123;
  <span class="hljs-string">"dev"</span>: <span class="hljs-string">"webpack-dev-server --inline --hot --open --port 8080 --host 127.0.0.1"</span>
&#125;,</code></pre></div>

<p>–inline：自动刷新</p>
<p>–hot：热加载</p>
<p>–port：指定端口</p>
<p>–open：自动在默认浏览器打开</p>
<p>–host：可以指定服务器的 ip，不指定则为127.0.0.1</p>
<p>3）运行脚本：<code>npm run dev</code></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530207667660.png" srcset="/img/loading.gif" alt="1530207667660"></p>
<p>4）效果：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530207505226.png" srcset="/img/loading.gif" alt="1530207505226"></p>
<h1 id="9-vue-cli"><a href="#9-vue-cli" class="headerlink" title="9.vue-cli"></a>9.vue-cli</h1><h2 id="9-1-介绍和安装"><a href="#9-1-介绍和安装" class="headerlink" title="9.1.介绍和安装"></a>9.1.介绍和安装</h2><p>在开发中，需要打包的东西不止是js、css、html。还有更多的东西要处理，这些插件和加载器如果我们一一去添加就会比较麻烦。</p>
<p>幸好，vue官方提供了一个快速搭建vue项目的脚手架：vue-cli</p>
<p>使用它能快速的构建一个web工程模板。</p>
<p>官网：<a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener">https://github.com/vuejs/vue-cli</a></p>
<p>安装命令：<code>npm install -g vue-cli</code></p>
<h2 id="9-2-快速上手"><a href="#9-2-快速上手" class="headerlink" title="9.2.快速上手"></a>9.2.快速上手</h2><p>我们新建一个module：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530208068828.png" srcset="/img/loading.gif" alt="1530208068828"></p>
<p>切换到该目录：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530208139922.png" srcset="/img/loading.gif" alt="1530208139922"></p>
<p>用vue-cli命令，快速搭建一个webpack的项目：<code>vue init webpack</code></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530208650256.png" srcset="/img/loading.gif" alt="1530208556831"></p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530208708000.png" srcset="/img/loading.gif" alt="1530208708000"></p>
<p>前面几项都走默认或yes</p>
<p>下面这些我们选no</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530208850418.png" srcset="/img/loading.gif" alt="1530208850418"></p>
<p>最后，再选yes，使用 npm安装</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530208897063.png" srcset="/img/loading.gif" alt="1530208897063"></p>
<p>开始初始化项目，并安装依赖，可能需要</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530208932814.png" srcset="/img/loading.gif" alt="1530208932814"></p>
<p>安装成功！</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530209062090.png" srcset="/img/loading.gif" alt="1530209062090"></p>
<p>可以使用<code>npm run dev</code>命令启动。</p>
<h2 id="9-3-项目结构"><a href="#9-3-项目结构" class="headerlink" title="9.3.项目结构"></a>9.3.项目结构</h2><p>安装好的项目结构：</p>
<p> <img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530209146349.png" srcset="/img/loading.gif" alt="1530209146349"></p>
<p>入口文件：main.js</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530209503007.png" srcset="/img/loading.gif" alt="1525913687860"></p>
<h2 id="9-4-单文件组件"><a href="#9-4-单文件组件" class="headerlink" title="9.4.单文件组件"></a>9.4.单文件组件</h2><p>需要注意的是，我们看到有一类后缀名为.vue的文件，我们称为单文件组件</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530209769323.png" srcset="/img/loading.gif" alt="1530209769323"></p>
<p>每一个.vue文件，就是一个独立的vue组件。类似于我们刚才写的login.js和register.js</p>
<p>只不过，我们在js中编写 html模板和样式非常的不友好，而且没有语法提示和高亮。</p>
<p>而单文件组件中包含三部分内容：</p>
<ul>
<li>template：模板，支持html语法高亮和提示</li>
<li>script：js脚本，这里编写的就是vue的组件对象，还可以有data(){}等</li>
<li>style：样式，支持CSS语法高亮和提示</li>
</ul>
<p>每个组件都有自己独立的html、JS、CSS，互不干扰，真正做到可独立复用。</p>
<h2 id="9-5-运行"><a href="#9-5-运行" class="headerlink" title="9.5.运行"></a>9.5.运行</h2><p>看看生成的package.json：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530210016103.png" srcset="/img/loading.gif" alt="1530210016103"></p>
<ul>
<li>可以看到这引入了非常多的依赖，绝大多数都是开发期依赖，比如大量的加载器。</li>
<li>运行时依赖只有vue和vue-router</li>
<li>脚本有三个：<ul>
<li>dev：使用了webpack-dev-server命令，开发时热部署使用</li>
<li>start：使用了npm run dev命令，与上面的dev效果完全一样，当脚本名为“start”时，可以省略“run”。 </li>
<li>build：等同于webpack的打包功能，会打包到dist目录下。</li>
</ul>
</li>
</ul>
<p>我们执行<code>npm run dev</code> 或者 <code>npm start</code> 都可以启动项目：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530210411076.png" srcset="/img/loading.gif" alt="1530210411076"></p>
<p>页面：</p>
<p><img src="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday05/1530210349704.png" srcset="/img/loading.gif" alt="1530210349704"></p>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/">乐优商城</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/vue/">vue</a>
                    
                      <a class="hover-with-bg" href="/tags/webpack/">webpack</a>
                    
                      <a class="hover-with-bg" href="/tags/vue-cli/">vue-cli</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2020/09/21/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8Eday04/">
                        <span class="hidden-mobile">乐优商城day04：项目搭建</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
  </div>
</div>
<!--

代码块js 用不到，fulid自带有，添加css样式即可实现
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
<script type="text/javascript" src="/libs/codeBlock/clipboard.min.js"></script>

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script> 

<style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style>

-->




<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键字</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
	<div>
  <span id="timeDate">载入天数...</span>
  <span id="times">载入时分秒...</span>
  <script>
  var now = new Date();
  function createtime(){
      var grt= new Date("06/20/2020 00:00:00");//此处修改你的建站时间或者网站上线时间
      now.setTime(now.getTime()+250);
      days = (now - grt ) / 1000 / 60 / 60 / 24;
      dnum = Math.floor(days);
      hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
      hnum = Math.floor(hours);
      if(String(hnum).length ==1 ){
          hnum = "0" + hnum;
      }
      minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
      mnum = Math.floor(minutes);
      if(String(mnum).length ==1 ){
                mnum = "0" + mnum;
      }
      seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
      snum = Math.round(seconds);
      if(String(snum).length ==1 ){
                snum = "0" + snum;
      }
      document.getElementById("timeDate").innerHTML = "本站勉强运行&nbsp"+dnum+"&nbsp天";
      document.getElementById("times").innerHTML = hnum + "&nbsp小时&nbsp" + mnum + "&nbsp分&nbsp" + snum + "&nbsp秒";
  }
  setInterval("createtime()",250);
  </script>
</div>
    
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


    
  <!-- 备案信息 -->
  <div class="beian">
    <a href="http://beian.miit.gov.cn/" target="_blank"
       rel="nofollow noopener">京ICP证20000725号</a>
    
      <a
        href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=20000725"
        rel="nofollow noopener"
        class="beian-police"
        target="_blank"
      >
        <span class="beian-police-sep">&nbsp;|&nbsp;</span>
        
          <img src="/img/police_beian.png" srcset="/img/loading.gif" alt="police-icon" />
        
        <span>京公网安备20000725号</span>
      </a>
     
  </div>


    
	
  </div>
  

</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>



  
<script src="/js/custom.js"></script>




  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "乐优商城day05：vue入门&nbsp;",
      ],
      cursorChar: "|",
      typeSpeed: 65,
      loop: true,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
      icon: "<"
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>







  
  
    <script>
      !function (e, t, a) {
        function r() {
          for (var e = 0; e < s.length; e++) s[e].alpha <= 0 ? (t.body.removeChild(s[e].el), s.splice(e, 1)) : (s[e].y--, s[e].scale += .004, s[e].alpha -= .013, s[e].el.style.cssText = "left:" + s[e].x + "px;top:" + s[e].y + "px;opacity:" + s[e].alpha + ";transform:scale(" + s[e].scale + "," + s[e].scale + ") rotate(45deg);background:" + s[e].color + ";z-index:99999");
          requestAnimationFrame(r)
        }

        function n() {
          var t = "function" == typeof e.onclick && e.onclick;
          e.onclick = function (e) {
            t && t(), o(e)
          }
        }

        function o(e) {
          var a = t.createElement("div");
          a.className = "heart", s.push({
            el: a,
            x: e.clientX - 5,
            y: e.clientY - 5,
            scale: 1,
            alpha: 1,
            color: c()
          }), t.body.appendChild(a)
        }

        function i(e) {
          var a = t.createElement("style");
          a.type = "text/css";
          try {
            a.appendChild(t.createTextNode(e))
          } catch (t) {
            a.styleSheet.cssText = e
          }
          t.getElementsByTagName("head")[0].appendChild(a)
        }

        function c() {
          return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")"
        }

        var s = [];
        e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) {
          setTimeout(e, 1e3 / 60)
        }, i(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"), n(), r()
      }(window, document);
    </script>
  
















<script type="text/javascript"
color="107,160,220" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
