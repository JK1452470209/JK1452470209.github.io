<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Mr.JK">
  <meta name="keywords" content="">
  <title>å­¦æˆåœ¨çº¿day07 - Mr.JK</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/darcula.min.css" />
  

  


<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->

  
<link rel="stylesheet" href="/css/custom.css">



  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 4.2.1"></head>





<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>ç§äººåšå®¢</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                ä¸»é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äºæˆ‘
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/banner.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-08-13 21:05">
      2020-08-13
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      7k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      111
       åˆ†é’Ÿ
    </span>
  

  
  
    
      <!-- ä¸è’œå­ç»Ÿè®¡æ–‡ç« PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> æ¬¡
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
	
   
	
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div id="tocbot"></div>
</div>

      </div>
    
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <h1 id="ğŸ˜çŸ¥è¯†ç‚¹æ¦‚è§ˆ"><a href="#ğŸ˜çŸ¥è¯†ç‚¹æ¦‚è§ˆ" class="headerlink" title="ğŸ˜çŸ¥è¯†ç‚¹æ¦‚è§ˆ"></a>ğŸ˜çŸ¥è¯†ç‚¹æ¦‚è§ˆ</h1><blockquote>
<p>ä¸ºäº†æ–¹ä¾¿åç»­å›é¡¾è¯¥é¡¹ç›®æ—¶èƒ½å¤Ÿæ¸…æ™°çš„çŸ¥é“æœ¬ç« èŠ‚è®²äº†å“ªäº›å†…å®¹ï¼Œå¹¶ä¸”èƒ½å¤Ÿä»è¯¥ç« èŠ‚çš„ç¬”è®°ä¸­å¾—åˆ°ä¸€äº›å¸®åŠ©ï¼Œæ‰€ä»¥åœ¨å®Œæˆæœ¬ç« èŠ‚çš„å­¦ä¹ ååœ¨æ­¤å¯¹æœ¬ç« èŠ‚æ‰€æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹è¿›è¡Œæ€»ç»“æ¦‚è¿°ã€‚</p>
</blockquote>
<p>æœ¬ç« èŠ‚ä¸ºã€å­¦æˆåœ¨çº¿ã€‘é¡¹ç›®çš„ <code>day07</code> çš„å†…å®¹</p>
<ul>
<li>å¯¹è¯¾ç¨‹ç®¡ç†çš„CRUD</li>
<li>çº§è”èœå•</li>
<li>ä½¿ç”¨ <code>mongoDB</code> å‚¨å­˜æ•°æ®å­—å…¸</li>
</ul>
<h1 id="ä¸€ã€è¯¾ç¨‹æŸ¥è¯¢"><a href="#ä¸€ã€è¯¾ç¨‹æŸ¥è¯¢" class="headerlink" title="ä¸€ã€è¯¾ç¨‹æŸ¥è¯¢"></a>ä¸€ã€è¯¾ç¨‹æŸ¥è¯¢</h1><h2 id="1-éœ€æ±‚åˆ†æ"><a href="#1-éœ€æ±‚åˆ†æ" class="headerlink" title="1. éœ€æ±‚åˆ†æ"></a>1. éœ€æ±‚åˆ†æ</h2><p>è¯¾ç¨‹æ·»åŠ å®Œæˆåå¯é€šè¿‡æˆ‘çš„è¯¾ç¨‹è¿›å…¥è¯¾ç¨‹ä¿®æ”¹é¡µé¢ï¼Œæ­¤é¡µé¢æ˜¾ç¤ºæˆ‘çš„è¯¾ç¨‹åˆ—è¡¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯åˆ†é¡µæŸ¥è¯¢ã€‚</p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image1.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image1.png" srcset="/img/loading.gif" alt="image-20200403212250200"></a></p>
<p>ä¸Šè¾¹çš„æŸ¥è¯¢è¦å®ç°åˆ†é¡µã€ä¼šå­˜åœ¨å¤šè¡¨å…³è”æŸ¥è¯¢ï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨mybatiså®ç°æˆ‘çš„è¯¾ç¨‹æŸ¥è¯¢ã€‚</p>
<h2 id="2-å®šä¹‰APIæ¥å£"><a href="#2-å®šä¹‰APIæ¥å£" class="headerlink" title="2. å®šä¹‰APIæ¥å£"></a>2. å®šä¹‰APIæ¥å£</h2><p><strong>è¾“å…¥å‚æ•°</strong>ï¼šé¡µç ã€æ¯é¡µæ˜¾ç¤ºä¸ªæ•°ã€æŸ¥è¯¢æ¡ä»¶</p>
<p><strong>è¾“å‡ºç»“æœç±»å‹</strong>ï¼šQueryResponseResult&lt;è‡ªå®šä¹‰ç±»å‹&gt;ï¼Œåœ¨ <code>api</code> å·¥ç¨‹åˆ›å»º <code>course</code> åŒ…ï¼Œåˆ›å»º<code>CourseControllerApi</code> æ¥å£ã€‚</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Api</span>(value=<span class="hljs-string">"è¯¾ç¨‹ç®¡ç†API"</span>,description = <span class="hljs-string">"ç”¨äºå¯¹è¯¾ç¨‹çš„å¢åˆ æŸ¥æ”¹"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CourseControllerApi</span> </span>&#123;
	<span class="hljs-meta">@ApiOperation</span>(<span class="hljs-string">"åˆ†é¡µæŸ¥è¯¢è¯¾ç¨‹åˆ—è¡¨"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> QueryResponseResult <span class="hljs-title">findCourseList</span><span class="hljs-params">(<span class="hljs-keyword">int</span> page, <span class="hljs-keyword">int</span> size, CourseListRequest courseListRequest)</span></span>;
&#125;</code></pre></div>

<h2 id="3-è¯¾ç¨‹ç®¡ç†æœåŠ¡"><a href="#3-è¯¾ç¨‹ç®¡ç†æœåŠ¡" class="headerlink" title="3. è¯¾ç¨‹ç®¡ç†æœåŠ¡"></a>3. è¯¾ç¨‹ç®¡ç†æœåŠ¡</h2><h3 id="PageHelper"><a href="#PageHelper" class="headerlink" title="PageHelper"></a>PageHelper</h3><p><code>PageHelper</code> æ˜¯ <code>mybatis</code> çš„é€šç”¨åˆ†é¡µæ’ä»¶ï¼Œé€šè¿‡ <code>mybatis</code> çš„æ‹¦æˆªå™¨å®ç°åˆ†é¡µåŠŸèƒ½ï¼Œæ‹¦æˆªsqlæŸ¥è¯¢è¯·æ±‚ï¼Œæ·»åŠ åˆ†é¡µè¯­å¥ï¼Œæœ€ç»ˆå®ç°åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ã€‚</p>
<p>æˆ‘çš„è¯¾ç¨‹å…·æœ‰åˆ†é¡µåŠŸèƒ½ï¼Œæœ¬é¡¹ç›®ä½¿ç”¨ <code>Pagehelper</code> å®ç° <code>Mybatis</code> åˆ†é¡µåŠŸèƒ½å¼€å‘ï¼Œç”±äºæœ¬é¡¹ç›®ä½¿ç”¨ <code>springboot</code> å¼€å‘ï¼Œåœ¨ <code>springboot</code> ä¸Šé›†æˆ <code>pagehelper</code>ï¼ˆ<a href="https://github.com/pagehelper/pagehelper-spring-boot%EF%BC%89" target="_blank" rel="noopener">https://github.com/pagehelper/pagehelper-spring-bootï¼‰</a><code>PageHelper</code> çš„ä½¿ç”¨æ–¹æ³•åŠåŸç†å¦‚ä¸‹ï¼š</p>
<ul>
<li>åœ¨è°ƒç”¨ <code>dao</code> çš„ <code>service</code> æ–¹æ³•ä¸­è®¾ç½®åˆ†é¡µå‚æ•°ï¼š<strong>PageHelper.startPage(page, size)</strong>ï¼Œåˆ†é¡µå‚æ•°ä¼šè®¾ç½®åœ¨ <code>ThreadLocal</code> ä¸­</li>
<li><code>PageHelper</code> åœ¨ <code>mybatis</code> æ‰§è¡Œ <code>sql</code> å‰è¿›è¡Œæ‹¦æˆªï¼Œä» <code>ThreadLocal</code> å–å‡ºåˆ†é¡µå‚æ•°ï¼Œä¿®æ”¹å½“å‰æ‰§è¡Œçš„ <code>sql</code> è¯­å¥ï¼Œæ·»åŠ åˆ†é¡µ <code>sql</code>ã€‚</li>
<li>æœ€åæ‰§è¡Œæ·»åŠ äº†åˆ†é¡µ<code>sql</code>çš„ <code>sql</code>è¯­å¥ï¼Œå®ç°åˆ†é¡µæŸ¥è¯¢ã€‚</li>
</ul>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image2.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image2.png" srcset="/img/loading.gif" alt="image-20200403213815138"></a></p>
<p>1ï¼‰æ·»åŠ ä¾èµ–</p>
<div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelperâ€springâ€bootâ€starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div>

<p>2ï¼‰é…ç½®pageHelper</p>
<div class="hljs"><pre><code class="hljs yaml"><span class="hljs-attr">pagehelper:</span>
  <span class="hljs-string">helperâ€dialect:</span> <span class="hljs-string">mysql</span></code></pre></div>

<h3 id="Dao"><a href="#Dao" class="headerlink" title="Dao"></a>Dao</h3><p>1ï¼‰mapper æ¥å£</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.github.pagehelper.Page;
<span class="hljs-keyword">import</span> com.xuecheng.framework.domain.course.CourseBase;
<span class="hljs-keyword">import</span> com.xuecheng.framework.domain.course.ext.CourseInfo;
<span class="hljs-keyword">import</span> com.xuecheng.framework.domain.course.request.CourseListRequest;
<span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Mapper;
<span class="hljs-meta">@Mapper</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CourseMapper</span> </span>&#123;
    <span class="hljs-function">CourseBase <span class="hljs-title">findCourseBaseById</span><span class="hljs-params">(String id)</span></span>;
    <span class="hljs-function">Page&lt;CourseInfo&gt; <span class="hljs-title">findCourseListPage</span><span class="hljs-params">(CourseListRequest courseListRequest)</span></span>;
&#125;</code></pre></div>

<p>2ï¼‰mapper.xmlæ˜ å°„æ–‡ä»¶</p>
<div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"findCourseListPage"</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">"com.xuecheng.framework.domain.course.ext.CourseInfo"</span></span>
<span class="hljs-tag">        <span class="hljs-attr">parameterType</span>=<span class="hljs-string">"com.xuecheng.framework.domain.course.request.CourseListRequest"</span>&gt;</span>
    SELECT
    course_base.*,
    (SELECT pic FROM course_pic WHERE courseid = course_base.id) pic
    FROM
    course_base
<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></code></pre></div>

<ol>
<li>æµ‹è¯•dao</li>
</ol>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//æµ‹è¯•åˆ†é¡µ</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testPageHelper</span><span class="hljs-params">()</span></span>&#123;
    PageHelper.startPage(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>);
    CourseListRequest courseListRequest = <span class="hljs-keyword">new</span> CourseListRequest();
    Page&lt;CourseInfo&gt; courseListPage = courseMapper.findCourseListPage(courseListRequest);
    List&lt;CourseInfo&gt; result = courseListPage.getResult();
    System.out.println(courseListPage);
&#125;</code></pre></div>

<p>æµ‹è¯•å‰ä¿®æ”¹æ—¥å¿—çº§åˆ«ä¸ºdebugï¼Œå¹¶è·Ÿè¸ªè¿è¡Œæ—¥å¿—ï¼Œå‘ç°sqlè¯­å¥ä¸­å·²ç»åŒ…æ‹¬åˆ†é¡µè¯­å¥ã€‚</p>
<h3 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h3><p>å®šä¹‰CourseService.javaç±»ï¼Œç”¨äºè¯¾ç¨‹ç®¡ç†çš„serviceå®šä¹‰ï¼š</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/**</span>
<span class="hljs-comment">     * åˆ†é¡µæŸ¥è¯¢è¯¾ç¨‹ä¿¡æ¯</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@param</span> page</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@param</span> size</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@param</span> courseListRequest</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span>
<span class="hljs-comment">     */</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> QueryResponseResult <span class="hljs-title">findCourseList</span><span class="hljs-params">(<span class="hljs-keyword">int</span> page, <span class="hljs-keyword">int</span> size, CourseListRequest courseListRequest)</span></span>&#123;
        <span class="hljs-keyword">if</span> (page &lt;= <span class="hljs-number">0</span>)&#123;
            page = <span class="hljs-number">1</span>;
        &#125;
        <span class="hljs-keyword">if</span> (size &lt;= <span class="hljs-number">0</span>)&#123;
            size = <span class="hljs-number">4</span>;
        &#125;
        <span class="hljs-keyword">if</span>(courseListRequest == <span class="hljs-keyword">null</span>)&#123;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
        &#125;
        <span class="hljs-keyword">if</span> (courseListRequest.getCompanyId() == <span class="hljs-keyword">null</span>)&#123;
            <span class="hljs-comment">//æ²¡è¾“å…¥å…¬å¸idé»˜è®¤ä¸º1</span>
            courseListRequest.setCompanyId(<span class="hljs-string">"1"</span>);
        &#125;

        PageHelper.startPage(<span class="hljs-number">1</span>,<span class="hljs-number">7</span>);
        Page&lt;CourseInfo&gt; courseInfos = courseMapper.findCoursePageList(courseListRequest);

        <span class="hljs-keyword">long</span> total = courseInfos.getTotal();
        List&lt;CourseInfo&gt; result = courseInfos.getResult();

        QueryResult queryResult = <span class="hljs-keyword">new</span> QueryResult();
        queryResult.setTotal(total);
        queryResult.setList(result);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> QueryResponseResult(CommonCode.SUCCESS,queryResult);
    &#125;</code></pre></div>

<h3 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/course"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CourseController</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">CourseControllerApi</span> </span>&#123;
    <span class="hljs-meta">@Autowired</span>
    CourseService courseService;
    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">"/coursebase/list/&#123;page&#125;/&#123;size&#125;"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> QueryResponseResult&lt;CourseInfo&gt; <span class="hljs-title">findCourseList</span><span class="hljs-params">(</span></span>
<span class="hljs-function"><span class="hljs-params">            @PathVariable(<span class="hljs-string">"page"</span>)</span> <span class="hljs-keyword">int</span> page,</span>
<span class="hljs-function">            @<span class="hljs-title">PathVariable</span><span class="hljs-params">(<span class="hljs-string">"size"</span>)</span> <span class="hljs-keyword">int</span> size,</span>
<span class="hljs-function">            CourseListRequest courseListRequest) </span>&#123;
        <span class="hljs-keyword">return</span> courseService.findCourseList(page,size,courseListRequest);
    &#125;
&#125;</code></pre></div>

<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>ä½¿ç”¨ <code>postman</code> æˆ– <code>swagger-ui</code> æµ‹è¯•è¯¾ç¨‹åˆ—è¡¨æ¥å£ã€‚</p>
<h2 id="4-å‰ç«¯å¼€å‘"><a href="#4-å‰ç«¯å¼€å‘" class="headerlink" title="4. å‰ç«¯å¼€å‘"></a>4. å‰ç«¯å¼€å‘</h2><h3 id="é¡µé¢ç¼–å†™"><a href="#é¡µé¢ç¼–å†™" class="headerlink" title="é¡µé¢ç¼–å†™"></a>é¡µé¢ç¼–å†™</h3><p>åˆ›å»º ourse_list.vue</p>
<p>1ï¼‰ä½¿ç”¨element çš„cardç»„ä»¶</p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image3.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image3.png" srcset="/img/loading.gif" alt="image-20200403214719252"></a></p>
<p>é¡µé¢å¸ƒå±€ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">elâ€row</span> &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€col</span> <span class="hljs-attr">:span</span>=<span class="hljs-string">"8"</span>  <span class="hljs-attr">:offset</span>=<span class="hljs-string">2</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€card</span> <span class="hljs-attr">:body</span>â€<span class="hljs-attr">style</span>=<span class="hljs-string">"&#123; padding: '10px' &#125;"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/static/images/add.jpg"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"image"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"150px"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"padding: 10px;"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>è¯¾ç¨‹åç§°<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bottom clearfix"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">time</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"time"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">time</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">routerâ€link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"muiâ€tabâ€item"</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"&#123;path:'/course/add/base'&#125;"</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">elâ€button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button"</span> &gt;</span>æ–°å¢è¯¾ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€button</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">routerâ€link</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€card</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€col</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€col</span> <span class="hljs-attr">:span</span>=<span class="hljs-string">"8"</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">for</span>=<span class="hljs-string">"(course, index) in courses"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"course.id"</span> <span class="hljs-attr">:offset</span>=<span class="hljs-string">"index &gt; 0 ?</span></span>
<span class="hljs-tag"><span class="hljs-string">2 : 2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€card</span> <span class="hljs-attr">:body</span>â€<span class="hljs-attr">style</span>=<span class="hljs-string">"&#123; padding: '10px' &#125;"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"course.pic!=null?imgUrl+course.pic:'/static/images/nonepic.jpg'"</span></span>
<span class="hljs-tag"><span class="hljs-attr">class</span>=<span class="hljs-string">"image"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"150px"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"padding: 10px;"</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;course.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bottom clearfix"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">time</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"time"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">time</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">elâ€button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleManage(course.id)"</span>&gt;</span>ç®¡ç†è¯¾ç¨‹
<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€card</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€col</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">!â€â€åˆ†é¡µâ€â€</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€col</span> <span class="hljs-attr">:span</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toolbar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€pagination</span> <span class="hljs-attr">background</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">"prev, pager, next"</span> @<span class="hljs-attr">current</span>â€</span>
<span class="hljs-tag"><span class="hljs-attr">change</span>=<span class="hljs-string">"handleCurrentChange"</span> <span class="hljs-attr">:page</span>â€<span class="hljs-attr">size</span>=<span class="hljs-string">"size"</span></span>
<span class="hljs-tag">                       <span class="hljs-attr">:total</span>=<span class="hljs-string">"total"</span> <span class="hljs-attr">:current</span>â€<span class="hljs-attr">page</span>=<span class="hljs-string">"page"</span></span>
<span class="hljs-tag">                       <span class="hljs-attr">style</span>=<span class="hljs-string">"float:right;"</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€pagination</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€col</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€row</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
<span class="javascript">  <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> courseApi <span class="hljs-keyword">from</span> <span class="hljs-string">'../api/course'</span>;</span>
<span class="javascript">  <span class="hljs-keyword">import</span> utilApi <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../common/utils'</span>;</span>
<span class="javascript">  <span class="hljs-keyword">let</span> sysConfig = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@/../config/sysConfig'</span>)</span>
<span class="javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span>
    data() &#123;
<span class="actionscript">      <span class="hljs-keyword">return</span> &#123;</span>
        page:1,
        size:7,
        total: 0,
        courses: [],
<span class="actionscript">        sels: [],<span class="hljs-comment">//åˆ—è¡¨é€‰ä¸­åˆ—</span></span>
        imgUrl:sysConfig.imgUrl
      &#125;
    &#125;,
    methods: &#123;
<span class="actionscript">        <span class="hljs-comment">//åˆ†é¡µæ–¹æ³•</span></span>
      handleCurrentChange(val) &#123;
<span class="actionscript">        <span class="hljs-keyword">this</span>.page = val;</span>
      &#125;,
<span class="actionscript">      <span class="hljs-comment">//è·å–è¯¾ç¨‹åˆ—è¡¨</span></span>
      getCourse() &#123;
      
      &#125;,
<span class="actionscript">      handleManage: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(id)</span> </span>&#123;</span>
<span class="javascript">        <span class="hljs-built_in">console</span>.log(id)</span>
<span class="actionscript">        <span class="hljs-keyword">this</span>.$router.push(&#123; path: <span class="hljs-string">'/course/manager/'</span>+id&#125;)</span>
      &#125;
    &#125;,
    created()&#123;
     &#125;,
    mounted() &#123;
    &#125;
  &#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span>
<span class="css">  <span class="hljs-selector-class">.el</span>â€<span class="hljs-selector-tag">col</span>â€8&#123;</span>
<span class="css">    <span class="hljs-selector-tag">width</span><span class="hljs-selector-pseudo">:20</span>%</span>
  &#125;
<span class="css">  <span class="hljs-selector-class">.el</span>â€<span class="hljs-selector-tag">col</span>â€<span class="hljs-selector-tag">offset</span>â€2&#123;</span>
<span class="css">    <span class="hljs-selector-tag">margin</span>â€<span class="hljs-selector-tag">left</span><span class="hljs-selector-pseudo">:2</span>%</span>
  &#125;
<span class="css">  <span class="hljs-selector-class">.time</span> &#123;</span>
    fontâ€size: 13px;
<span class="css">    <span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#999</span>;</span>
  &#125;
<span class="css">  <span class="hljs-selector-class">.bottom</span> &#123;</span>
    marginâ€top: 13px;
    lineâ€height: 12px;
  &#125;
<span class="css">  <span class="hljs-selector-class">.button</span> &#123;</span>
    padding: 0;
    float: right;
  &#125;
<span class="css">  <span class="hljs-selector-class">.image</span> &#123;</span>
    width: 100%;
    display: block;
  &#125;
<span class="css">  <span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">:before</span>,</span>
<span class="css">  <span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">:after</span> &#123;</span>
    display: table;
    content: "";
  &#125;
<span class="css">  <span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">:after</span> &#123;</span>
    clear: both
  &#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre></div>

<p>2ï¼‰è·¯ç”±</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">import</span> course_list <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/course/page/course_list.vue'</span>;
<span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/home/page/home.vue'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [
  &#123;
     path: <span class="hljs-string">'/course'</span>,
    component: Home,
    name: <span class="hljs-string">'è¯¾ç¨‹ç®¡ç†'</span>,
    hidden: <span class="hljs-literal">false</span>,
    iconCls: <span class="hljs-string">'elâ€iconâ€document'</span>,
    children: [
      &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/list'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æˆ‘çš„è¯¾ç¨‹'</span>,<span class="hljs-attr">component</span>: course_list,<span class="hljs-attr">hidden</span>: <span class="hljs-literal">false</span> &#125;
    ]
  &#125;
]</code></pre></div>

<h3 id="Apiè°ƒç”¨"><a href="#Apiè°ƒç”¨" class="headerlink" title="Apiè°ƒç”¨"></a>Apiè°ƒç”¨</h3><p>1ã€å®šä¹‰Apiæ–¹æ³•</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">//æˆ‘çš„è¯¾ç¨‹åˆ—è¡¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> findCourseList = <span class="hljs-function">(<span class="hljs-params">page,size,params</span>) =&gt;</span> &#123;
     <span class="hljs-comment">//å¯¹äºæŸ¥è¯¢æ¡ä»¶ï¼Œå‘æœåŠ¡ç«¯ä¼ å…¥key/valueä¸²ã€‚</span>
     <span class="hljs-comment">//ä½¿ç”¨å·¥å…·ç±»å°†jsonå¯¹è±¡è½¬æˆkey/value</span>
     <span class="hljs-keyword">let</span> queries = querystring.stringify(params)
    <span class="hljs-keyword">return</span> http.requestQuickGet(apiUrl+<span class="hljs-string">"/course/coursebase/list/"</span>+page+<span class="hljs-string">"/"</span>+size+<span class="hljs-string">"?"</span>+queries);
&#125;</code></pre></div>

<p>2ã€åœ¨é¡µé¢è°ƒç”¨ <code>findCourseList</code> æ–¹æ³•</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">//è·å–è¯¾ç¨‹åˆ—è¡¨</span>
getCourse() &#123;
  courseApi.findCourseList(<span class="hljs-keyword">this</span>.page,<span class="hljs-keyword">this</span>.size,&#123;&#125;).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
          <span class="hljs-built_in">console</span>.log(res);
          <span class="hljs-keyword">if</span>(res.success)&#123;
            <span class="hljs-keyword">this</span>.total = res.queryResult.total;
            <span class="hljs-keyword">this</span>.courses = res.queryResult.list;
          &#125;
  &#125;);
&#125;</code></pre></div>

<p>åœ¨ <code>mounted</code> é’©å­ä¸­è°ƒç”¨ <code>getCourse</code> æ–¹æ³•</p>
<div class="hljs"><pre><code class="hljs js">mounted() &#123;
  <span class="hljs-comment">//æŸ¥è¯¢æˆ‘çš„è¯¾ç¨‹</span>
  <span class="hljs-keyword">this</span>.getCourse();
&#125;</code></pre></div>

<p>åœ¨åˆ†é¡µæ–¹æ³•ä¸­è°ƒç”¨ <code>getCourse</code> æ–¹æ³•</p>
<div class="hljs"><pre><code class="hljs js"> <span class="hljs-comment">//åˆ†é¡µæ–¹æ³•</span>
handleCurrentChange(val) &#123;
  <span class="hljs-keyword">this</span>.page = val;
  <span class="hljs-keyword">this</span>.getCourse();
&#125;,</code></pre></div>

<h3 id="1æµ‹è¯•"><a href="#1æµ‹è¯•" class="headerlink" title="1æµ‹è¯•"></a>1æµ‹è¯•</h3><p>é¡µé¢æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p>æ³¨æ„ï¼šç”±äºè¯¾ç¨‹å›¾ç‰‡æœåŠ¡å™¨æ²¡æœ‰æ­å»ºï¼Œè¿™é‡Œå›¾ç‰‡æš‚æ—¶æ— æ³•æ˜¾ç¤ºã€‚</p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image4.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image4.png" srcset="/img/loading.gif" alt="image-20200403215009200"></a></p>
<h1 id="äºŒã€æ–°å¢è¯¾ç¨‹"><a href="#äºŒã€æ–°å¢è¯¾ç¨‹" class="headerlink" title="äºŒã€æ–°å¢è¯¾ç¨‹"></a>äºŒã€æ–°å¢è¯¾ç¨‹</h1><h2 id="1-éœ€æ±‚åˆ†æ-1"><a href="#1-éœ€æ±‚åˆ†æ-1" class="headerlink" title="1. éœ€æ±‚åˆ†æ"></a>1. éœ€æ±‚åˆ†æ</h2><p>ç”¨æˆ·æ“ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<p>1ã€ç”¨æˆ·è¿›å…¥â€œæˆ‘çš„è¯¾ç¨‹â€é¡µé¢ï¼Œç‚¹å‡»â€œæ–°å¢è¯¾ç¨‹â€ï¼Œè¿›å…¥æ–°å¢è¯¾ç¨‹é¡µé¢</p>
<p><a href="https://qnoss.codeyee.com/20200706_Ng==/image4.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image5.png" srcset="/img/loading.gif" alt="image-20200403215030231"></a></p>
<p>2ã€å¡«å†™è¯¾ç¨‹ä¿¡æ¯ï¼Œé€‰æ‹©è¯¾ç¨‹åˆ†ç±»ã€è¯¾ç¨‹ç­‰çº§ã€å­¦ä¹ æ¨¡å¼ç­‰ã€‚</p>
<p>3ã€ä¿¡æ¯å¡«å†™å®Œæ¯•ï¼Œç‚¹å‡»â€œæäº¤â€ï¼Œè¯¾ç¨‹æ·»åŠ æˆåŠŸæˆ–è¯¾ç¨‹æ·»åŠ å¤±è´¥å¹¶æç¤ºå¤±è´¥åŸå› ã€‚</p>
<p>éœ€è¦è§£å†³çš„æ˜¯åœ¨æ–°å¢é¡µé¢ä¸Šè¾“å…¥çš„ä¿¡æ¯ï¼š</p>
<p>1ã€è¯¾ç¨‹åˆ†ç±» å¤šçº§åˆ†ç±»ï¼Œéœ€è¦æ–¹ä¾¿ç”¨æˆ·å»é€‰æ‹©ã€‚</p>
<p>2ã€è¯¾ç¨‹ç­‰çº§ã€å­¦ä¹ æ¨¡å¼ç­‰è¿™äº›é€‰é¡¹å»ºè®®æ˜¯å¯ä»¥é…ç½®çš„ã€‚</p>
<h2 id="2-è¯¾ç¨‹åˆ†ç±»æŸ¥è¯¢"><a href="#2-è¯¾ç¨‹åˆ†ç±»æŸ¥è¯¢" class="headerlink" title="2. è¯¾ç¨‹åˆ†ç±»æŸ¥è¯¢"></a>2. è¯¾ç¨‹åˆ†ç±»æŸ¥è¯¢</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>åœ¨æ–°å¢è¯¾ç¨‹ç•Œé¢éœ€è¦é€‰æ‹©è¯¾ç¨‹æ‰€å±åˆ†ç±»ï¼Œ åˆ†ç±»ä¿¡æ¯æ˜¯æ•´ä¸ªé¡¹ç›®éå¸¸é‡è¦çš„ä¿¡æ¯ï¼Œè¯¾ç¨‹å³å•†å“ï¼Œåˆ†ç±»ä¿¡æ¯è®¾ç½®çš„å¥½åç›´æ¥å½±å“ç”¨æˆ·è®¿é—®é‡ã€‚</p>
<p>åˆ†ç±»ä¿¡æ¯åœ¨å“ªé‡Œåº”ç”¨ï¼Ÿ</p>
<p>1ã€é¦–é¡µåˆ†ç±»å¯¼èˆª</p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image5.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/imagei5.png" srcset="/img/loading.gif" alt="image-20200403215130650"></a></p>
<p>2 ã€è¯¾ç¨‹çš„å½’å±åœ°</p>
<p>æ·»åŠ è¯¾ç¨‹æ—¶è¦é€‰æ‹©è¯¾ç¨‹çš„æ‰€å±åˆ†ç±»ã€‚</p>
<h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><p>åˆ†ç±»è¡¨ <code>category</code> çš„ç»“æ„å¦‚ä¸‹</p>
<p><a href="https://qnoss.codeyee.com/20200706_Ng==/image11.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image11.png" srcset="/img/loading.gif" alt="image-20200403215159778"></a></p>
<h3 id="åˆ†ç±»æŸ¥è¯¢"><a href="#åˆ†ç±»æŸ¥è¯¢" class="headerlink" title="åˆ†ç±»æŸ¥è¯¢"></a>åˆ†ç±»æŸ¥è¯¢</h3><h4 id="1ï¼‰æ•°æ®æ ¼å¼"><a href="#1ï¼‰æ•°æ®æ ¼å¼" class="headerlink" title="1ï¼‰æ•°æ®æ ¼å¼"></a>1ï¼‰æ•°æ®æ ¼å¼</h4><p>åœ¨æ·»åŠ è¯¾ç¨‹æ—¶éœ€è¦é€‰æ‹©è¯¾ç¨‹æ‰€å±çš„åˆ†ç±»ï¼Œè¿™é‡Œéœ€è¦å®šä¹‰è¯¾ç¨‹åˆ†ç±»æŸ¥è¯¢æ¥å£ã€‚</p>
<p>æ¥å£æ ¼å¼è¦æ ¹æ®å‰ç«¯éœ€è¦çš„æ•°æ®æ ¼å¼æ¥å®šä¹‰ï¼Œå‰ç«¯å±•ç¤ºè¯¾ç¨‹åˆ†ç±»ä½¿ç”¨ <code>elemenet-ui</code> çš„<code>cascader</code>ï¼ˆçº§è”é€‰æ‹©å™¨ï¼‰ç»„ä»¶ã€‚</p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image6.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image6.png" srcset="/img/loading.gif" alt="image-20200403215240113"></a></p>
<p>æ•°æ®æ ¼å¼ä¾‹å­å¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs js">[
  &#123;
        value: <span class="hljs-string">'zhinan'</span>,
        label: <span class="hljs-string">'æŒ‡å—'</span>,
        children: [&#123;
          value: <span class="hljs-string">'shejiyuanze'</span>,
          label: <span class="hljs-string">'è®¾è®¡åŸåˆ™'</span>,
          children: [&#123;
            value: <span class="hljs-string">'yizhi'</span>,
            label: <span class="hljs-string">'ä¸€è‡´'</span>
          &#125;, &#123;
            value: <span class="hljs-string">'fankui'</span>,
            label: <span class="hljs-string">'åé¦ˆ'</span>
          &#125;, &#123;
            value: <span class="hljs-string">'xiaolv'</span>,
            label: <span class="hljs-string">'æ•ˆç‡'</span>
          &#125;, &#123;
            value: <span class="hljs-string">'kekong'</span>,
            label: <span class="hljs-string">'å¯æ§'</span>
          &#125;]
        &#125;]
  &#125;
]</code></pre></div>

<h4 id="2ï¼‰æ•°æ®æ¨¡å‹"><a href="#2ï¼‰æ•°æ®æ¨¡å‹" class="headerlink" title="2ï¼‰æ•°æ®æ¨¡å‹"></a>2ï¼‰æ•°æ®æ¨¡å‹</h4><p>1ï¼‰å®šä¹‰categoryçš„æ¨¡å‹</p>
<p>category æ¨¡å‹å¯¹æ•°æ®å­—æ®µå¯¹åº”ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@ToString</span>
<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table</span>(name=<span class="hljs-string">"category"</span>)
<span class="hljs-meta">@GenericGenerator</span>(name = <span class="hljs-string">"jpaâ€assigned"</span>, strategy = <span class="hljs-string">"assigned"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Category</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Serializable</span> </span>&#123;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> serialVersionUID = â€<span class="hljs-number">906357110051689484L</span>;
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue</span>(generator = <span class="hljs-string">"jpaâ€assigned"</span>)
    <span class="hljs-meta">@Column</span>(length = <span class="hljs-number">32</span>)
    <span class="hljs-keyword">private</span> String id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> String label;
    <span class="hljs-keyword">private</span> String parentid;
    <span class="hljs-keyword">private</span> String isshow;
    <span class="hljs-keyword">private</span> Integer orderby;
    <span class="hljs-keyword">private</span> String isleaf;
&#125;</code></pre></div>

<p>2ï¼‰å®šä¹‰æ•°æ®è¿”å›æ ¼å¼</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@ToString</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CategoryNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Category</span> </span>&#123;
    List&lt;CategoryNode&gt; children;
&#125;</code></pre></div>

<p>çº§è”èœå•å±äºä¸‰çº§èœå•ï¼Œæ‰€ä»¥æ¯ä¸ªèœå•ä¸‹é¢éƒ½ä¼šæœ‰ä¸€ä¸ª <code>chaidren</code> çš„å­—æ®µ</p>
<h4 id="3ï¼‰API-æ¥å£"><a href="#3ï¼‰API-æ¥å£" class="headerlink" title="3ï¼‰API æ¥å£"></a>3ï¼‰API æ¥å£</h4><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.xuecheng.api.web.controller.api.course;
<span class="hljs-keyword">import</span> com.xuecheng.framework.domain.course.ext.CategoryNode;
<span class="hljs-keyword">import</span> io.swagger.annotations.Api;
<span class="hljs-keyword">import</span> io.swagger.annotations.ApiOperation;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;
<span class="hljs-meta">@Api</span>(value = <span class="hljs-string">"è¯¾ç¨‹åˆ†ç±»ç®¡ç†"</span>,description = <span class="hljs-string">"è¯¾ç¨‹åˆ†ç±»ç®¡ç†"</span>,tags = &#123;<span class="hljs-string">"è¯¾ç¨‹åˆ†ç±»ç®¡ç†"</span>&#125;)

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CategoryControllerApi</span> </span>&#123;
    <span class="hljs-meta">@ApiOperation</span>(<span class="hljs-string">"æŸ¥è¯¢åˆ†ç±»"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> CategoryNode <span class="hljs-title">findList</span><span class="hljs-params">()</span></span>;
&#125;</code></pre></div>

<h4 id="4ï¼‰DAO"><a href="#4ï¼‰DAO" class="headerlink" title="4ï¼‰DAO"></a>4ï¼‰DAO</h4><p>1ï¼‰å®šä¹‰mapper</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Mapper</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CategoryMapper</span> </span>&#123;
    <span class="hljs-comment">//æŸ¥è¯¢åˆ†ç±»</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> CategoryNode <span class="hljs-title">selectList</span><span class="hljs-params">()</span></span>;
&#125;</code></pre></div>

<p>2ï¼‰å®šä¹‰mapperæ˜ å°„æ–‡ä»¶</p>
<p>é‡‡ç”¨è¡¨çš„è‡ªè¿æ¥æ–¹å¼è¾“å‡ºæ ‘å‹ç»“æœé›†ã€‚</p>
<div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">mapper</span> <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="hljs-meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span> &gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.xuecheng.manage_course.dao.CategoryMapper"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"CategoryMap"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"com.xuecheng.framework.domain.course.ext.CategoryNode"</span>&gt;</span>
        <span class="hljs-comment">&lt;!--ä¸€çº§èŠ‚ç‚¹--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"one_id"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"one_name"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"label"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"one_label"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"isshow"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"one_isshow"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"orderby"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"one_orderby"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"isleaf"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"one_isleaf"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"parentid"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"one_parentid"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"children"</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">"com.xuecheng.framework.domain.course.ext.CategoryNode"</span>&gt;</span>
            <span class="hljs-comment">&lt;!--äºŒçº§èŠ‚ç‚¹--&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"two_id"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"two_name"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"label"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"two_label"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"isshow"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"two_isshow"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"orderby"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"two_orderby"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"isleaf"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"two_isleaf"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"parentid"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"two_parentid"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"children"</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">"com.xuecheng.framework.domain.course.ext.CategoryNode"</span>&gt;</span>
                <span class="hljs-comment">&lt;!--ä¸‰çº§èŠ‚ç‚¹--&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"three_id"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"three_name"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"label"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"three_label"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"isshow"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"three_isshow"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"orderby"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"three_orderby"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"isleaf"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"three_isleaf"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"parentid"</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"three_parentid"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span>

    <span class="hljs-comment">&lt;!--ä¸‰çº§èœå•æŸ¥è¯¢--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectList"</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">"CategoryMap"</span>&gt;</span>
        select
        a.id one_id,
        a.name one_name,
        a.label one_label,
        a.isshow one_isshow,
        a.isleaf one_isleaf,
        a.orderby one_orderby,
        a.parentid one_parentid,
        b.id two_id,
        b.name two_name,
        b.label two_label,
        b.isshow two_isshow,
        b.isleaf two_isleaf,
        b.orderby two_orderby,
        b.parentid two_parentid,
        c.id three_id,
        c.name three_name,
        c.label three_label,
        c.isshow three_isshow,
        c.isleaf three_isleaf,
        c.orderby three_orderby,
        c.parentid three_parentid
        from
        category a left join category b
        on a.id = b.parentid
        left join category c
        on b.id = c.parentid
        where a.parentid = '0'

        order by a.orderby,
        b.orderby,
        c.orderby
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span></code></pre></div>

<h4 id="5ï¼‰Service"><a href="#5ï¼‰Service" class="headerlink" title="5ï¼‰Service"></a>5ï¼‰Service</h4><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@author</span> Mr.JK</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@create</span> 2020-08-13  14:14</span>
<span class="hljs-comment"> */</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CategoryService</span> </span>&#123;

    <span class="hljs-meta">@Autowired</span>
    CategoryMapper categoryMapper;

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> CategoryNode <span class="hljs-title">findCategoryList</span><span class="hljs-params">()</span></span>&#123;
        <span class="hljs-keyword">return</span> categoryMapper.selectList();
    &#125;
&#125;</code></pre></div>

<h4 id="6ï¼‰Controller"><a href="#6ï¼‰Controller" class="headerlink" title="6ï¼‰Controller"></a>6ï¼‰Controller</h4><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/category"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CategoryController</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">CategoryControllerApi</span> </span>&#123;

    <span class="hljs-meta">@Autowired</span>
    CategoryService categoryService;


    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">"/list"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> CategoryNode <span class="hljs-title">findList</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">return</span> categoryService.findCategoryList();
    &#125;
&#125;</code></pre></div>

<h4 id="7ï¼‰æ¥å£æµ‹è¯•"><a href="#7ï¼‰æ¥å£æµ‹è¯•" class="headerlink" title="7ï¼‰æ¥å£æµ‹è¯•"></a>7ï¼‰æ¥å£æµ‹è¯•</h4><p>æ¥å£æè¿°å¦‚ä¸‹</p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image7.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image7.png" srcset="/img/loading.gif" alt="image-20200403215645362"></a></p>
<p>ä½¿ç”¨swagger-uiæˆ–postmanæµ‹è¯•æ¥å£ã€‚</p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image8.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image8.png" srcset="/img/loading.gif" alt="image-20200403215654115"></a></p>
<h2 id="3-æ•°æ®å­—å…¸"><a href="#3-æ•°æ®å­—å…¸" class="headerlink" title="3. æ•°æ®å­—å…¸"></a>3. æ•°æ®å­—å…¸</h2><h3 id="ä»‹ç»-1"><a href="#ä»‹ç»-1" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>åœ¨æ–°å¢è¯¾ç¨‹ç•Œé¢éœ€è¦é€‰æ‹©è¯¾ç¨‹ç­‰çº§ã€è¯¾ç¨‹çŠ¶æ€ç­‰ï¼Œè¿™äº›ä¿¡æ¯ç»Ÿä¸€é‡‡ç”¨æ•°æ®å­—å…¸ç®¡ç†çš„æ–¹å¼ã€‚<br>æœ¬é¡¹ç›®å¯¹ä¸€äº›ä¸šåŠ¡çš„åˆ†ç±»é…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šè¯¾ç¨‹ç­‰çº§ã€è¯¾ç¨‹çŠ¶æ€ã€ç”¨æˆ·ç±»å‹ã€ç”¨æˆ·çŠ¶æ€ç­‰è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œé€šè¿‡åœ¨æ•°æ®åº“åˆ›å»ºæ•°æ®å­—å…¸è¡¨æ¥ç»´æŠ¤è¿™äº›åˆ†ç±»ä¿¡æ¯ã€‚</p>
<p>æ•°æ®å­—å…¸å¯¹ç³»ç»Ÿçš„ä¸šåŠ¡åˆ†ç±»è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥è§£å†³ç¡¬ç¼–ç é—®é¢˜ï¼Œæ¯”å¦‚æ·»åŠ è¯¾ç¨‹æ—¶é€‰æ‹©è¯¾ç¨‹ç­‰çº§ï¼Œä¸‹æ‹‰æ¡†ä¸­çš„è¯¾ç¨‹ç­‰çº§ä¿¡æ¯å¦‚æœåœ¨é¡µé¢ç¡¬ç¼–ç å°†é€ æˆä¸æ˜“ä¿®æ”¹ç»´æŠ¤çš„é—®é¢˜ï¼Œæ‰€ä»¥ä»æ•°æ®å­—å…¸è¡¨ä¸­è·å–ï¼Œå¦‚æœè¦ä¿®æ”¹åç§°åˆ™åœ¨æ•°æ®å­—å…¸ä¿®æ”¹å³å¯ï¼Œæé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€‚</p>
<h3 id="æ•°æ®æ¨¡å‹"><a href="#æ•°æ®æ¨¡å‹" class="headerlink" title="æ•°æ®æ¨¡å‹"></a>æ•°æ®æ¨¡å‹</h3><p>åœ¨ <code>mongodb</code> ä¸­åˆ›å»ºæ•°æ®å­—å…¸è¡¨ <code>sys_dictionary</code></p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image9.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image9.png" srcset="/img/loading.gif" alt="image-20200403220146001"></a></p>
<p>ä¸€ä¸ªå­—å…¸ä¿¡æ¯å¦‚ä¸‹</p>
<div class="hljs"><pre><code class="hljs json"> &#123;
<span class="hljs-attr">"_id"</span> : ObjectId(<span class="hljs-string">"5a7e8d2dd019f15418fa2b71"</span>),
<span class="hljs-attr">"d_name"</span> : <span class="hljs-string">"è¯¾ç¨‹ç­‰çº§"</span>,
<span class="hljs-attr">"d_type"</span> : <span class="hljs-string">"200"</span>,
<span class="hljs-attr">"d_value"</span> : [
    &#123;
        <span class="hljs-attr">"sd_name"</span> : <span class="hljs-string">"ä½çº§"</span>,
        <span class="hljs-attr">"sd_id"</span> : <span class="hljs-string">"200001"</span>,
        <span class="hljs-attr">"sd_status"</span> : <span class="hljs-string">"1"</span>
    &#125;,
    &#123;
        <span class="hljs-attr">"sd_name"</span> : <span class="hljs-string">"ä¸­çº§"</span>,
        <span class="hljs-attr">"sd_id"</span> : <span class="hljs-string">"200002"</span>,
        <span class="hljs-attr">"sd_status"</span> : <span class="hljs-string">"1"</span>
    &#125;,
    &#123;
        <span class="hljs-attr">"sd_name"</span> : <span class="hljs-string">"é«˜çº§"</span>,
        <span class="hljs-attr">"sd_id"</span> : <span class="hljs-string">"200003"</span>,
        <span class="hljs-attr">"sd_status"</span> : <span class="hljs-string">"1"</span>
    &#125;
]
&#125;</code></pre></div>

<p>å­—æ®µè¯´æ˜å¦‚ä¸‹ï¼š</p>
<p><code>d_name</code>ï¼šå­—å…¸åç§°</p>
<p><code>d_type</code>ï¼šå­—å…¸åˆ†ç±»</p>
<p><code>d_value</code>ï¼šå­—å…¸æ•°æ®</p>
<p>sd_nameï¼šé¡¹ç›®åç§°</p>
<p><code>sd_id</code>ï¼šé¡¹ç›®id</p>
<p><code>sd_status</code>ï¼šé¡¹ç›®çŠ¶æ€ï¼ˆ1ï¼šå¯ç”¨ï¼Œ0ä¸å¯ç”¨ï¼‰</p>
<p><strong>æ•°æ®æ¨¡å‹ç±»</strong>ï¼š</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@ToString</span>
<span class="hljs-meta">@Document</span>(collection = <span class="hljs-string">"sys_dictionary"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SysDictionary</span> </span>&#123;
    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> String id;
    <span class="hljs-meta">@Field</span>(<span class="hljs-string">"d_name"</span>)
    <span class="hljs-keyword">private</span> String dName;
    <span class="hljs-meta">@Field</span>(<span class="hljs-string">"d_type"</span>)
    <span class="hljs-keyword">private</span> String dType;
    <span class="hljs-meta">@Field</span>(<span class="hljs-string">"d_value"</span>)
    <span class="hljs-keyword">private</span> List&lt;SysDictionaryValue&gt; dValue;
&#125;</code></pre></div>

<p><code>SysDictionaryValue</code> ç±»å‹ï¼š</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@ToString</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SysDictionaryValue</span> </span>&#123;
    <span class="hljs-meta">@Field</span>(<span class="hljs-string">"sd_id"</span>)
    <span class="hljs-keyword">private</span> String sdId;
    <span class="hljs-meta">@Field</span>(<span class="hljs-string">"sd_name"</span>)
    <span class="hljs-keyword">private</span> String sdName;
    <span class="hljs-meta">@Field</span>(<span class="hljs-string">"sd_status"</span>)
    <span class="hljs-keyword">private</span> String sdStatus;
&#125;</code></pre></div>

<h3 id="å­—å…¸æŸ¥è¯¢æ¥å£"><a href="#å­—å…¸æŸ¥è¯¢æ¥å£" class="headerlink" title="å­—å…¸æŸ¥è¯¢æ¥å£"></a>å­—å…¸æŸ¥è¯¢æ¥å£</h3><h4 id="APIæ¥å£"><a href="#APIæ¥å£" class="headerlink" title="APIæ¥å£"></a>APIæ¥å£</h4><p>ä¸ºäº†æ–¹ä¾¿å…¶å®ƒå­ç³»ç»Ÿä½¿ç”¨ï¼Œåœ¨cmsæ¨¡å—ä¸‹åˆ›å»ºå­—å…¸æŸ¥è¯¢æ¥å£ï¼Œæ ¹æ®å­—å…¸çš„typeæŸ¥è¯¢å­—å…¸ä¿¡æ¯ï¼Œæ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@author</span> Mr.JK</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@create</span> 2020-08-13  14:24</span>
<span class="hljs-comment"> */</span>
<span class="hljs-meta">@Api</span>(value = <span class="hljs-string">"æ•°æ®å­—å…¸æ¥å£"</span>,description = <span class="hljs-string">"æä¾›æ•°æ®å­—å…¸æ¥å£çš„ç®¡ç†ï¼ŒæŸ¥è¯¢åŠŸèƒ½"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">SysDicthionaryControllerApi</span> </span>&#123;

    <span class="hljs-comment">//æ•°æ®å­—å…¸</span>
    <span class="hljs-meta">@ApiOperation</span>(value = <span class="hljs-string">"æ•°æ®å­—å…¸æŸ¥è¯¢æ¥å£"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> SysDictionary <span class="hljs-title">getByType</span><span class="hljs-params">(String type)</span></span>;
&#125;</code></pre></div>

<h4 id="Dao-1"><a href="#Dao-1" class="headerlink" title="Dao"></a>Dao</h4><p>åœ¨cmsæ¨¡å—ä¸‹åˆ›å»ºæ•°æ®åº“çš„daoã€serviceç­‰ç±»ã€‚</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@author</span> Mr.JK</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@create</span> 2020-08-13  14:30</span>
<span class="hljs-comment"> */</span>
<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">SysDicthionaryRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">MongoRepository</span>&lt;<span class="hljs-title">SysDictionary</span>,<span class="hljs-title">String</span>&gt; </span>&#123;

    <span class="hljs-function"><span class="hljs-keyword">public</span> SysDictionary <span class="hljs-title">findAllByDType</span><span class="hljs-params">(String type)</span></span>;
&#125;</code></pre></div>

<h4 id="Service-1"><a href="#Service-1" class="headerlink" title="Service"></a>Service</h4><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SysDicthinaryService</span> </span>&#123;

    <span class="hljs-meta">@Autowired</span>
    SysDicthionaryRepository sysDicthionaryRepository;

    <span class="hljs-function"><span class="hljs-keyword">public</span> SysDictionary <span class="hljs-title">getByType</span><span class="hljs-params">(String type)</span> </span>&#123;
        <span class="hljs-keyword">if</span> (type == <span class="hljs-keyword">null</span>)&#123;
            ExceptionCast.cast(CommonCode.INVALID_PARAM);
        &#125;
        <span class="hljs-keyword">return</span> sysDicthionaryRepository.findAllByDType(type);
    &#125;
&#125;</code></pre></div>

<h4 id="Controller-1"><a href="#Controller-1" class="headerlink" title="Controller"></a>Controller</h4><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/sys"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SysDicthionaryController</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">SysDicthionaryControllerApi</span> </span>&#123;

    <span class="hljs-meta">@Autowired</span>
    SysDicthinaryService sysDicthinaryService;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">"/dictionary/get/&#123;dType&#125;"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> SysDictionary <span class="hljs-title">getByType</span><span class="hljs-params">(@PathVariable(<span class="hljs-string">"dType"</span>)</span> String type) </span>&#123;
        <span class="hljs-keyword">return</span> sysDicthinaryService.getByType(type);
    &#125;
&#125;</code></pre></div>

<h4 id="æµ‹è¯•-1"><a href="#æµ‹è¯•-1" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><p><a href="https://qnoss.codeyee.com/20200706_Nw==/image10.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image10.png" srcset="/img/loading.gif" alt="image-20200403220513616"></a></p>
<h2 id="4-æ–°å¢è¯¾ç¨‹é¡µé¢å®Œå–„"><a href="#4-æ–°å¢è¯¾ç¨‹é¡µé¢å®Œå–„" class="headerlink" title="4. æ–°å¢è¯¾ç¨‹é¡µé¢å®Œå–„"></a>4. æ–°å¢è¯¾ç¨‹é¡µé¢å®Œå–„</h2><p>æœ¬èŠ‚å®Œæˆæ•°æ®å­—å…¸æ˜¾ç¤ºåŠè¯¾ç¨‹åˆ†ç±»æ˜¾ç¤ºã€‚</p>
<h3 id="æ–°å¢è¯¾ç¨‹é¡µé¢"><a href="#æ–°å¢è¯¾ç¨‹é¡µé¢" class="headerlink" title="æ–°å¢è¯¾ç¨‹é¡µé¢"></a>æ–°å¢è¯¾ç¨‹é¡µé¢</h3><h4 id="1ï¼‰é¡µé¢æ•ˆæœå¦‚ä¸‹ï¼š"><a href="#1ï¼‰é¡µé¢æ•ˆæœå¦‚ä¸‹ï¼š" class="headerlink" title="1ï¼‰é¡µé¢æ•ˆæœå¦‚ä¸‹ï¼š"></a>1ï¼‰é¡µé¢æ•ˆæœå¦‚ä¸‹ï¼š</h4><p><a href="https://qnoss.codeyee.com/20200706_Nw==/image11.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/imagei11.png" srcset="/img/loading.gif" alt="image-20200403220536863"></a></p>
<h4 id="2ï¼‰åˆ›å»º-course-add-vue-é¡µé¢"><a href="#2ï¼‰åˆ›å»º-course-add-vue-é¡µé¢" class="headerlink" title="2ï¼‰åˆ›å»º course_add.vue é¡µé¢"></a>2ï¼‰åˆ›å»º course_add.vue é¡µé¢</h4><p>åœ¨<code>teach</code> å‰ç«¯å·¥ç¨‹çš„ <code>course</code> æ¨¡å—ä¸‹åˆ›å»º <code>course_add.vue</code> é¡µé¢ã€‚</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">elâ€form</span> <span class="hljs-attr">:model</span>=<span class="hljs-string">"courseForm"</span> <span class="hljs-attr">label</span>â€<span class="hljs-attr">width</span>=<span class="hljs-string">"80px"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"courseRules"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"courseForm"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è¯¾ç¨‹åç§°"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€input</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"courseForm.name"</span> <span class="hljs-attr">auto</span>â€<span class="hljs-attr">complete</span>=<span class="hljs-string">"off"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">elâ€input</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"é€‚ç”¨äººç¾¤"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"users"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"textarea"</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"courseForm.users"</span> <span class="hljs-attr">auto</span>â€<span class="hljs-attr">complete</span>=<span class="hljs-string">"off"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">elâ€input</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è¯¾ç¨‹åˆ†ç±»"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"categoryActive"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€cascader</span></span>
<span class="hljs-tag">          <span class="hljs-attr">expand</span>â€<span class="hljs-attr">trigger</span>=<span class="hljs-string">"hover"</span></span>
<span class="hljs-tag">          <span class="hljs-attr">:options</span>=<span class="hljs-string">"categoryList"</span></span>
<span class="hljs-tag">          <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"categoryActive"</span></span>
<span class="hljs-tag">          <span class="hljs-attr">:props</span>=<span class="hljs-string">"props"</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€cascader</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è¯¾ç¨‹ç­‰çº§"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"grade"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">b</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">for</span>=<span class="hljs-string">"grade in gradeList"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">elâ€radio</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"courseForm.grade"</span> <span class="hljs-attr">:label</span>=<span class="hljs-string">"grade.sdId"</span> &gt;</span>&#123;&#123;grade.sdName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€</span></span>
<span class="hljs-tag"><span class="hljs-attr">radio</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"å­¦ä¹ æ¨¡å¼"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"studymodel"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">b</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">for</span>=<span class="hljs-string">"studymodel_v in studymodelList"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">elâ€radio</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"courseForm.studymodel"</span> <span class="hljs-attr">:label</span>=<span class="hljs-string">"studymodel_v.sdId"</span> &gt;</span>
&#123;&#123;studymodel_v.sdName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€radio</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è¯¾ç¨‹ä»‹ç»"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"description"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"textarea"</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"courseForm.description"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">elâ€input</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€form</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"footer"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dialogâ€footer"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span>  @<span class="hljs-attr">click.native</span>=<span class="hljs-string">"save"</span> &gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
<span class="javascript">  <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> courseApi <span class="hljs-keyword">from</span> <span class="hljs-string">'../api/course'</span>;</span>
<span class="javascript">  <span class="hljs-keyword">import</span> utilApi <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../common/utils'</span>;</span>
<span class="javascript">  <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> systemApi <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../base/api/system'</span>;</span>
<span class="javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span>
    data() &#123;
<span class="actionscript">      <span class="hljs-keyword">return</span> &#123;</span>
             studymodelList:[],
        gradeList:[],
        props: &#123;
<span class="actionscript">          value: <span class="hljs-string">'id'</span>,</span>
<span class="actionscript">          label:<span class="hljs-string">'label'</span>,</span>
<span class="actionscript">          children:<span class="hljs-string">'children'</span></span>
        &#125;,
        categoryList: [],
        categoryActive:[],
        courseForm: &#123;
<span class="actionscript">          id:<span class="hljs-string">''</span>,</span>
<span class="actionscript">          name: <span class="hljs-string">''</span>,</span>
<span class="actionscript">          users: <span class="hljs-string">''</span>,</span>
<span class="actionscript">          grade:<span class="hljs-string">''</span>,</span>
<span class="actionscript">          studymodel:<span class="hljs-string">''</span>,</span>
<span class="actionscript">          mt:<span class="hljs-string">''</span>,</span>
<span class="actionscript">          st:<span class="hljs-string">''</span>,</span>
<span class="actionscript">          description: <span class="hljs-string">''</span></span>
        &#125;,
        courseRules: &#123;
          name: [
<span class="actionscript">            &#123;required: <span class="hljs-literal">true</span>, message: <span class="hljs-string">'è¯·è¾“å…¥è¯¾ç¨‹åç§°'</span>, trigger: <span class="hljs-string">'blur'</span>&#125;</span>
          ],
          category: [
<span class="actionscript">            &#123;required: <span class="hljs-literal">true</span>, message: <span class="hljs-string">'è¯·é€‰æ‹©è¯¾ç¨‹åˆ†ç±»'</span>, trigger: <span class="hljs-string">'blur'</span>&#125;</span>
          ],
          grade: [
<span class="actionscript">            &#123;required: <span class="hljs-literal">true</span>, message: <span class="hljs-string">'è¯·é€‰æ‹©è¯¾ç¨‹ç­‰çº§'</span>, trigger: <span class="hljs-string">'blur'</span>&#125;</span>
          ],
          studymodel: [
<span class="actionscript">            &#123;required: <span class="hljs-literal">true</span>, message: <span class="hljs-string">'è¯·é€‰æ‹©å­¦ä¹ æ¨¡å¼'</span>, trigger: <span class="hljs-string">'blur'</span>&#125;</span>
          ]
        &#125;
      &#125;
    &#125;,
    methods: &#123;
      save () &#123;
      &#125;
    &#125;,
    created()&#123;
    &#125;,
    mounted()&#123;
    &#125;
  &#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre></div>

<h4 id="3ï¼‰é¡µé¢è·¯ç”±"><a href="#3ï¼‰é¡µé¢è·¯ç”±" class="headerlink" title="3ï¼‰é¡µé¢è·¯ç”±"></a>3ï¼‰é¡µé¢è·¯ç”±</h4><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">import</span> course_add <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/course/page/course_add.vue'</span>; 
    &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/add/base'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æ·»åŠ è¯¾ç¨‹'</span>,<span class="hljs-attr">component</span>: course_add,<span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span> &#125;,</code></pre></div>

<h4 id="4ï¼‰è¯¾ç¨‹æ·»åŠ é“¾æ¥"><a href="#4ï¼‰è¯¾ç¨‹æ·»åŠ é“¾æ¥" class="headerlink" title="4ï¼‰è¯¾ç¨‹æ·»åŠ é“¾æ¥"></a>4ï¼‰è¯¾ç¨‹æ·»åŠ é“¾æ¥</h4><p>åœ¨æˆ‘çš„è¯¾ç¨‹é¡µé¢æ·»åŠ â€œæ–°å¢è¯¾ç¨‹â€é“¾æ¥<br>åœ¨ <code>course_list.vue</code> ä¸­æ·»åŠ </p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">routerâ€link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"muiâ€tabâ€item"</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"&#123;path:'/course/add/base'&#125;"</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">elâ€button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button"</span> &gt;</span>æ–°å¢è¯¾ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">routerâ€link</span>&gt;</span></code></pre></div>

<h3 id="æŸ¥è¯¢æ•°æ®å­—å…¸"><a href="#æŸ¥è¯¢æ•°æ®å­—å…¸" class="headerlink" title="æŸ¥è¯¢æ•°æ®å­—å…¸"></a>æŸ¥è¯¢æ•°æ®å­—å…¸</h3><p>è¯¾ç¨‹æ·»åŠ é¡µé¢ä¸­è¯¾ç¨‹ç­‰çº§ã€å­¦ä¹ æ¨¡å¼éœ€è¦ä»æ•°æ®å­—å…¸æŸ¥è¯¢å­—å…¸ä¿¡æ¯ã€‚</p>
<p>1ï¼‰<strong>å®šä¹‰æ–¹æ³•</strong></p>
<p>æ•°æ®å­—å…¸æŸ¥è¯¢ ä¸ºå…¬ç”¨æ–¹æ³•ï¼Œæ‰€ä»¥å®šä¹‰åœ¨ <code>/base/api/system.js</code> ä¸­</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">let</span> sysConfig = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@/../config/sysConfig'</span>) 
<span class="hljs-keyword">let</span> apiUrl = sysConfig.xcApiUrlPre;
<span class="hljs-comment">/*æ•°æ®å­—å…¸ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> sys_getDictionary= <span class="hljs-function"><span class="hljs-params">dType</span> =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> http.requestQuickGet(apiUrl+<span class="hljs-string">'/sys/dictionary/get/'</span>+dType)
&#125;</code></pre></div>

<p>2ï¼‰<strong>åœ¨é¡µé¢è·å–æ•°æ®å­—å…¸</strong></p>
<p>åœ¨ <code>mounted</code> é’©å­ä¸­å®šä¹‰æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">// æŸ¥è¯¢æ•°æ®å­—å…¸å­—å…¸</span>
systemApi.sys_getDictionary(<span class="hljs-string">'201'</span>).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
<span class="hljs-keyword">this</span>.studymodelList = res.dvalue;
&#125;);
systemApi.sys_getDictionary(<span class="hljs-string">'200'</span>).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
<span class="hljs-keyword">this</span>.gradeList = res.dvalue;
&#125;);</code></pre></div>

<p>3ï¼‰<strong>æ•ˆæœ</strong></p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image12.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/C:%5CUsers%5CMI%5CDesktop%5CHexo%5Csource_posts%5C%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07%5Cimage12.png" srcset="/img/loading.gif" alt="image-20200403221002719"></a></p>
<h3 id="è¯¾ç¨‹åˆ†ç±»"><a href="#è¯¾ç¨‹åˆ†ç±»" class="headerlink" title="è¯¾ç¨‹åˆ†ç±»"></a>è¯¾ç¨‹åˆ†ç±»</h3><p>è¯¾ç¨‹æ·»åŠ é¡µé¢ä¸­è¯¾ç¨‹åˆ†ç±»é‡‡ç”¨ <code>Cascader</code> ç»„ä»¶å®Œæˆã€‚</p>
<p><code>Cascader</code> çº§è”é€‰æ‹©å™¨</p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image13.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image13.png" srcset="/img/loading.gif" alt="image-20200403221022081"></a></p>
<p><strong>1ï¼‰é¡µé¢</strong></p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">" è¯¾ç¨‹åˆ†ç±»"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"categoryActive"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">elâ€cascader</span></span>
<span class="hljs-tag">    <span class="hljs-attr">expand</span>â€<span class="hljs-attr">trigger</span>=<span class="hljs-string">"hover"</span></span>
<span class="hljs-tag">    <span class="hljs-attr">:options</span>=<span class="hljs-string">"categoryList"</span></span>
<span class="hljs-tag">    <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"categoryActive"</span></span>
<span class="hljs-tag">    <span class="hljs-attr">:props</span>=<span class="hljs-string">"props"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€cascader</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span></code></pre></div>

<p><strong>2ï¼‰å®šä¹‰æ–¹æ³•</strong><br>åœ¨æœ¬æ¨¡å—çš„<code>course.js</code>ä¸­å®šä¹‰</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">/* æŸ¥è¯¢è¯¾ç¨‹åˆ†ç±» */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> category_findlist= <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> http.requestQuickGet(apiUrl+<span class="hljs-string">'/category/list'</span>)
&#125;</code></pre></div>

<p><strong>3ï¼‰åœ¨é¡µé¢è·å–è¯¾ç¨‹åˆ†ç±»</strong></p>
<p>åœ¨ <code>mounted</code> é’©å­ä¸­å®šä¹‰</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">// å–è¯¾ç¨‹åˆ†ç±»</span>
courseApi.category_findlist(&#123;&#125;).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">this</span>.categoryList = res.children;
&#125;);</code></pre></div>

<p><strong>4ï¼‰æ•ˆæœ</strong></p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image14.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image14.png" srcset="/img/loading.gif" alt="image-20200403221132985"></a></p>
<p><strong>5) å¦‚ä½•è·å–é€‰æ‹©çš„åˆ†ç±»</strong></p>
<p>ç”¨æˆ·é€‰æ‹©è¯¾ç¨‹åˆ†ç±»åï¼Œæ‰€é€‰åˆ†ç±» <code>ID</code> ç»‘å®šåˆ° <code>categoryActive</code>ï¼ˆæ•°ç»„ï¼‰ä¸­ï¼Œé€‰æ‹©äº†ä¸€çº§ã€äºŒçº§åˆ†ç±»ï¼Œåˆ†åˆ«å­˜å‚¨åœ¨ <code>categoryActive</code> æ•°ç»„çš„ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªå…ƒç´ ä¸­ã€‚</p>
<h2 id="5-æ–°å¢è¯¾ç¨‹æœåŠ¡ç«¯"><a href="#5-æ–°å¢è¯¾ç¨‹æœåŠ¡ç«¯" class="headerlink" title="5. æ–°å¢è¯¾ç¨‹æœåŠ¡ç«¯"></a>5. æ–°å¢è¯¾ç¨‹æœåŠ¡ç«¯</h2><h3 id="APIæ¥å£-1"><a href="#APIæ¥å£-1" class="headerlink" title="APIæ¥å£"></a>APIæ¥å£</h3><p>åˆ›å»ºè¯¾ç¨‹æ·»åŠ æäº¤æ¥å£ï¼š</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Api</span>(value = <span class="hljs-string">" è¯¾ç¨‹ç®¡ç†"</span>,description = <span class="hljs-string">"è¯¾ç¨‹ç®¡ç†"</span>,tags = &#123;<span class="hljs-string">"è¯¾ç¨‹ç®¡ç†"</span>&#125;)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CourseControllerApi</span> </span>&#123;
  
    <span class="hljs-meta">@ApiOperation</span>(<span class="hljs-string">"æ·»åŠ è¯¾ç¨‹åŸºç¡€ä¿¡æ¯"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> AddCourseResult <span class="hljs-title">addCourseBase</span><span class="hljs-params">(CourseBase courseBase)</span></span>;
&#125;</code></pre></div>

<h3 id="Dao-2"><a href="#Dao-2" class="headerlink" title="Dao"></a>Dao</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CourseBaseRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">JpaRepository</span>&lt;<span class="hljs-title">CourseBase</span>,<span class="hljs-title">String</span>&gt; </span>&#123;
&#125;</code></pre></div>

<h3 id="Service-2"><a href="#Service-2" class="headerlink" title="Service"></a>Service</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/**</span>
<span class="hljs-comment">     * æ·»åŠ è¯¾ç¨‹åŸºæœ¬ä¿¡æ¯</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@param</span> courseBase</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span>
<span class="hljs-comment">     */</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> AddCourseResult <span class="hljs-title">addCourseBase</span><span class="hljs-params">(CourseBase courseBase)</span> </span>&#123;
        String courseBaseId = courseBase.getId();
        courseBaseRepository.save(courseBase);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> AddCourseResult(CommonCode.SUCCESS,courseBaseId);
    &#125;</code></pre></div>

<h3 id="Controller-2"><a href="#Controller-2" class="headerlink" title="Controller"></a>Controller</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Override</span>
   <span class="hljs-meta">@PostMapping</span>(<span class="hljs-string">"coursebase/add"</span>)
   <span class="hljs-function"><span class="hljs-keyword">public</span> AddCourseResult <span class="hljs-title">addCourseBase</span><span class="hljs-params">(@RequestBody CourseBase courseBase)</span> </span>&#123;
       <span class="hljs-keyword">return</span> courseService.addCourseBase(courseBase);
   &#125;</code></pre></div>

<h2 id="6-æ–°å¢è¯¾ç¨‹å‰ç«¯"><a href="#6-æ–°å¢è¯¾ç¨‹å‰ç«¯" class="headerlink" title="6. æ–°å¢è¯¾ç¨‹å‰ç«¯"></a>6. æ–°å¢è¯¾ç¨‹å‰ç«¯</h2><h3 id="Apiæ–¹æ³•å®šä¹‰"><a href="#Apiæ–¹æ³•å®šä¹‰" class="headerlink" title="Apiæ–¹æ³•å®šä¹‰"></a>Apiæ–¹æ³•å®šä¹‰</h3><p>åœ¨å‰ç«¯å®šä¹‰è¯·æ±‚æœåŠ¡ç«¯æ·»åŠ è¯¾ç¨‹çš„apiçš„æ–¹æ³•ï¼Œåœ¨courseæ¨¡å—ä¸­å®šä¹‰æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">/* æ·»åŠ è¯¾ç¨‹åŸºç¡€ä¿¡æ¯*/</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> addCourseBase = <span class="hljs-function"><span class="hljs-params">params</span> =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> http.requestPost(apiUrl+<span class="hljs-string">'/course/coursebase/add'</span>,params)
&#125;</code></pre></div>

<h3 id="Apiæ–¹æ³•è°ƒç”¨"><a href="#Apiæ–¹æ³•è°ƒç”¨" class="headerlink" title="Apiæ–¹æ³•è°ƒç”¨"></a>Apiæ–¹æ³•è°ƒç”¨</h3><p>åœ¨<code>course_add.vue</code> è°ƒç”¨<code>api</code>æäº¤è¯¾ç¨‹ä¿¡æ¯</p>
<div class="hljs"><pre><code class="hljs js">methods: &#123; 
      save () &#123;
          <span class="hljs-keyword">this</span>.$refs.courseForm.validate(<span class="hljs-function">(<span class="hljs-params">valid</span>) =&gt;</span> &#123;
            <span class="hljs-keyword">if</span> (valid) &#123;
              <span class="hljs-keyword">this</span>.$confirm(<span class="hljs-string">'ç¡®è®¤æäº¤å—ï¼Ÿ'</span>, <span class="hljs-string">'æç¤º'</span>, &#123;&#125;).then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;
                <span class="hljs-comment">//å½“å‰é€‰æ‹©çš„åˆ†ç±»</span>
                <span class="hljs-keyword">let</span> mt = <span class="hljs-keyword">this</span>.categoryActive[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">let</span> st = <span class="hljs-keyword">this</span>.categoryActive[<span class="hljs-number">1</span>];
                <span class="hljs-keyword">this</span>.courseForm.mt = mt;
                <span class="hljs-keyword">this</span>.courseForm.st = st;
                <span class="hljs-comment">//è¯·æ±‚æœåŠ¡æ¥å£</span>
                courseApi.addCourseBase(<span class="hljs-keyword">this</span>.courseForm).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
                  <span class="hljs-keyword">if</span>(res.success)&#123;
                    <span class="hljs-keyword">this</span>.$message.success(<span class="hljs-string">'æäº¤æˆåŠŸ'</span>);
                    <span class="hljs-comment">//è·³è½¬åˆ°è¯¾ç¨‹å›¾ç‰‡</span>
                    <span class="hljs-comment">//this.$router.push(&#123; path: '/course/add/picture/1/'+this.courseid&#125;)</span>
                  &#125;<span class="hljs-keyword">else</span>&#123;
                    <span class="hljs-keyword">if</span>(res.message)&#123;
                      <span class="hljs-keyword">this</span>.$message.error(res.message);
                    &#125;<span class="hljs-keyword">else</span>&#123;
                      <span class="hljs-keyword">this</span>.$message.error(<span class="hljs-string">'æäº¤å¤±è´¥'</span>);
                    &#125;
                   &#125;
                &#125;);
              &#125;);
            &#125;
          &#125;);
      &#125;
    &#125;,</code></pre></div>

<h3 id="æµ‹è¯•-2"><a href="#æµ‹è¯•-2" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>æ³¨æ„ï¼šå°† <code>course_base</code> è¡¨ä¸­çš„ <code>company_id</code> æ”¹ä¸ºéå¿…å¡«ï¼Œå¾…è®¤è¯åŠŸèƒ½å¼€å‘å®Œæˆå†ä¿®æ”¹ä¸ºå¿…å¡«</p>
<p>æµ‹è¯•æµç¨‹ï¼š</p>
<p>1ã€è¿›å…¥æˆ‘çš„è¯¾ç¨‹ï¼Œç‚¹å‡»â€œæ–°å¢è¯¾ç¨‹â€æ‰“å¼€æ–°å¢è¯¾ç¨‹é¡µé¢</p>
<p>2ã€è¾“å…¥è¯¾ç¨‹ä¿¡æ¯ï¼Œç‚¹å‡»æäº¤</p>
<h1 id="ä¸‰ã€è¯¾ç¨‹ä¿¡æ¯ä¿®æ”¹"><a href="#ä¸‰ã€è¯¾ç¨‹ä¿¡æ¯ä¿®æ”¹" class="headerlink" title="ä¸‰ã€è¯¾ç¨‹ä¿¡æ¯ä¿®æ”¹"></a>ä¸‰ã€è¯¾ç¨‹ä¿¡æ¯ä¿®æ”¹</h1><h2 id="1-éœ€æ±‚åˆ†æ-2"><a href="#1-éœ€æ±‚åˆ†æ-2" class="headerlink" title="1. éœ€æ±‚åˆ†æ"></a>1. éœ€æ±‚åˆ†æ</h2><p>è¯¾ç¨‹æ·»åŠ æˆåŠŸè¿›å…¥è¯¾ç¨‹ç®¡ç†é¡µé¢ï¼Œé€šè¿‡è¯¾ç¨‹ç®¡ç†é¡µé¢ä¿®æ”¹è¯¾ç¨‹çš„åŸºæœ¬ä¿¡æ¯ã€ç¼–è¾‘è¯¾ç¨‹å›¾ç‰‡ã€ç¼–è¾‘è¯¾ç¨‹è¥é”€ä¿¡æ¯ç­‰ã€‚</p>
<p>æœ¬å°èŠ‚å®ç°ä¿®æ”¹è¯¾ç¨‹ã€‚</p>
<h2 id="2-è¯¾ç¨‹ç®¡ç†é¡µé¢è¯´æ˜"><a href="#2-è¯¾ç¨‹ç®¡ç†é¡µé¢è¯´æ˜" class="headerlink" title="2. è¯¾ç¨‹ç®¡ç†é¡µé¢è¯´æ˜"></a>2. è¯¾ç¨‹ç®¡ç†é¡µé¢è¯´æ˜</h2><h3 id="é¡µé¢ç»“æ„"><a href="#é¡µé¢ç»“æ„" class="headerlink" title="é¡µé¢ç»“æ„"></a>é¡µé¢ç»“æ„</h3><p>è¯¾ç¨‹ç®¡ç†é¡µé¢çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><a href="https://qnoss.codeyee.com/20200706_Nw==/image15.png" target="_blank" rel="noopener"><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/image15.png" srcset="/img/loading.gif" alt="image-20200403221706645"></a></p>
<h3 id="è¯¾ç¨‹ç®¡ç†å¯¼èˆªé¡µé¢"><a href="#è¯¾ç¨‹ç®¡ç†å¯¼èˆªé¡µé¢" class="headerlink" title="è¯¾ç¨‹ç®¡ç†å¯¼èˆªé¡µé¢"></a>è¯¾ç¨‹ç®¡ç†å¯¼èˆªé¡µé¢</h3><p>1ã€å®šä¹‰<code>course_manage.vue</code>ä¸ºè¯¾ç¨‹ç®¡ç†å¯¼èˆªé¡µé¢ã€‚</p>
<p>å¯¼èˆªæ•ˆæœä½¿ç”¨ <code>Element-UI</code> çš„ <code>NavMenu</code> ç»„ä»¶å®ç°ã€‚</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span> 
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">elâ€menu</span></span>
<span class="hljs-tag">      <span class="hljs-attr">:default</span>â€<span class="hljs-attr">active</span>=<span class="hljs-string">"activeIndex"</span></span>
<span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">"elâ€menuâ€demo"</span></span>
<span class="hljs-tag">      <span class="hljs-attr">mode</span>=<span class="hljs-string">"horizontal"</span></span>
<span class="hljs-tag">      <span class="hljs-attr">background</span>â€<span class="hljs-attr">color</span>=<span class="hljs-string">"#eee"</span></span>
<span class="hljs-tag">      <span class="hljs-attr">text</span>â€<span class="hljs-attr">color</span>=<span class="hljs-string">"#000"</span></span>
<span class="hljs-tag">      <span class="hljs-attr">active</span>â€<span class="hljs-attr">text</span>â€<span class="hljs-attr">color</span>=<span class="hljs-string">"#000"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">routerâ€link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"muiâ€tabâ€item"</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"&#123;path:'/course/manage/summary/'+this.courseid&#125;"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€menuâ€item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"1"</span>&gt;</span>è¯¾ç¨‹é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€menuâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">routerâ€link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">routerâ€link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"muiâ€tabâ€item"</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"&#123;path:'/course/manage/baseinfo/'+this.courseid&#125;"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€menuâ€item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"2"</span>&gt;</span>åŸºæœ¬ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€menuâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">routerâ€link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">routerâ€link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"muiâ€tabâ€item"</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"&#123;path:'/course/manage/picture/'+this.courseid&#125;"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€menuâ€item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"3"</span>&gt;</span>è¯¾ç¨‹å›¾ç‰‡<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€menuâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">routerâ€link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">routerâ€link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"muiâ€tabâ€item"</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"&#123;path:'/course/manage/marketinfo/'+this.courseid&#125;"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€menuâ€item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"4"</span>&gt;</span>è¯¾ç¨‹è¥é”€<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€menuâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">routerâ€link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">routerâ€link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"muiâ€tabâ€item"</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"&#123;path:'/course/manage/plan/'+this.courseid&#125;"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€menuâ€item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"5"</span>&gt;</span>è¯¾ç¨‹è®¡åˆ’<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€menuâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">routerâ€link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">routerâ€link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"muiâ€tabâ€item"</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"&#123;path:'/course/manage/teacher/'+this.courseid&#125;"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€menuâ€item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"6"</span>&gt;</span>æ•™å¸ˆä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€menuâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">routerâ€link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">routerâ€link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"muiâ€tabâ€item"</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"&#123;path:'/course/manage/pub/'+this.courseid&#125;"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">elâ€menuâ€item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"7"</span>&gt;</span> å‘å¸ƒè¯¾ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€menuâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">routerâ€link</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€menu</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">routerâ€view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">routerâ€view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
<span class="javascript">  <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> courseApi <span class="hljs-keyword">from</span> <span class="hljs-string">'../api/course'</span>;</span>
<span class="javascript">  <span class="hljs-keyword">import</span> utilApi <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../common/utils'</span>;</span>
<span class="javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span>
    data() &#123;
<span class="actionscript">      <span class="hljs-keyword">return</span> &#123;</span>
<span class="actionscript">        activeIndex:<span class="hljs-string">'2'</span>,</span>
<span class="actionscript">        courseid:<span class="hljs-string">''</span></span>
      &#125;
    &#125;,
    methods: &#123;
    &#125;,
    mounted()&#123;
<span class="actionscript">      <span class="hljs-comment">//è¯¾ç¨‹id</span></span>
<span class="actionscript">      <span class="hljs-keyword">this</span>.courseid = <span class="hljs-keyword">this</span>.$route.params.courseid</span>
<span class="javascript">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"courseid="</span> + <span class="hljs-keyword">this</span>.courseid)</span>
<span class="actionscript">      <span class="hljs-comment">//è·³è½¬åˆ°é¡µé¢åˆ—è¡¨</span></span>
<span class="actionscript">      <span class="hljs-keyword">this</span>.$router.push(&#123; path: <span class="hljs-string">'/course/manage/baseinfo/'</span>+<span class="hljs-keyword">this</span>.courseid&#125;)</span>
    &#125;
  &#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span>
 
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre></div>

<p>2ã€<strong>åˆ›å»ºå„å„ä¿¡æ¯ç®¡ç†é¡µé¢</strong></p>
<p>é€šè¿‡ç®¡ç†é¡µé¢çš„å¯¼èˆªå¯ä»¥è¿›å…¥å„å„ä¿¡æ¯ç®¡ç†é¡µé¢ï¼Œè¿™é‡Œå…ˆåˆ›å»ºå„å„ä¿¡æ¯ç®¡ç†é¡µé¢ï¼Œé¡µé¢å†…å®¹æš‚</p>
<p>æ—¶ä¸ºç©ºï¼Œå¾…å¼€å‘æ—¶å†å®Œå–„ï¼Œåœ¨æœ¬æ¨¡å—çš„ <code>page</code> ç›®å½•ä¸‹åˆ›å»º <code>course_manage</code> ç›®å½•ï¼Œæ­¤ç›®å½•å­˜æ”¾</p>
<p>å„ä¸ªä¿¡æ¯ç®¡ç†é¡µé¢ï¼Œé¡µé¢æ˜ç»†å¦‚ä¸‹ï¼š</p>
<p>è¯¾ç¨‹ç®¡ç†é¦–é¡µï¼š<strong>course_summary.vue</strong></p>
<p>åŸºæœ¬ä¿¡æ¯ä¿®æ”¹é¡µé¢ï¼š<strong>course_baseinfo.vue</strong></p>
<p>å›¾ç‰‡ç®¡ç†é¡µé¢ï¼š<strong>course_picture.vue</strong></p>
<p>è¥é”€ä¿¡æ¯é¡µé¢ï¼š<strong>course_marketinfo.vue</strong></p>
<p>è€å¸ˆä¿¡æ¯é¡µé¢ï¼š<strong>course_teacher.vue</strong></p>
<p>è¯¾ç¨‹è®¡åˆ’é¡µé¢ï¼š<strong>course_plan.vue</strong></p>
<p>è¯¾ç¨‹å‘å¸ƒé¡µé¢ï¼š<strong>course_pub.vue</strong></p>
<p>3 ã€<strong>åˆ›å»ºè·¯ç”±</strong></p>
<div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">import</span> course_manage <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/course/page/course_manage.vue'</span>; 
<span class="hljs-keyword">import</span> course_summary <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/course/page/course_manage/course_summary.vue'</span>;
<span class="hljs-keyword">import</span> course_picture <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/course/page/course_manage/course_picture.vue'</span>;
<span class="hljs-keyword">import</span> course_baseinfo <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/course/page/course_manage/course_baseinfo.vue'</span>;
<span class="hljs-keyword">import</span> course_marketinfo <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/course/page/course_manage/course_marketinfo.vue'</span>;
<span class="hljs-keyword">import</span> course_teacher <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/course/page/course_manage/course_teacher.vue'</span>;
<span class="hljs-keyword">import</span> course_plan <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/course/page/course_manage/course_plan.vue'</span>;
<span class="hljs-keyword">import</span> course_pub <span class="hljs-keyword">from</span> <span class="hljs-string">'@/module/course/page/course_manage/course_pub.vue'</span>;
&#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/manager/:courseid'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ç®¡ç†è¯¾ç¨‹'</span>,<span class="hljs-attr">component</span>: course_manage,<span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span> ,
        children: [
          &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/manage/plan/:courseid'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è¯¾ç¨‹è®¡åˆ’'</span>,<span class="hljs-attr">component</span>: course_plan,<span class="hljs-attr">hidden</span>:
<span class="hljs-literal">false</span> &#125;,
          &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/manage/baseinfo/:courseid'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'åŸºæœ¬ä¿¡æ¯'</span>,<span class="hljs-attr">component</span>:
course_baseinfo,<span class="hljs-attr">hidden</span>: <span class="hljs-literal">false</span> &#125;,
          &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/manage/picture/:courseid'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è¯¾ç¨‹å›¾ç‰‡'</span>,<span class="hljs-attr">component</span>:
course_picture,<span class="hljs-attr">hidden</span>: <span class="hljs-literal">false</span> &#125;,
          &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/manage/marketinfo/:courseid'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è¥é”€ä¿¡æ¯'</span>,<span class="hljs-attr">component</span>:
course_marketinfo,<span class="hljs-attr">hidden</span>: <span class="hljs-literal">false</span> &#125;,
          &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/manage/teacher/:courseid'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æ•™å¸ˆä¿¡æ¯'</span>,<span class="hljs-attr">component</span>:
course_teacher,<span class="hljs-attr">hidden</span>: <span class="hljs-literal">false</span>&#125;,
          &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/manage/pub/:courseid'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å‘å¸ƒè¯¾ç¨‹'</span>,<span class="hljs-attr">component</span>: course_pub,<span class="hljs-attr">hidden</span>:
<span class="hljs-literal">false</span>&#125;,
          &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/manage/summary/:courseid'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è¯¾ç¨‹é¦–é¡µ'</span>,<span class="hljs-attr">component</span>:
course_summary,<span class="hljs-attr">hidden</span>: <span class="hljs-literal">false</span> &#125;
        ]&#125;</code></pre></div>

<h2 id="3-Api-æ¥å£"><a href="#3-Api-æ¥å£" class="headerlink" title="3. Api æ¥å£"></a>3. Api æ¥å£</h2><p>ä¿®æ”¹è¯¾ç¨‹éœ€è¦å¦‚ä¸‹æ¥å£ï¼š</p>
<p>1ã€æ ¹æ®idæŸ¥è¯¢è¯¾ç¨‹ä¿¡æ¯</p>
<p>2ã€ä¿®æ”¹è¯¾ç¨‹æäº¤</p>
<p>æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ ¹æ®è¯¾ç¨‹IDæŸ¥è¯¢è¯¾ç¨‹ä¿¡æ¯</li>
</ol>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@ApiOperation</span>(<span class="hljs-string">" è·å–è¯¾ç¨‹åŸºç¡€ä¿¡æ¯"</span>)
<span class="hljs-function"><span class="hljs-keyword">public</span> CourseBase <span class="hljs-title">getCourseBaseById</span><span class="hljs-params">(String courseId)</span> <span class="hljs-keyword">throws</span> RuntimeException</span>;</code></pre></div>

<p>2ï¼‰ä¿®æ”¹è¯¾ç¨‹ä¿¡æ¯</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@ApiOperation</span>(<span class="hljs-string">"æ›´æ–°è¯¾ç¨‹åŸºç¡€ä¿¡æ¯"</span>)
<span class="hljs-function"><span class="hljs-keyword">public</span> ResponseResult <span class="hljs-title">updateCourseBase</span><span class="hljs-params">(String id,CourseBase courseBase)</span></span>;</code></pre></div>

<h2 id="4-æœåŠ¡ç«¯"><a href="#4-æœåŠ¡ç«¯" class="headerlink" title="4. æœåŠ¡ç«¯"></a>4. æœåŠ¡ç«¯</h2><h3 id="Dao-3"><a href="#Dao-3" class="headerlink" title="Dao"></a>Dao</h3><p>ç•¥</p>
<h3 id="Service-3"><a href="#Service-3" class="headerlink" title="Service"></a>Service</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/**</span>
<span class="hljs-comment">     * æ ¹æ®è¯¾ç¨‹idæŸ¥è¯¢è¯¾ç¨‹åŸºæœ¬ä¿¡æ¯</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@param</span> courseId</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span>
<span class="hljs-comment">     */</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> CourseBase <span class="hljs-title">getCourseBaseById</span><span class="hljs-params">(String courseId)</span> </span>&#123;
        <span class="hljs-keyword">if</span> (courseId == <span class="hljs-keyword">null</span>)&#123;
            ExceptionCast.cast(CommonCode.INVALID_PARAM);
        &#125;
        Optional&lt;CourseBase&gt; optional = courseBaseRepository.findById(courseId);
        <span class="hljs-keyword">if</span> (optional.isPresent())&#123;
            CourseBase courseBase = optional.get();
            <span class="hljs-keyword">return</span> courseBase;
        &#125;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;

    &#125;

    <span class="hljs-comment">/**</span>
<span class="hljs-comment">     * æ›´æ–°è¯¾ç¨‹åŸºæœ¬ä¿¡æ¯</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@param</span> id</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@param</span> courseBase</span>
<span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span>
<span class="hljs-comment">     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> ResponseResult <span class="hljs-title">updateCourseBase</span><span class="hljs-params">(String id, CourseBase courseBase)</span> </span>&#123;
        CourseBase courseBaseNew = <span class="hljs-keyword">this</span>.getCourseBaseById(id);

        BeanUtils.copyProperties(courseBase,courseBaseNew);
        courseBaseRepository.save(courseBaseNew);

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ResponseResult(CommonCode.SUCCESS);
    &#125;</code></pre></div>

<h3 id="Controller-3"><a href="#Controller-3" class="headerlink" title="Controller"></a>Controller</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">"coursebase/get/&#123;id&#125;"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> CourseBase <span class="hljs-title">getCourseBaseById</span><span class="hljs-params">(@PathVariable(<span class="hljs-string">"id"</span>)</span> String courseId) <span class="hljs-keyword">throws</span> RuntimeException </span>&#123;
        <span class="hljs-keyword">return</span> courseService.getCourseBaseById(courseId);
    &#125;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@PutMapping</span>(<span class="hljs-string">"coursebase/update/&#123;id&#125;"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> ResponseResult <span class="hljs-title">updateCourseBase</span><span class="hljs-params">(@PathVariable(<span class="hljs-string">"id"</span>)</span> String id,@RequestBody CourseBase courseBase) </span>&#123;
        <span class="hljs-keyword">return</span> courseService.updateCourseBase(id,courseBase);
    &#125;</code></pre></div>

<h2 id="5-å‰ç«¯"><a href="#5-å‰ç«¯" class="headerlink" title="5. å‰ç«¯"></a>5. å‰ç«¯</h2><h3 id="ä¿®æ”¹é¡µé¢"><a href="#ä¿®æ”¹é¡µé¢" class="headerlink" title="ä¿®æ”¹é¡µé¢"></a>ä¿®æ”¹é¡µé¢</h3><p>åœ¨ <code>course</code> æ¨¡å—ä¸‹çš„ <code>course_manage</code> ç›®å½•ä¸‹åˆ›å»º <code>course_baseinfo.vue</code> é¡µé¢ï¼Œæœ¬é¡µé¢å®ç°è¯¾ç¨‹ä¿®æ”¹</p>
<div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span> 
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">elâ€form</span> <span class="hljs-attr">:model</span>=<span class="hljs-string">"courseForm"</span> <span class="hljs-attr">label</span>â€<span class="hljs-attr">width</span>=<span class="hljs-string">"80px"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"courseRules"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"courseForm"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è¯¾ç¨‹åç§°"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€input</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"courseForm.name"</span> <span class="hljs-attr">auto</span>â€<span class="hljs-attr">complete</span>=<span class="hljs-string">"off"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">elâ€input</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"é€‚ç”¨äººç¾¤"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"users"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"textarea"</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"courseForm.users"</span> <span class="hljs-attr">auto</span>â€<span class="hljs-attr">complete</span>=<span class="hljs-string">"off"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">elâ€input</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è¯¾ç¨‹åˆ†ç±»"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"categoryActive"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€cascader</span></span>
<span class="hljs-tag">          <span class="hljs-attr">expand</span>â€<span class="hljs-attr">trigger</span>=<span class="hljs-string">"hover"</span></span>
<span class="hljs-tag">          <span class="hljs-attr">:options</span>=<span class="hljs-string">"categoryList"</span></span>
<span class="hljs-tag">          <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"categoryActive"</span></span>
<span class="hljs-tag">          <span class="hljs-attr">:props</span>=<span class="hljs-string">"props"</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€cascader</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è¯¾ç¨‹ç­‰çº§"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"grade"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">b</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">for</span>=<span class="hljs-string">"grade in gradeList"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">elâ€radio</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"courseForm.grade"</span> <span class="hljs-attr">:label</span>=<span class="hljs-string">"grade.sdId"</span> &gt;</span>&#123;&#123;grade.sdName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€</span></span>
<span class="hljs-tag"><span class="hljs-attr">radio</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"å­¦ä¹ æ¨¡å¼"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"studymodel"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">b</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">for</span>=<span class="hljs-string">"studymodel_v in studymodelList"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">elâ€radio</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"courseForm.studymodel"</span> <span class="hljs-attr">:label</span>=<span class="hljs-string">"studymodel_v.sdId"</span> &gt;</span>
&#123;&#123;studymodel_v.sdName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€radio</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">elâ€formâ€item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è¯¾ç¨‹ä»‹ç»"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"description"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">elâ€input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"textarea"</span> <span class="hljs-attr">v</span>â€<span class="hljs-attr">model</span>=<span class="hljs-string">"courseForm.description"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">elâ€input</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€formâ€item</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">elâ€form</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"footer"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dialogâ€footer"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">elâ€button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span>  @<span class="hljs-attr">click.native</span>=<span class="hljs-string">"save"</span> <span class="hljs-attr">:loading</span>=<span class="hljs-string">"editLoading"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">elâ€button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
<span class="javascript">  <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> courseApi <span class="hljs-keyword">from</span> <span class="hljs-string">'../../api/course'</span>;</span>
<span class="javascript">  <span class="hljs-keyword">import</span> utilApi <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../common/utils'</span>;</span>
<span class="javascript">  <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> systemApi <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../base/api/system'</span>;</span>
<span class="javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span>
    data() &#123;
<span class="actionscript">      <span class="hljs-keyword">return</span> &#123;</span>
<span class="actionscript">        courseid:<span class="hljs-string">''</span>,</span>
        studymodelList:[],
        gradeList:[],
<span class="actionscript">        editLoading: <span class="hljs-literal">false</span>,</span>
        props: &#123;
<span class="actionscript">          value: <span class="hljs-string">'id'</span>,</span>
<span class="actionscript">          label:<span class="hljs-string">'label'</span>,</span>
<span class="actionscript">          children:<span class="hljs-string">'children'</span></span>
        &#125;,
        categoryList: [],
        categoryActive:[],
        courseForm: &#123;
<span class="actionscript">          id:<span class="hljs-string">''</span>,</span>
<span class="actionscript">          name: <span class="hljs-string">''</span>,</span>
<span class="actionscript">          users: <span class="hljs-string">''</span>,</span>
<span class="actionscript">          grade:<span class="hljs-string">''</span>,</span>
<span class="actionscript">          studymodel:<span class="hljs-string">''</span>,</span>
<span class="actionscript">          mt:<span class="hljs-string">''</span>,</span>
<span class="actionscript">          st:<span class="hljs-string">''</span>,</span>
<span class="actionscript">          description: <span class="hljs-string">''</span></span>
        &#125;,
        courseRules: &#123;
          name: [
<span class="actionscript">            &#123;required: <span class="hljs-literal">true</span>, message: <span class="hljs-string">'è¯·è¾“å…¥è¯¾ç¨‹åç§°'</span>, trigger: <span class="hljs-string">'blur'</span>&#125;</span>
          ],
          category: [
<span class="actionscript">            &#123;required: <span class="hljs-literal">true</span>, message: <span class="hljs-string">'è¯·é€‰æ‹©è¯¾ç¨‹åˆ†ç±»'</span>, trigger: <span class="hljs-string">'blur'</span>&#125;</span>
          ],
          grade: [
<span class="actionscript">            &#123;required: <span class="hljs-literal">true</span>, message: <span class="hljs-string">'è¯·é€‰æ‹©è¯¾ç¨‹ç­‰çº§'</span>, trigger: <span class="hljs-string">'blur'</span>&#125;</span>
          ],
          studymodel: [
<span class="actionscript">            &#123;required: <span class="hljs-literal">true</span>, message: <span class="hljs-string">'è¯·é€‰æ‹©å­¦ä¹ æ¨¡å¼'</span>, trigger: <span class="hljs-string">'blur'</span>&#125;</span>
          ]
         &#125;
      &#125;
    &#125;,
    methods: &#123;
      save () &#123;
         
      &#125;
    &#125;,
    created()&#123;
    &#125;,
    mounted()&#123;
    
    &#125;
  &#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre></div>

<h3 id="APIæ–¹æ³•"><a href="#APIæ–¹æ³•" class="headerlink" title="APIæ–¹æ³•"></a>APIæ–¹æ³•</h3><div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">// è·å–è¯¾ç¨‹åŸºæœ¬ä¿¡æ¯</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getCoursebaseById = <span class="hljs-function"><span class="hljs-params">id</span> =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> http.requestQuickGet(apiUrl+<span class="hljs-string">'/course/coursebase/get/'</span>+id)
&#125;
<span class="hljs-comment">//æ›´æ–°è¯¾ç¨‹åŸºæœ¬ä¿¡æ¯</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> updateCoursebase= <span class="hljs-function">(<span class="hljs-params">id,course</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> http.requestPut(apiUrl+<span class="hljs-string">'/course/coursebase/update/'</span>+id,course)
&#125;</code></pre></div>

<h3 id="è¯¾ç¨‹ä¿¡æ¯æ˜¾ç¤º"><a href="#è¯¾ç¨‹ä¿¡æ¯æ˜¾ç¤º" class="headerlink" title="è¯¾ç¨‹ä¿¡æ¯æ˜¾ç¤º"></a>è¯¾ç¨‹ä¿¡æ¯æ˜¾ç¤º</h3><p>åœ¨ <code>mounted</code> é’©å­æ–¹æ³•ä¸­æŸ¥è¯¢è¯¾ç¨‹ä¿¡æ¯åŠæ•°æ®å­—å…¸ï¼š</p>
<div class="hljs"><pre><code class="hljs js">mounted()&#123; 
      <span class="hljs-comment">//æŸ¥è¯¢æ•°æ®å­—å…¸å­—å…¸</span>
      systemApi.sys_getDictionary(<span class="hljs-string">'201'</span>).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
<span class="hljs-comment">//        console.log(res);</span>
        <span class="hljs-keyword">this</span>.studymodelList = res.dvalue;
      &#125;);
      systemApi.sys_getDictionary(<span class="hljs-string">'200'</span>).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
        <span class="hljs-keyword">this</span>.gradeList = res.dvalue;
      &#125;);
      <span class="hljs-comment">//å–è¯¾ç¨‹åˆ†ç±»</span>
      courseApi.category_findlist(&#123;&#125;).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
           <span class="hljs-keyword">this</span>.categoryList = res.children; 
      &#125;);
      <span class="hljs-comment">//æŸ¥è¯¢è¯¾ç¨‹ä¿¡æ¯</span>
        <span class="hljs-comment">//è¯¾ç¨‹id</span>
        <span class="hljs-keyword">this</span>.courseid = <span class="hljs-keyword">this</span>.$route.params.courseid;
        courseApi.getCoursebaseById(<span class="hljs-keyword">this</span>.courseid).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
          <span class="hljs-keyword">this</span>.courseForm = res;
          <span class="hljs-comment">//è¯¾ç¨‹åˆ†ç±»æ˜¾ç¤ºï¼Œéœ€è¦ä¸¤çº§åˆ†ç±»</span>
          <span class="hljs-keyword">this</span>.categoryActive.push(<span class="hljs-keyword">this</span>.courseForm.mt);
          <span class="hljs-keyword">this</span>.categoryActive.push(<span class="hljs-keyword">this</span>.courseForm.st);
        &#125;);
    &#125;</code></pre></div>

<h3 id="è¯¾ç¨‹ä¿®æ”¹æäº¤"><a href="#è¯¾ç¨‹ä¿®æ”¹æäº¤" class="headerlink" title="è¯¾ç¨‹ä¿®æ”¹æäº¤"></a>è¯¾ç¨‹ä¿®æ”¹æäº¤</h3><p>ç¼–è¾‘è¯¾ç¨‹æäº¤æ–¹æ³•</p>
<div class="hljs"><pre><code class="hljs js">methods: &#123; 
  save () &#123;
      <span class="hljs-comment">//ä¿®æ”¹è¯¾ç¨‹</span>
      <span class="hljs-keyword">this</span>.$refs.courseForm.validate(<span class="hljs-function">(<span class="hljs-params">valid</span>) =&gt;</span> &#123;
        <span class="hljs-keyword">if</span> (valid) &#123;
          <span class="hljs-keyword">this</span>.$confirm(<span class="hljs-string">'ç¡®è®¤æäº¤å—ï¼Ÿ'</span>, <span class="hljs-string">'æç¤º'</span>, &#123;&#125;).then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;
            <span class="hljs-keyword">let</span> mt = <span class="hljs-keyword">this</span>.categoryActive[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">let</span> st = <span class="hljs-keyword">this</span>.categoryActive[<span class="hljs-number">1</span>];
            <span class="hljs-keyword">this</span>.courseForm.mt = mt;
            <span class="hljs-keyword">this</span>.courseForm.st = st;
            <span class="hljs-keyword">let</span> id = <span class="hljs-keyword">this</span>.courseForm.id
            courseApi.updateCoursebase(id,<span class="hljs-keyword">this</span>.courseForm).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
              <span class="hljs-keyword">if</span>(res.success)&#123;
                <span class="hljs-keyword">this</span>.$message(&#123;
                  message: <span class="hljs-string">'æäº¤æˆåŠŸ'</span>,
                  type: <span class="hljs-string">'success'</span>
                &#125;);
              &#125;<span class="hljs-keyword">else</span>&#123;
                <span class="hljs-keyword">if</span>(res.message)&#123;
                  <span class="hljs-keyword">this</span>.$message.error(res.message);
                &#125;<span class="hljs-keyword">else</span>&#123;
                  <span class="hljs-keyword">this</span>.$message.error(<span class="hljs-string">'æäº¤å¤±è´¥'</span>);
                &#125;
              &#125;
            &#125;);
          &#125;);
        &#125;
      &#125;);
  &#125;
&#125;,</code></pre></div>

<h1 id="å››ã€è¯¾ç¨‹è¥é”€"><a href="#å››ã€è¯¾ç¨‹è¥é”€" class="headerlink" title="å››ã€è¯¾ç¨‹è¥é”€"></a>å››ã€è¯¾ç¨‹è¥é”€</h1><h2 id="1-éœ€æ±‚åˆ†æ-3"><a href="#1-éœ€æ±‚åˆ†æ-3" class="headerlink" title="1.éœ€æ±‚åˆ†æ"></a>1.éœ€æ±‚åˆ†æ</h2><p>è¯¾ç¨‹æ·»åŠ æˆåŠŸè¿›å…¥è¯¾ç¨‹ç®¡ç†é¡µé¢ï¼Œé€šè¿‡è¯¾ç¨‹ç®¡ç†é¡µé¢ä¿®æ”¹è¯¾ç¨‹çš„åŸºæœ¬ä¿¡æ¯ã€ç¼–è¾‘è¯¾ç¨‹å›¾ç‰‡ã€ç¼–è¾‘è¯¾ç¨‹è¥é”€ä¿¡æ¯ç­‰ã€‚</p>
<p>æœ¬å°èŠ‚å®ç°è¥é”€ä¿¡æ¯çš„æŸ¥è¯¢å’Œä¿®æ”¹ã€‚</p>
<h2 id="2-è¯¾ç¨‹ç®¡ç†é¡µé¢è¯´æ˜-1"><a href="#2-è¯¾ç¨‹ç®¡ç†é¡µé¢è¯´æ˜-1" class="headerlink" title="2.è¯¾ç¨‹ç®¡ç†é¡µé¢è¯´æ˜"></a>2.è¯¾ç¨‹ç®¡ç†é¡µé¢è¯´æ˜</h2><p><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/16.png" srcset="/img/loading.gif" alt></p>
<h3 id="é¡µé¢æ–¹æ³•"><a href="#é¡µé¢æ–¹æ³•" class="headerlink" title="é¡µé¢æ–¹æ³•"></a>é¡µé¢æ–¹æ³•</h3><div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">//è·å–è¯¾ç¨‹è¥é”€ä¿¡æ¯</span>
      courseApi.getCourseMarketById(<span class="hljs-keyword">this</span>.courseid).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
         <span class="hljs-comment">//console.log(res);</span>
        <span class="hljs-keyword">if</span>(res &amp;&amp; res.id)&#123;
           <span class="hljs-keyword">this</span>.courseMarketForm = res;
        &#125;
      &#125;);

methods: &#123;
	save: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
        <span class="hljs-keyword">this</span>.$refs.courseMarketForm.validate(<span class="hljs-function">(<span class="hljs-params">valid</span>) =&gt;</span> &#123;
          <span class="hljs-keyword">if</span> (valid) &#123;
            <span class="hljs-keyword">this</span>.$confirm(<span class="hljs-string">'ç¡®è®¤æäº¤å—ï¼Ÿ'</span>, <span class="hljs-string">'æç¤º'</span>, &#123;&#125;).then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;
              courseApi.updateCourseMarket(<span class="hljs-keyword">this</span>.courseid,<span class="hljs-keyword">this</span>.courseMarketForm).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;
               <span class="hljs-keyword">this</span>.editLoading = <span class="hljs-literal">false</span>;
               <span class="hljs-keyword">if</span>(res.success)&#123;
                 <span class="hljs-keyword">this</span>.$message.success(<span class="hljs-string">'æäº¤æˆåŠŸ'</span>);
                 <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.dotype == <span class="hljs-string">'1'</span>)&#123;
                   <span class="hljs-comment">//è·³è½¬åˆ°è¯¾ç¨‹å›¾ç‰‡</span>
                   <span class="hljs-keyword">this</span>.$router.push(&#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/course/add/plan/3/1/'</span>+<span class="hljs-keyword">this</span>.courseid&#125;)
                 &#125;
               &#125;<span class="hljs-keyword">else</span>&#123;
                 <span class="hljs-keyword">this</span>.$message.error(<span class="hljs-string">'æäº¤å¤±è´¥'</span>);
               &#125;
               &#125;);
            &#125;);
          &#125;
        &#125;);
      &#125;</code></pre></div>

<h2 id="3-Apiæ¥å£"><a href="#3-Apiæ¥å£" class="headerlink" title="3.Apiæ¥å£"></a>3.Apiæ¥å£</h2><p>è¯¾ç¨‹è¥é”€éœ€è¦å¦‚ä¸‹æ¥å£ï¼š</p>
<p>1ã€æ ¹æ®idæŸ¥è¯¢è¯¾ç¨‹è¥é”€ä¿¡æ¯</p>
<p>2ã€ä¿®æ”¹è¯¾ç¨‹è¥é”€ä¿¡æ¯æäº¤</p>
<p>æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ ¹æ®è¯¾ç¨‹IDæŸ¥è¯¢è¯¾ç¨‹è¥é”€ä¿¡æ¯</li>
</ol>
<div class="hljs"><pre><code class="hljs arduino">@ApiOperation(<span class="hljs-string">"è·å–è¯¾ç¨‹è¥é”€ä¿¡æ¯"</span>)
<span class="hljs-function"><span class="hljs-keyword">public</span> CourseMarket <span class="hljs-title">getCourseMarketById</span><span class="hljs-params">(<span class="hljs-keyword">String</span> CourseMarketId)</span></span>;</code></pre></div>

<p>2ï¼‰ä¿®æ”¹è¯¾ç¨‹è¥é”€ä¿¡æ¯</p>
<div class="hljs"><pre><code class="hljs reasonml">@<span class="hljs-constructor">ApiOperation(<span class="hljs-string">"æ›´æ–°æˆ–æ·»åŠ è¯¾ç¨‹è¥é”€ä¿¡æ¯"</span>)</span>
public ResponseResult update<span class="hljs-constructor">CourseMarket(String <span class="hljs-params">id</span>,CourseMarket <span class="hljs-params">courseMarket</span>)</span>;</code></pre></div>

<h2 id="4-æœåŠ¡ç«¯-1"><a href="#4-æœåŠ¡ç«¯-1" class="headerlink" title="4. æœåŠ¡ç«¯"></a>4. æœåŠ¡ç«¯</h2><h3 id="Dao-4"><a href="#Dao-4" class="headerlink" title="Dao"></a>Dao</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CourseMarketRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">JpaRepository</span>&lt;<span class="hljs-title">CourseMarket</span>,<span class="hljs-title">String</span>&gt; </span>&#123;
&#125;</code></pre></div>

<h3 id="Service-4"><a href="#Service-4" class="headerlink" title="Service"></a>Service</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CourseMarketService</span> </span>&#123;

    <span class="hljs-meta">@Autowired</span>
    CourseMarketRepository courseMarketRepository;

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> CourseMarket <span class="hljs-title">getCourseMarketById</span><span class="hljs-params">(String courseMarketId)</span> </span>&#123;
        <span class="hljs-keyword">if</span> (StringUtils.isEmpty(courseMarketId))&#123;
            ExceptionCast.cast(CommonCode.INVALID_PARAM);
        &#125;
        Optional&lt;CourseMarket&gt; optional = courseMarketRepository.findById(courseMarketId);
        <span class="hljs-keyword">if</span> (optional.isPresent())&#123;
            <span class="hljs-keyword">return</span> optional.get();
        &#125;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    &#125;

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> ResponseResult <span class="hljs-title">updateCourseMarket</span><span class="hljs-params">(String id, CourseMarket courseMarket)</span> </span>&#123;
        <span class="hljs-keyword">if</span> (StringUtils.isEmpty(id))&#123;
            ExceptionCast.cast(CommonCode.INVALID_PARAM);
        &#125;
        <span class="hljs-keyword">if</span> (courseMarket == <span class="hljs-keyword">null</span>)&#123;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
        &#125;
        CourseMarket courseMarketOld = <span class="hljs-keyword">this</span>.getCourseMarketById(id);
        <span class="hljs-keyword">if</span> (courseMarketOld == <span class="hljs-keyword">null</span>)&#123;
            courseMarketRepository.save(courseMarket);
        &#125;<span class="hljs-keyword">else</span> &#123;
            BeanUtils.copyProperties(courseMarket,courseMarketOld);
            courseMarketRepository.save(courseMarketOld);

        &#125;

        <span class="hljs-keyword">return</span> ResponseResult.SUCCESS();


    &#125;
&#125;</code></pre></div>

<h3 id="Controller-4"><a href="#Controller-4" class="headerlink" title="Controller"></a>Controller</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Override</span>
<span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">"/market/get/&#123;id&#125;"</span>)
<span class="hljs-function"><span class="hljs-keyword">public</span> CourseMarket <span class="hljs-title">getCourseMarketById</span><span class="hljs-params">(@PathVariable(<span class="hljs-string">"id"</span>)</span> String CourseMarketId) </span>&#123;
    <span class="hljs-keyword">return</span> courseMarketService.getCourseMarketById(CourseMarketId);
&#125;

<span class="hljs-meta">@Override</span>
<span class="hljs-meta">@PutMapping</span>(<span class="hljs-string">"market/update/&#123;id&#125;"</span>)
<span class="hljs-function"><span class="hljs-keyword">public</span> ResponseResult <span class="hljs-title">updateCourseMarket</span><span class="hljs-params">(@PathVariable(<span class="hljs-string">"id"</span>)</span> String id,</span>
<span class="hljs-function">                                         @RequestBody CourseMarket courseMarket) </span>&#123;
    <span class="hljs-keyword">return</span> courseMarketService.updateCourseMarket(id,courseMarket);
&#125;</code></pre></div>

<h2 id="5-å‰ç«¯-1"><a href="#5-å‰ç«¯-1" class="headerlink" title="5.å‰ç«¯"></a>5.å‰ç«¯</h2><h3 id="APIæ–¹æ³•-1"><a href="#APIæ–¹æ³•-1" class="headerlink" title="APIæ–¹æ³•"></a>APIæ–¹æ³•</h3><div class="hljs"><pre><code class="hljs js"><span class="hljs-comment">//è·å–è¯¾ç¨‹è¥é”€ä¿¡æ¯</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getCourseMarketById = <span class="hljs-function"><span class="hljs-params">id</span> =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> http.requestQuickGet(apiUrl + <span class="hljs-string">'/course/market/get/'</span>+id)
&#125;
<span class="hljs-comment">//æ›´æ–°æˆ–æ·»åŠ è¯¾ç¨‹è¥é”€ä¿¡æ¯</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> updateCourseMarket= <span class="hljs-function">(<span class="hljs-params">id,courseMarket</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> http.requestPut(apiUrl+<span class="hljs-string">'/course/market/update/'</span>+id,courseMarket)
&#125;</code></pre></div>

<h3 id="æµ‹è¯•-3"><a href="#æµ‹è¯•-3" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p><img src="/2020/08/13/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday07/17.png" srcset="/img/loading.gif" alt></p>
<p>ä¿®æ”¹æ–¹æ³•ä¹Ÿé€šè¿‡ã€‚</p>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BF/">å­¦æˆåœ¨çº¿</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/MyBatis/">MyBatis</a>
                    
                      <a class="hover-with-bg" href="/tags/Spring-Data-MongoDB/">Spring Data MongoDB</a>
                    
                      <a class="hover-with-bg" href="/tags/Spring-Data-Jpa/">Spring Data Jpa</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2020/08/12/%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BFday06/">
                        <span class="hidden-mobile">å­¦æˆåœ¨çº¿day06</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
  </div>
</div>
<!--

ä»£ç å—js ç”¨ä¸åˆ°ï¼Œfulidè‡ªå¸¦æœ‰ï¼Œæ·»åŠ cssæ ·å¼å³å¯å®ç°
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
<script type="text/javascript" src="/libs/codeBlock/clipboard.min.js"></script>

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script> 

<style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style>

-->




<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®å­—</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
	<div>
  <span id="timeDate">è½½å…¥å¤©æ•°...</span>
  <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
  <script>
  var now = new Date();
  function createtime(){
      var grt= new Date("06/20/2020 00:00:00");//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
      now.setTime(now.getTime()+250);
      days = (now - grt ) / 1000 / 60 / 60 / 24;
      dnum = Math.floor(days);
      hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
      hnum = Math.floor(hours);
      if(String(hnum).length ==1 ){
          hnum = "0" + hnum;
      }
      minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
      mnum = Math.floor(minutes);
      if(String(mnum).length ==1 ){
                mnum = "0" + mnum;
      }
      seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
      snum = Math.round(seconds);
      if(String(snum).length ==1 ){
                snum = "0" + snum;
      }
      document.getElementById("timeDate").innerHTML = "æœ¬ç«™å‹‰å¼ºè¿è¡Œ&nbsp"+dnum+"&nbspå¤©";
      document.getElementById("times").innerHTML = hnum + "&nbspå°æ—¶&nbsp" + mnum + "&nbspåˆ†&nbsp" + snum + "&nbspç§’";
  }
  setInterval("createtime()",250);
  </script>
</div>
    
  <div class="statistics">
    
    

    
      
        <!-- ä¸è’œå­ç»Ÿè®¡PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="busuanzi_value_site_pv"></span>
             æ¬¡
          </span>
      
      
        <!-- ä¸è’œå­ç»Ÿè®¡UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="busuanzi_value_site_uv"></span>
             äºº
          </span>
      
    
  </div>


    
  <!-- å¤‡æ¡ˆä¿¡æ¯ -->
  <div class="beian">
    <a href="http://beian.miit.gov.cn/" target="_blank"
       rel="nofollow noopener">äº¬ICPè¯123456å·</a>
    
      <a
        href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=12345678"
        rel="nofollow noopener"
        class="beian-police"
        target="_blank"
      >
        <span class="beian-police-sep">&nbsp;|&nbsp;</span>
        
          <img src="/img/police_beian.png" srcset="/img/loading.gif" alt="police-icon" />
        
        <span>äº¬å…¬ç½‘å®‰å¤‡12345678å·</span>
      </a>
     
  </div>


    
	
  </div>
  

</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>



  
<script src="/js/custom.js"></script>




  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "å­¦æˆåœ¨çº¿day07&nbsp;",
      ],
      cursorChar: "|",
      typeSpeed: 65,
      loop: true,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
      icon: "<"
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>







  
  
    <script>
      !function (e, t, a) {
        function r() {
          for (var e = 0; e < s.length; e++) s[e].alpha <= 0 ? (t.body.removeChild(s[e].el), s.splice(e, 1)) : (s[e].y--, s[e].scale += .004, s[e].alpha -= .013, s[e].el.style.cssText = "left:" + s[e].x + "px;top:" + s[e].y + "px;opacity:" + s[e].alpha + ";transform:scale(" + s[e].scale + "," + s[e].scale + ") rotate(45deg);background:" + s[e].color + ";z-index:99999");
          requestAnimationFrame(r)
        }

        function n() {
          var t = "function" == typeof e.onclick && e.onclick;
          e.onclick = function (e) {
            t && t(), o(e)
          }
        }

        function o(e) {
          var a = t.createElement("div");
          a.className = "heart", s.push({
            el: a,
            x: e.clientX - 5,
            y: e.clientY - 5,
            scale: 1,
            alpha: 1,
            color: c()
          }), t.body.appendChild(a)
        }

        function i(e) {
          var a = t.createElement("style");
          a.type = "text/css";
          try {
            a.appendChild(t.createTextNode(e))
          } catch (t) {
            a.styleSheet.cssText = e
          }
          t.getElementsByTagName("head")[0].appendChild(a)
        }

        function c() {
          return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")"
        }

        var s = [];
        e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) {
          setTimeout(e, 1e3 / 60)
        }, i(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"), n(), r()
      }(window, document);
    </script>
  
















<script type="text/javascript"
color="107,160,220" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
