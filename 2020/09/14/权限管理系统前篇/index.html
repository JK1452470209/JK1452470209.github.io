<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Mr.JK">
  <meta name="keywords" content="">
  <title>权限管理、旅游系统前篇 - Mr.JK</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/darcula.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/custom.css">



  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 4.2.1"></head>





<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>私人博客</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                主页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于我
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/banner.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-09-14 15:12">
      2020-09-14
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      7.7k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      102
       分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
	
   
	
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <h1 id="权限管理、旅游系统前篇"><a href="#权限管理、旅游系统前篇" class="headerlink" title="权限管理、旅游系统前篇"></a>权限管理、旅游系统前篇</h1><h2 id="1-功能介绍"><a href="#1-功能介绍" class="headerlink" title="1.功能介绍"></a>1.功能介绍</h2><h3 id="1-1-环境搭建"><a href="#1-1-环境搭建" class="headerlink" title="1.1 环境搭建"></a>1.1 环境搭建</h3><p>主要讲解maven工程搭建，以及基于Oracle数据库的商品表信息，并完成SSM整合。</p>
<h3 id="1-2-商品查询"><a href="#1-2-商品查询" class="headerlink" title="1.2 商品查询"></a>1.2 商品查询</h3><p>基于SSM整合基础上完成商品查询，要掌握主面页面main.jsp及商品显示页面product-list.jsp页面的创建。</p>
<h3 id="1-3-商品添加"><a href="#1-3-商品添加" class="headerlink" title="1.3 商品添加"></a>1.3 商品添加</h3><p>进一步巩固SSM整合，并完成商品添加功能，要注意事务操作以及product-add.jsp页面生成。</p>
<h3 id="1-4-订单查询"><a href="#1-4-订单查询" class="headerlink" title="1.4 订单查询"></a>1.4 订单查询</h3><p>订单的查询操作，它主要完成简单的多表查询操作，查询订单时，需要查询出与订单关联的其它表中信息，所以大</p>
<p>家一定要了解订单及其它表关联关系</p>
<h3 id="1-5-订单分页查询"><a href="#1-5-订单分页查询" class="headerlink" title="1.5 订单分页查询"></a>1.5 订单分页查询</h3><p>订单分页查询，我们使用的是mybatis分页插件PageHelper，要掌握PageHelper的基本使用。</p>
<h3 id="1-6-订单详情查询"><a href="#1-6-订单详情查询" class="headerlink" title="1.6 订单详情查询"></a>1.6 订单详情查询</h3><p>订单详情是用于查询某一个订单的信息，这个知识点主要考核学生对复杂的多表查询操作的掌握。</p>
<h3 id="1-7-Spring-Security-概述"><a href="#1-7-Spring-Security-概述" class="headerlink" title="1.7 Spring Security 概述"></a>1.7 Spring Security 概述</h3><p>Spring Security是 Spring 项目组中用来提供安全认证服务的框架，它的使用很复杂，我们在课程中只介绍了spring Security的基本操作，大家要掌握spring Security框架的配置及基本的认证与授权操作。</p>
<h3 id="1-8-用户管理"><a href="#1-8-用户管理" class="headerlink" title="1.8 用户管理"></a>1.8 用户管理</h3><p>用户管理中我们会介绍基于spring Security的用户登录、退出操作。以及用户查询、添加、详情有等操作，这些功能的练习是对前期SSM知识点的进一步巩固。</p>
<h3 id="1-9-角色管理"><a href="#1-9-角色管理" class="headerlink" title="1.9 角色管理"></a>1.9 角色管理</h3><p>角色管理主要完成角色查询、角色添加</p>
<h3 id="1-10-资源权限管理"><a href="#1-10-资源权限管理" class="headerlink" title="1.10 资源权限管理"></a>1.10 资源权限管理</h3><p>资源权限管理主要完成查询、添加操作，它的操作与角色管理类似，角色管理以及资源权限管理都是对权限管理的</p>
<p>补充。</p>
<h3 id="1-11-权限关联与控制"><a href="#1-11-权限关联与控制" class="headerlink" title="1.11 权限关联与控制"></a>1.11 权限关联与控制</h3><p>主要会讲解用户角色关联、角色权限关联，这两个操作是为了后续我们完成授权操作的基础，关于授权操作我们会</p>
<p>在服务器端及页面端分别讲解</p>
<h3 id="1-12-AOP日志处理"><a href="#1-12-AOP日志处理" class="headerlink" title="1.12 AOP日志处理"></a>1.12 AOP日志处理</h3><p>AOP日志处理，我们使用spring AOP切面来完成系统级别的日志收集。</p>
<h2 id="2-数据库介绍"><a href="#2-数据库介绍" class="headerlink" title="2.数据库介绍"></a>2.数据库介绍</h2><h3 id="2-1-产品表"><a href="#2-1-产品表" class="headerlink" title="2.1 产品表"></a>2.1 产品表</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069513936.png" srcset="/img/loading.gif" alt="60006951393"></p>
<h3 id="2-2-订单表"><a href="#2-2-订单表" class="headerlink" title="2.2 订单表"></a>2.2 订单表</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069538529.png" srcset="/img/loading.gif" alt="60006953852"></p>
<h3 id="2-3-会员表"><a href="#2-3-会员表" class="headerlink" title="2.3 会员表"></a>2.3 会员表</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069552171.png" srcset="/img/loading.gif" alt="60006955217"></p>
<h3 id="2-4-旅客表"><a href="#2-4-旅客表" class="headerlink" title="2.4 旅客表"></a>2.4 旅客表</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069565927.png" srcset="/img/loading.gif" alt="60006956592"></p>
<h3 id="2-5-用户表"><a href="#2-5-用户表" class="headerlink" title="2.5 用户表"></a>2.5 用户表</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069589791.png" srcset="/img/loading.gif" alt="60006958979"></p>
<h3 id="2-6角色表"><a href="#2-6角色表" class="headerlink" title="2.6角色表"></a>2.6角色表</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069652556.png" srcset="/img/loading.gif" alt="60006965255"></p>
<h3 id="2-7资源权限表"><a href="#2-7资源权限表" class="headerlink" title="2.7资源权限表"></a>2.7资源权限表</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069673722.png" srcset="/img/loading.gif" alt="60006967372"></p>
<h3 id="2-8-日志表"><a href="#2-8-日志表" class="headerlink" title="2.8 日志表"></a>2.8 日志表</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069689663.png" srcset="/img/loading.gif" alt="60006968966"></p>
<h1 id="SSM-环境搭建与产品操作"><a href="#SSM-环境搭建与产品操作" class="headerlink" title="SSM 环境搭建与产品操作"></a>SSM 环境搭建与产品操作</h1><h2 id="1-环境准备"><a href="#1-环境准备" class="headerlink" title="1.环境准备"></a>1.环境准备</h2><h3 id="1-1-数据库与表结构"><a href="#1-1-数据库与表结构" class="headerlink" title="1.1 数据库与表结构"></a>1.1 数据库与表结构</h3><h4 id="1-1-1-创建用户与授权"><a href="#1-1-1-创建用户与授权" class="headerlink" title="1.1.1 创建用户与授权"></a>1.1.1 创建用户与授权</h4><p>数据库我们使用Oracle</p>
<p>Oracle 为每个项目创建单独user，oracle数据表存放在表空间下，每个用户有独立表空间创建用户及密码：</p>
<div class="hljs"><pre><code class="hljs mysql">语法[创建用户]： create user 用户名 identified by 口令[即密码]；
例子： create user test identified by test;

授权


语法： grant connect, resource to 用户名;
例子： grant connect, resource to test;</code></pre></div>

<p>PL/SQL Developer是一个集成开发环境，专门面向Oracle数据库存储程序单元的开发PL/SQL Developer侧重于易用性、代码品质和生产力，充分发挥Oracle应用程序开发过程中的主要优势。</p>
<p>连接oracle数据库</p>
<p>a) 创建用户</p>
<p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069939260.png" srcset="/img/loading.gif" alt="60006993926"></p>
<p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069946562.png" srcset="/img/loading.gif" alt="60006994656"></p>
<p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069952960.png" srcset="/img/loading.gif" alt="60006995296"></p>
<p>b) 授权</p>
<p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600069961953.png" srcset="/img/loading.gif" alt="60006996195"></p>
<p>对象权限是指针对于某一张表的操作权限,系统权限是指对表的CRUD操作权限, 角色权限是系统权限的集合,我们设置 时，一般是设置角色权限，设置resource与connect</p>
<h4 id="1-1-2-创建表"><a href="#1-1-2-创建表" class="headerlink" title="1.1.2 创建表"></a>1.1.2 创建表</h4><p>产品表信息描述</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>字段名称</th>
<th>字段类型</th>
<th>字段描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>id</td>
<td>varchar2(32)</td>
<td>无意义，主键uuid</td>
</tr>
<tr>
<td>2</td>
<td>productNum</td>
<td>varchar2(50)</td>
<td>产品编号，唯一，不为空</td>
</tr>
<tr>
<td>3</td>
<td>productName</td>
<td>varchar2(50)</td>
<td>产品名称（路线名称）</td>
</tr>
<tr>
<td>4</td>
<td>cityName</td>
<td>varchar2(50)</td>
<td>出发城市</td>
</tr>
<tr>
<td>5</td>
<td>DepartureTime</td>
<td>timestamp</td>
<td>出发时间</td>
</tr>
<tr>
<td>6</td>
<td>productPrice</td>
<td>number</td>
<td>产品价格</td>
</tr>
<tr>
<td>7</td>
<td>productDesc</td>
<td>varchar2(500)</td>
<td>产品描述</td>
</tr>
<tr>
<td>8</td>
<td>productStatus</td>
<td>int</td>
<td>状态(0 关闭 1 开启)</td>
</tr>
</tbody></table>
<p>创建表sql</p>
<div class="hljs"><pre><code class="hljs mysql">CREATE TABLE product(
id varchar2(32) default SYS_GUID() PRIMARY KEY,
productNum VARCHAR2(50) NOT NULL, productName VARCHAR2(50),
cityName VARCHAR2(50), DepartureTime timestamp, productPrice Number, productDesc VARCHAR2(500), productStatus INT,
CONSTRAINT product UNIQUE (id, productNum)
)

insert into PRODUCT (id, productnum, productname, cityname, departuretime, productprice,
productdesc, productstatus)
values (&#39;676C5BD1D35E429A8C2E114939C5685A&#39;, &#39;itcast-002&#39;, &#39;北京三日游&#39;, &#39;北京&#39;, to_timestamp(&#39;10- 10-2018 10:10:00.000000&#39;, &#39;dd-mm-yyyy hh24:mi:ss.ff&#39;), 1200, &#39;不错的旅行&#39;, 1);
insert into PRODUCT (id, productnum, productname, cityname, departuretime, productprice,
productdesc, productstatus)
values (&#39;12B7ABF2A4C544568B0A7C69F36BF8B7&#39;, &#39;itcast-003&#39;, &#39;上海五日游&#39;, &#39;上海&#39;, to_timestamp(&#39;25- 04-2018 14:30:00.000000&#39;, &#39;dd-mm-yyyy hh24:mi:ss.ff&#39;), 1800, &#39;魔都我来了&#39;, 0);
insert into PRODUCT (id, productnum, productname, cityname, departuretime, productprice,
productdesc, productstatus)
values (&#39;9F71F01CB448476DAFB309AA6DF9497F&#39;, &#39;itcast-001&#39;, &#39;北京三日游&#39;, &#39;北京&#39;, to_timestamp(&#39;10- 10-2018 10:10:00.000000&#39;, &#39;dd-mm-yyyy hh24:mi:ss.ff&#39;), 1200, &#39;不错的旅行&#39;, 1);</code></pre></div>

<h3 id="1-2-maven工程搭建"><a href="#1-2-maven工程搭建" class="headerlink" title="1.2 maven工程搭建"></a>1.2 maven工程搭建</h3><h4 id="1-2-1-创建maven工程"><a href="#1-2-1-创建maven工程" class="headerlink" title="1.2.1 创建maven工程"></a>1.2.1 创建maven工程</h4><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600070077414.png" srcset="/img/loading.gif" alt="60007007741"></p>
<p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600070085015.png" srcset="/img/loading.gif" alt="60007008501"></p>
<p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600070090034.png" srcset="/img/loading.gif" alt="60007009003"></p>
<p>创建子模块</p>
<p>itcast-ssm-web itcast-ssm-domain itcast-ssm-service itcast-ssm-dao itcast-ssm-utils 其中创建itcast-ssm-web时注意我们选择一个web工程</p>
<p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600070114479.png" srcset="/img/loading.gif" alt="60007011447"></p>
<h4 id="1-2-2-pom-xml"><a href="#1-2-2-pom-xml" class="headerlink" title="1.2.2 pom.xml"></a>1.2.2 pom.xml</h4><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span></span>
<span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span>
<span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.jk.jk_ssm<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jk_ssm<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 统一管理jar包版本 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">spring.version</span>&gt;</span>5.0.2.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">spring.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">slf4j.version</span>&gt;</span>1.6.6<span class="hljs-tag">&lt;/<span class="hljs-name">slf4j.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">log4j.version</span>&gt;</span>1.2.12<span class="hljs-tag">&lt;/<span class="hljs-name">log4j.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">shiro.version</span>&gt;</span>1.2.3<span class="hljs-tag">&lt;/<span class="hljs-name">shiro.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mysql.version</span>&gt;</span>5.1.6<span class="hljs-tag">&lt;/<span class="hljs-name">mysql.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mybatis.version</span>&gt;</span>3.4.5<span class="hljs-tag">&lt;/<span class="hljs-name">mybatis.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">spring.security.version</span>&gt;</span>5.0.1.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">spring.security.version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 锁定jar包版本 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-tx<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;mybatis.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 项目依赖jar包 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- spring --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.6.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context-support<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-orm<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-beans<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-tx<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- log start --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4j-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;slf4j.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4j-log4j12<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;slf4j.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- log end --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;mybatis.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>c3p0<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>c3p0<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.9.1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>jar<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.security<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-security-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.security.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.security<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-security-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.security.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.security<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-security-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.security.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.security<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-security-taglibs<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.security.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.annotation<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsr250-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 添加tomcat7插件 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>


    <span class="hljs-tag">&lt;<span class="hljs-name">modules</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>jk_ssm_dao<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>jk_ssm_service<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>jk_ssm_domain<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>jk_ssm_utils<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>jk_ssm_web<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">modules</span>&gt;</span>


<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span></code></pre></div>

<h3 id="1-3编写实体类"><a href="#1-3编写实体类" class="headerlink" title="1.3编写实体类"></a>1.3编写实体类</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@outhor</span> Mr.JK</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@create</span> 2020-05-01  10:52</span>
<span class="hljs-comment"> * 产品</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Product</span> </span>&#123;
    <span class="hljs-keyword">private</span> Integer id; <span class="hljs-comment">// 主键</span>
    <span class="hljs-keyword">private</span> String productNum; <span class="hljs-comment">// 编号 唯一</span>
    <span class="hljs-keyword">private</span> String productName; <span class="hljs-comment">// 名称</span>
    <span class="hljs-keyword">private</span> String cityName; <span class="hljs-comment">// 出发城市</span>
    <span class="hljs-meta">@DateTimeFormat</span>(pattern = <span class="hljs-string">"yyyy-MM-dd HH:mm"</span>)
    <span class="hljs-keyword">private</span> Date departureTime; <span class="hljs-comment">// 出发时间</span>
    <span class="hljs-keyword">private</span> String departureTimeStr;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> productPrice; <span class="hljs-comment">// 产品价格</span>
    <span class="hljs-keyword">private</span> String productDesc; <span class="hljs-comment">// 产品描述</span>
    <span class="hljs-keyword">private</span> Integer productStatus; <span class="hljs-comment">// 状态 0 关闭 1 开启</span>
    <span class="hljs-keyword">private</span> String productStatusStr;
&#125;</code></pre></div>

<h3 id="1-4-编写业务接口"><a href="#1-4-编写业务接口" class="headerlink" title="1.4 编写业务接口"></a>1.4 编写业务接口</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IProductService</span> </span>&#123;

	<span class="hljs-function">List&lt;Product&gt; <span class="hljs-title">findAll</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception</span>;
&#125;</code></pre></div>

<h3 id="1-5-编写持久层接口"><a href="#1-5-编写持久层接口" class="headerlink" title="1.5 编写持久层接口"></a>1.5 编写持久层接口</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IProductDao</span> </span>&#123;
	<span class="hljs-meta">@Select</span>(<span class="hljs-string">"select * from product"</span>) 
    <span class="hljs-function">List&lt;Product&gt; <span class="hljs-title">findAll</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception</span>;
&#125;</code></pre></div>

<h2 id="2-SSM整合与产品查询"><a href="#2-SSM整合与产品查询" class="headerlink" title="2.SSM整合与产品查询"></a>2.SSM整合与产品查询</h2><h3 id="2-1-Spring环境搭建"><a href="#2-1-Spring环境搭建" class="headerlink" title="2.1 Spring环境搭建"></a>2.1 Spring环境搭建</h3><h4 id="2-1-1-编写Spring配置文件applicationContext-xml"><a href="#2-1-1-编写Spring配置文件applicationContext-xml" class="headerlink" title="2.1.1.编写Spring配置文件applicationContext.xml"></a>2.1.1.编写Spring配置文件applicationContext.xml</h4><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 配置 spring 创建容器时要扫描的包 --&gt;</span> 
<span class="hljs-comment">&lt;!-- 开启注解扫描，管理service和dao --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"com.itheima.ssm.service"</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"com.itheima.ssm.dao"</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span></code></pre></div>

<h4 id="2-1-2-使用注解配置业务层"><a href="#2-1-2-使用注解配置业务层" class="headerlink" title="2.1.2.使用注解配置业务层"></a>2.1.2.使用注解配置业务层</h4><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IProductService</span></span>&#123;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title">findAll</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
    	<span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    &#125;
&#125;</code></pre></div>

<h3 id="2-2-Spring-MVC-环境搭建"><a href="#2-2-Spring-MVC-环境搭建" class="headerlink" title="2.2 Spring MVC 环境搭建"></a>2.2 Spring MVC 环境搭建</h3><h4 id="2-2-1-web-xml配置Spring-MVC核心控制器"><a href="#2-2-1-web-xml配置Spring-MVC核心控制器" class="headerlink" title="2.2.1.web.xml配置Spring MVC核心控制器"></a>2.2.1.web.xml配置Spring MVC核心控制器</h4><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 前端控制器（加载classpath:spring-mvc.xml 服务器启动创建servlet） --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>dispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 配置初始化参数，创建完DispatcherServlet对象，加载springmvc.xml配置文件 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:spring-mvc.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 服务器启动的时候，让DispatcherServlet对象创建 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>dispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>*.do<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- 解决中文乱码过滤器 --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>characterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>characterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span></code></pre></div>

<h4 id="2-2-2-Spring-MVC配置文件springmvc-xml"><a href="#2-2-2-Spring-MVC配置文件springmvc-xml" class="headerlink" title="2.2.2.Spring MVC配置文件springmvc.xml"></a>2.2.2.Spring MVC配置文件springmvc.xml</h4><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 扫描controller的注解，别的不扫描 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"com.jk.ssm.controller"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 配置视图解析器 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"viewResolver"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- JSP文件所在的目录 --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prefix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"/pages/"</span> /&gt;</span>
        <span class="hljs-comment">&lt;!-- 文件的后缀名 --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"suffix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">".jsp"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 设置静态资源不过滤 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:resources</span> <span class="hljs-attr">location</span>=<span class="hljs-string">"/css/"</span> <span class="hljs-attr">mapping</span>=<span class="hljs-string">"/css/**"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:resources</span> <span class="hljs-attr">location</span>=<span class="hljs-string">"/img/"</span> <span class="hljs-attr">mapping</span>=<span class="hljs-string">"/img/**"</span> /&gt;</span>
<span class="hljs-comment">&lt;!--    &lt;mvc:resources location="/js/" mapping="/js/**" /&gt;--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:resources</span> <span class="hljs-attr">location</span>=<span class="hljs-string">"/plugins/"</span> <span class="hljs-attr">mapping</span>=<span class="hljs-string">"/plugins/**"</span> /&gt;</span>

    <span class="hljs-comment">&lt;!-- 开启对SpringMVC注解的支持 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span>

    <span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">        支持AOP的注解支持，AOP底层使用代理技术</span>
<span class="hljs-comment">        JDK动态代理，要求必须有接口</span>
<span class="hljs-comment">        cglib代理，生成子类对象，proxy-target-class="true" 默认使用cglib的方式</span>
<span class="hljs-comment">    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">aop:aspectj-autoproxy</span> <span class="hljs-attr">proxy-target-class</span>=<span class="hljs-string">"true"</span>/&gt;</span></code></pre></div>

<h4 id="2-2-3-编写Controller"><a href="#2-2-3-编写Controller" class="headerlink" title="2.2.3.编写Controller"></a>2.2.3.编写Controller</h4><p>ProductController</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span> <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/product"</span>) <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductController</span> </span>&#123;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> IProductService productService;

    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/findAll.do"</span>) 
    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">findAll</span><span class="hljs-params">()</span> </span>&#123;
    	<span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    &#125;
&#125;</code></pre></div>

<h3 id="2-3-Spring与Spring-MVC整合"><a href="#2-3-Spring与Spring-MVC整合" class="headerlink" title="2.3 Spring与Spring MVC整合"></a>2.3 Spring与Spring MVC整合</h3><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 配置加载类路径的配置文件 --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath*:applicationContext.xml,classpath*:spring-security.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- 配置监听器 --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span></code></pre></div>

<h3 id="2-4-Spring与MyBatis整合"><a href="#2-4-Spring与MyBatis整合" class="headerlink" title="2.4 Spring与MyBatis整合"></a>2.4 Spring与MyBatis整合</h3><h4 id="2-4-1-整合思路"><a href="#2-4-1-整合思路" class="headerlink" title="2.4.1.整合思路"></a>2.4.1.整合思路</h4><p>把 mybatis 配置文件（mybatis.xml）中内容配置到 spring 配置文件中 。</p>
<h4 id="2-4-2-Spring接管mybatis的Session工厂"><a href="#2-4-2-Spring接管mybatis的Session工厂" class="headerlink" title="2.4.2.Spring接管mybatis的Session工厂"></a>2.4.2.Spring接管mybatis的Session工厂</h4><p>db.properties</p>
<div class="hljs"><pre><code class="hljs properties"><span class="hljs-meta">jdbc.driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver </span>
<span class="hljs-meta">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/ssm?useUnicode=true&amp;characterEncoding=utf8</span>
<span class="hljs-meta">jdbc.username</span>=<span class="hljs-string">root</span>
<span class="hljs-meta">jdbc.password</span>=<span class="hljs-string">root</span></code></pre></div>

<div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:db.properties"</span>/&gt;</span>
    <span class="hljs-comment">&lt;!-- 配置连接池 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClass"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;jdbc.driver&#125;"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"jdbcUrl"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;jdbc.url&#125;"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;jdbc.username&#125;"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$&#123;jdbc.password&#125;"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 把交给IOC管理 SqlSessionFactory --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"dataSource"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div>

<h4 id="2-4-3-自动扫描所有Mapper接口和文件"><a href="#2-4-3-自动扫描所有Mapper接口和文件" class="headerlink" title="2.4.3.自动扫描所有Mapper接口和文件"></a>2.4.3.自动扫描所有Mapper接口和文件</h4><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 扫描dao接口 --&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mapperScanner"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"basePackage"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"com.itheima.ssm.dao"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div>

<h4 id="2-4-4-配置Spring事务"><a href="#2-4-4-配置Spring事务" class="headerlink" title="2.4.4.配置Spring事务"></a>2.4.4.配置Spring事务</h4><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 配置Spring的声明式事务管理 --&gt;</span> 
<span class="hljs-comment">&lt;!-- 配置事务管理器 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"transactionManager"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"dataSource"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">tx:annotation-driven</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">"transactionManager"</span>/&gt;</span></code></pre></div>

<h3 id="2-5-测试运行"><a href="#2-5-测试运行" class="headerlink" title="2.5 测试运行"></a>2.5 测试运行</h3><h4 id="2-5-1-编写jsp页面"><a href="#2-5-1-编写jsp页面" class="headerlink" title="2.5.1.编写jsp页面"></a>2.5.1.编写jsp页面</h4><h5 id="2-5-1-1-请求发起页面-index-jsp"><a href="#2-5-1-1-请求发起页面-index-jsp" class="headerlink" title="2.5.1.1 请求发起页面 index.jsp"></a>2.5.1.1 请求发起页面 index.jsp</h5><div class="hljs"><pre><code class="hljs jsp">&lt;%@ page language=<span class="hljs-string">"java"</span> contentType=<span class="hljs-string">"text/html; charset=UTF-8"</span>
pageEncoding=<span class="hljs-string">"UTF-8"</span>%&gt;
&lt;!DOCTYPE html PUBLIC <span class="hljs-string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span>
<span class="hljs-string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;
&lt;html&gt; &lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt; &lt;title&gt;主页&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;a href="$&#123;pageContext.request.contextPath&#125;/product/findAll.do"&gt;查询产品信息&lt;/a&gt;

&lt;/body&gt; &lt;/html&gt;</code></pre></div>

<h5 id="2-5-1-2-显示产品页面-product-list-jsp"><a href="#2-5-1-2-显示产品页面-product-list-jsp" class="headerlink" title="2.5.1.2 显示产品页面 product-list.jsp"></a>2.5.1.2 显示产品页面 product-list.jsp</h5><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600071180791.png" srcset="/img/loading.gif" alt="60007118079"></p>
<h4 id="2-5-2-Controller"><a href="#2-5-2-Controller" class="headerlink" title="2.5.2.Controller"></a>2.5.2.Controller</h4><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span>
<span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/product"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductController</span> </span>&#123;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> IProductService productService;

    <span class="hljs-comment">/*</span>
<span class="hljs-comment">    查询全部产品</span>
<span class="hljs-comment">     */</span>
    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/findAll.do"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">findAll</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
        ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();
        List&lt;Product&gt; ps = productService.findAll();
        mv.addObject(<span class="hljs-string">"productList"</span>,ps);
        mv.setViewName(<span class="hljs-string">"product-list1"</span>);
        <span class="hljs-keyword">return</span> mv;
    &#125;

&#125;</code></pre></div>

<h2 id="3-商品添加"><a href="#3-商品添加" class="headerlink" title="3.商品添加"></a>3.商品添加</h2><h3 id="3-1-商品添加页面-product-add-jsp"><a href="#3-1-商品添加页面-product-add-jsp" class="headerlink" title="3.1 商品添加页面 product-add.jsp"></a>3.1 商品添加页面 product-add.jsp</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600071236913.png" srcset="/img/loading.gif" alt="60007123691"></p>
<p>页面详细代码请查看今天课程资料</p>
<h3 id="3-2-Controller"><a href="#3-2-Controller" class="headerlink" title="3.2 Controller"></a>3.2 Controller</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span>
<span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/product"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductController</span> </span>&#123;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> IProductService productService;

    <span class="hljs-comment">//产品添加</span>
    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/save.do"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">save</span><span class="hljs-params">(Product product)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
        productService.save(product);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:findAll.do"</span>;
    &#125;

    <span class="hljs-comment">/*</span>
<span class="hljs-comment">    查询全部产品</span>
<span class="hljs-comment">     */</span>
    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/findAll.do"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">findAll</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
        ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();
        List&lt;Product&gt; ps = productService.findAll();
        mv.addObject(<span class="hljs-string">"productList"</span>,ps);
        mv.setViewName(<span class="hljs-string">"product-list1"</span>);
        <span class="hljs-keyword">return</span> mv;
    &#125;

&#125;</code></pre></div>

<h3 id="3-3-Dao"><a href="#3-3-Dao" class="headerlink" title="3.3 Dao"></a>3.3 Dao</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IProductDao</span> </span>&#123;

	<span class="hljs-meta">@Select</span>(<span class="hljs-string">"select * from product"</span>) 
    <span class="hljs-function">List&lt;Product&gt; <span class="hljs-title">findAll</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception</span>;

<span class="hljs-meta">@Insert</span>(<span class="hljs-string">"insert into product(productNum,productName,cityName,departureTime,productPrice,productDesc,productStatus) values(#&#123;productNum&#125;,#&#123;productName&#125;,#&#123;cityName&#125;,#&#123;departureTime&#125;,#&#123;productPrice&#125;,# &#123;productDesc&#125;,#&#123;productStatus&#125;)"</span>)
	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">save</span><span class="hljs-params">(Product product)</span></span>;
&#125;</code></pre></div>

<h1 id="SSM订单操作"><a href="#SSM订单操作" class="headerlink" title="SSM订单操作"></a>SSM订单操作</h1><h2 id="1-表结构分析"><a href="#1-表结构分析" class="headerlink" title="1.表结构分析"></a>1.表结构分析</h2><h3 id="1-1-订单表信息描述orders"><a href="#1-1-订单表信息描述orders" class="headerlink" title="1.1.订单表信息描述orders"></a>1.1.订单表信息描述orders</h3><table>
<thead>
<tr>
<th>序号</th>
<th>字段名称</th>
<th>字段类型</th>
<th>字段描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>id</td>
<td>varchar2(32)</td>
<td>无意义、主键uuid</td>
</tr>
<tr>
<td>2</td>
<td>orderNum</td>
<td>varchar2(50)</td>
<td>订单编号 不为空  唯一</td>
</tr>
<tr>
<td>3</td>
<td>orderTime</td>
<td>timestamp</td>
<td>下单时间</td>
</tr>
<tr>
<td>4</td>
<td>peopleCount</td>
<td>int</td>
<td>出行人数</td>
</tr>
<tr>
<td>5</td>
<td>orderDesc</td>
<td>varchar2(500)</td>
<td>订单描述(其它信息)</td>
</tr>
<tr>
<td>6</td>
<td>payType</td>
<td>int</td>
<td>支付方式(0 支付宝 1 微信 2其它)</td>
</tr>
<tr>
<td>7</td>
<td>orderStatus</td>
<td>int</td>
<td>订单状态(0 未支付 1 已支付)</td>
</tr>
<tr>
<td>8</td>
<td>productId</td>
<td>int</td>
<td>产品id 外键</td>
</tr>
<tr>
<td>9</td>
<td>memberid</td>
<td>int</td>
<td>会员(联系人）id 外键</td>
</tr>
</tbody></table>
<p>productId描述了订单与产品之间的关系。</p>
<p>memberid描述了订单与会员之间的关系。</p>
<p>创建表sql</p>
<div class="hljs"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> orders(
<span class="hljs-keyword">id</span> <span class="hljs-built_in">varchar2</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">default</span> SYS_GUID() PRIMARY <span class="hljs-keyword">KEY</span>, orderNum <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">UNIQUE</span>,
orderTime <span class="hljs-built_in">timestamp</span>, peopleCount <span class="hljs-built_in">INT</span>, orderDesc <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">500</span>), payType <span class="hljs-built_in">INT</span>,
orderStatus <span class="hljs-built_in">INT</span>, productId <span class="hljs-built_in">varchar2</span>(<span class="hljs-number">32</span>), memberId <span class="hljs-built_in">varchar2</span>(<span class="hljs-number">32</span>),
<span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (productId) <span class="hljs-keyword">REFERENCES</span> product(<span class="hljs-keyword">id</span>), <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (memberId) <span class="hljs-keyword">REFERENCES</span> <span class="hljs-keyword">member</span>(<span class="hljs-keyword">id</span>)
)
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> ORDERS (<span class="hljs-keyword">id</span>, ordernum, ordertime, peoplecount, orderdesc, paytype, orderstatus, productid, memberid)

<span class="hljs-keyword">values</span> (<span class="hljs-string">'0E7231DC797C486290E8713CA3C6ECCC'</span>, <span class="hljs-string">'12345'</span>, to_timestamp(<span class="hljs-string">'02-03-2018 12:00:00.000000'</span>,
<span class="hljs-string">'dd-mm-yyyy hh24:mi:ss.ff'</span>), <span class="hljs-number">2</span>, <span class="hljs-string">'没什么'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'676C5BD1D35E429A8C2E114939C5685A'</span>,

<span class="hljs-string">'E61D65F673D54F68B0861025C69773DB'</span>);
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> ORDERS (<span class="hljs-keyword">id</span>, ordernum, ordertime, peoplecount, orderdesc, paytype, orderstatus, productid, memberid)
<span class="hljs-keyword">values</span> (<span class="hljs-string">'5DC6A48DD4E94592AE904930EA866AFA'</span>, <span class="hljs-string">'54321'</span>, to_timestamp(<span class="hljs-string">'02-03-2018 12:00:00.000000'</span>, <span class="hljs-string">'dd-mm-yyyy hh24:mi:ss.ff'</span>), <span class="hljs-number">2</span>, <span class="hljs-string">'没什么'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'676C5BD1D35E429A8C2E114939C5685A'</span>, <span class="hljs-string">'E61D65F673D54F68B0861025C69773DB'</span>);
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> ORDERS (<span class="hljs-keyword">id</span>, ordernum, ordertime, peoplecount, orderdesc, paytype, orderstatus, productid, memberid)
<span class="hljs-keyword">values</span> (<span class="hljs-string">'2FF351C4AC744E2092DCF08CFD314420'</span>, <span class="hljs-string">'67890'</span>, to_timestamp(<span class="hljs-string">'02-03-2018 12:00:00.000000'</span>, <span class="hljs-string">'dd-mm-yyyy hh24:mi:ss.ff'</span>), <span class="hljs-number">2</span>, <span class="hljs-string">'没什么'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'12B7ABF2A4C544568B0A7C69F36BF8B7'</span>, <span class="hljs-string">'E61D65F673D54F68B0861025C69773DB'</span>);
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> ORDERS (<span class="hljs-keyword">id</span>, ordernum, ordertime, peoplecount, orderdesc, paytype, orderstatus, productid, memberid)
<span class="hljs-keyword">values</span> (<span class="hljs-string">'A0657832D93E4B10AE88A2D4B70B1A28'</span>, <span class="hljs-string">'98765'</span>, to_timestamp(<span class="hljs-string">'02-03-2018 12:00:00.000000'</span>, <span class="hljs-string">'dd-mm-yyyy hh24:mi:ss.ff'</span>), <span class="hljs-number">2</span>, <span class="hljs-string">'没什么'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'12B7ABF2A4C544568B0A7C69F36BF8B7'</span>, <span class="hljs-string">'E61D65F673D54F68B0861025C69773DB'</span>);
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> ORDERS (<span class="hljs-keyword">id</span>, ordernum, ordertime, peoplecount, orderdesc, paytype, orderstatus, productid, memberid)
<span class="hljs-keyword">values</span> (<span class="hljs-string">'E4DD4C45EED84870ABA83574A801083E'</span>, <span class="hljs-string">'11111'</span>, to_timestamp(<span class="hljs-string">'02-03-2018 12:00:00.000000'</span>, <span class="hljs-string">'dd-mm-yyyy hh24:mi:ss.ff'</span>), <span class="hljs-number">2</span>, <span class="hljs-string">'没什么'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'12B7ABF2A4C544568B0A7C69F36BF8B7'</span>, <span class="hljs-string">'E61D65F673D54F68B0861025C69773DB'</span>);
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> ORDERS (<span class="hljs-keyword">id</span>, ordernum, ordertime, peoplecount, orderdesc, paytype, orderstatus, productid, memberid)
<span class="hljs-keyword">values</span> (<span class="hljs-string">'96CC8BD43C734CC2ACBFF09501B4DD5D'</span>, <span class="hljs-string">'22222'</span>, to_timestamp(<span class="hljs-string">'02-03-2018 12:00:00.000000'</span>, <span class="hljs-string">'dd-mm-yyyy hh24:mi:ss.ff'</span>), <span class="hljs-number">2</span>, <span class="hljs-string">'没什么'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'12B7ABF2A4C544568B0A7C69F36BF8B7'</span>, <span class="hljs-string">'E61D65F673D54F68B0861025C69773DB'</span>);
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> ORDERS (<span class="hljs-keyword">id</span>, ordernum, ordertime, peoplecount, orderdesc, paytype, orderstatus, productid, memberid)
<span class="hljs-keyword">values</span> (<span class="hljs-string">'55F9AF582D5A4DB28FB4EC3199385762'</span>, <span class="hljs-string">'33333'</span>, to_timestamp(<span class="hljs-string">'02-03-2018 12:00:00.000000'</span>, <span class="hljs-string">'dd-mm-yyyy hh24:mi:ss.ff'</span>), <span class="hljs-number">2</span>, <span class="hljs-string">'没什么'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'9F71F01CB448476DAFB309AA6DF9497F'</span>, <span class="hljs-string">'E61D65F673D54F68B0861025C69773DB'</span>);
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> ORDERS (<span class="hljs-keyword">id</span>, ordernum, ordertime, peoplecount, orderdesc, paytype, orderstatus, productid, memberid)
<span class="hljs-keyword">values</span> (<span class="hljs-string">'CA005CF1BE3C4EF68F88ABC7DF30E976'</span>, <span class="hljs-string">'44444'</span>, to_timestamp(<span class="hljs-string">'02-03-2018 12:00:00.000000'</span>, <span class="hljs-string">'dd-mm-yyyy hh24:mi:ss.ff'</span>), <span class="hljs-number">2</span>, <span class="hljs-string">'没什么'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'9F71F01CB448476DAFB309AA6DF9497F'</span>, <span class="hljs-string">'E61D65F673D54F68B0861025C69773DB'</span>);
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> ORDERS (<span class="hljs-keyword">id</span>, ordernum, ordertime, peoplecount, orderdesc, paytype, orderstatus, productid, memberid)
<span class="hljs-keyword">values</span> (<span class="hljs-string">'3081770BC3984EF092D9E99760FDABDE'</span>, <span class="hljs-string">'55555'</span>, to_timestamp(<span class="hljs-string">'02-03-2018 12:00:00.000000'</span>, <span class="hljs-string">'dd-mm-yyyy hh24:mi:ss.ff'</span>), <span class="hljs-number">2</span>, <span class="hljs-string">'没什么'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'9F71F01CB448476DAFB309AA6DF9497F'</span>, <span class="hljs-string">'E61D65F673D54F68B0861025C69773DB'</span>);</code></pre></div>

<p>实体类</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@outhor</span> Mr.JK</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@create</span> 2020-05-01  16:12</span>
<span class="hljs-comment"> * 订单</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Orders</span> </span>&#123;
    <span class="hljs-keyword">private</span> Integer id;
    <span class="hljs-keyword">private</span> String orderNum;
    <span class="hljs-keyword">private</span> Date orderTime;
    <span class="hljs-meta">@DateTimeFormat</span>(pattern = <span class="hljs-string">"yyyy-MM-dd HH:mm"</span>)
    <span class="hljs-keyword">private</span> String orderTimeStr;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> orderStatus;
    <span class="hljs-keyword">private</span> String orderStatusStr;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> peopleCount;
    <span class="hljs-keyword">private</span> Product product;
    <span class="hljs-keyword">private</span> List&lt;Traveller&gt; travellers;
    <span class="hljs-keyword">private</span> Member member;
    <span class="hljs-keyword">private</span> Integer payType;
    <span class="hljs-keyword">private</span> String payTypeStr;
    <span class="hljs-keyword">private</span> String orderDesc;
&#125;</code></pre></div>

<h3 id="1-2-会员表信息描述member"><a href="#1-2-会员表信息描述member" class="headerlink" title="1.2 会员表信息描述member"></a>1.2 会员表信息描述member</h3><p>订单与会员之间是多对一关系，我们在订单表中创建一个外键来进行关联。</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>字段名称</th>
<th>字段类型</th>
<th>字段描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>id</td>
<td>varchar2(32)</td>
<td>无意义、主键uuid</td>
</tr>
<tr>
<td>2</td>
<td>name</td>
<td>varchar2(20)</td>
<td>姓名</td>
</tr>
<tr>
<td>3</td>
<td>nickName</td>
<td>varchar2(20)</td>
<td>昵称</td>
</tr>
<tr>
<td>4</td>
<td>phoneNum</td>
<td>varchar2(20)</td>
<td>电话号码</td>
</tr>
<tr>
<td>5</td>
<td>email</td>
<td>varchar2(50)</td>
<td>邮箱</td>
</tr>
</tbody></table>
<p>创建表sql</p>
<div class="hljs"><pre><code class="hljs mysql">CREATE TABLE member(
id varchar2(32) default SYS_GUID() PRIMARY KEY, NAME VARCHAR2(20),
nickname VARCHAR2(20), phoneNum VARCHAR2(20), email VARCHAR2(20)
)
insert into MEMBER (id, name, nickname, phonenum, email)
values (&#39;E61D65F673D54F68B0861025C69773DB&#39;, &#39;张三&#39;, &#39;小三&#39;, &#39;18888888888&#39;, &#39;zs@163.com&#39;);</code></pre></div>

<p>实体类</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Member</span> </span>&#123;

	<span class="hljs-keyword">private</span> String id; 
    <span class="hljs-keyword">private</span> String name; 
    <span class="hljs-keyword">private</span> String nickname; 
    <span class="hljs-keyword">private</span> String phoneNum; 
    <span class="hljs-keyword">private</span> String email; 
    <span class="hljs-comment">//省略getter/setter</span>
&#125;</code></pre></div>

<h3 id="1-3-旅客表信息描述traveller"><a href="#1-3-旅客表信息描述traveller" class="headerlink" title="1.3.旅客表信息描述traveller"></a>1.3.旅客表信息描述traveller</h3><table>
<thead>
<tr>
<th>序号</th>
<th>字段名称</th>
<th>字段类型</th>
<th>字段描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>id</td>
<td>varchar2(32)</td>
<td>无意义、主键uuid</td>
</tr>
<tr>
<td>2</td>
<td>name</td>
<td>varchar2(20)</td>
<td>姓名</td>
</tr>
<tr>
<td>3</td>
<td>sex</td>
<td>varchar2(20)</td>
<td>性别</td>
</tr>
<tr>
<td>4</td>
<td>phoneNum</td>
<td>varchar2(20)</td>
<td>电话号码</td>
</tr>
<tr>
<td>5</td>
<td>credentialsType</td>
<td>int</td>
<td>证件类型 0身份证 1护照 2军官证</td>
</tr>
<tr>
<td>6</td>
<td>credentialsNum</td>
<td>varchar2(50)</td>
<td>证件号码</td>
</tr>
<tr>
<td>7</td>
<td>travellerType</td>
<td>int</td>
<td>旅客类型(人群) 0 成人 1 儿童</td>
</tr>
</tbody></table>
<p>创建表sql</p>
<div class="hljs"><pre><code class="hljs mysql">CREATE TABLE traveller(
id varchar2(32) default SYS_GUID() PRIMARY KEY, NAME VARCHAR2(20),
sex VARCHAR2(20), phoneNum VARCHAR2(20), credentialsType INT,
credentialsNum VARCHAR2(50), travellerType INT
)
insert into TRAVELLER (id, name, sex, phonenum, credentialstype, credentialsnum, travellertype) values (&#39;3FE27DF2A4E44A6DBC5D0FE4651D3D3E&#39;, &#39;张龙&#39;, &#39;男&#39;, &#39;13333333333&#39;, 0, &#39;123456789009876543&#39;, 0);
insert into TRAVELLER (id, name, sex, phonenum, credentialstype, credentialsnum, travellertype) values (&#39;EE7A71FB6945483FBF91543DBE851960&#39;, &#39;张小龙&#39;, &#39;男&#39;, &#39;15555555555&#39;, 0, &#39;987654321123456789&#39;, 1);</code></pre></div>

<p>实体类</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@outhor</span> Mr.JK</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@create</span> 2020-05-01  16:23</span>
<span class="hljs-comment"> * 旅客</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Traveller</span> </span>&#123;
    <span class="hljs-keyword">private</span> Integer id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> String sex;
    <span class="hljs-keyword">private</span> String phoneNum;
    <span class="hljs-keyword">private</span> Integer credentialsType;
    <span class="hljs-keyword">private</span> String credentialsTypeStr;
    <span class="hljs-keyword">private</span> String credentialsNum;
    <span class="hljs-keyword">private</span> Integer travellerType;
    <span class="hljs-keyword">private</span> String travellerTypeStr;
&#125;</code></pre></div>

<p>旅客与订单之间是多对多关系，所以我们需要一张中间表（order_traveller）来描述</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>字段名称</th>
<th>字段类型</th>
<th>字段描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>orderId</td>
<td>varchar2(32)</td>
<td>订单id</td>
</tr>
<tr>
<td>2</td>
<td>travellerId</td>
<td>varchar2(32)</td>
<td>旅客id</td>
</tr>
</tbody></table>
<p>创建表sql</p>
<div class="hljs"><pre><code class="hljs mysql">CREATE TABLE order_traveller( orderId varchar2(32), travellerId varchar2(32),
PRIMARY KEY (orderId,travellerId),
FOREIGN KEY (orderId) REFERENCES orders(id), FOREIGN KEY (travellerId) REFERENCES traveller(id)
)

insert into ORDER_TRAVELLER (orderid, travellerid)
values (&#39;0E7231DC797C486290E8713CA3C6ECCC&#39;, &#39;3FE27DF2A4E44A6DBC5D0FE4651D3D3E&#39;); insert into ORDER_TRAVELLER (orderid, travellerid)
values (&#39;2FF351C4AC744E2092DCF08CFD314420&#39;, &#39;3FE27DF2A4E44A6DBC5D0FE4651D3D3E&#39;); insert into ORDER_TRAVELLER (orderid, travellerid)
values (&#39;3081770BC3984EF092D9E99760FDABDE&#39;, &#39;EE7A71FB6945483FBF91543DBE851960&#39;); insert into ORDER_TRAVELLER (orderid, travellerid)
values (&#39;55F9AF582D5A4DB28FB4EC3199385762&#39;, &#39;EE7A71FB6945483FBF91543DBE851960&#39;); insert into ORDER_TRAVELLER (orderid, travellerid)
values (&#39;5DC6A48DD4E94592AE904930EA866AFA&#39;, &#39;3FE27DF2A4E44A6DBC5D0FE4651D3D3E&#39;); insert into ORDER_TRAVELLER (orderid, travellerid)
values (&#39;96CC8BD43C734CC2ACBFF09501B4DD5D&#39;, &#39;EE7A71FB6945483FBF91543DBE851960&#39;); insert into ORDER_TRAVELLER (orderid, travellerid)
values (&#39;A0657832D93E4B10AE88A2D4B70B1A28&#39;, &#39;3FE27DF2A4E44A6DBC5D0FE4651D3D3E&#39;); insert into ORDER_TRAVELLER (orderid, travellerid)
values (&#39;CA005CF1BE3C4EF68F88ABC7DF30E976&#39;, &#39;EE7A71FB6945483FBF91543DBE851960&#39;); insert into ORDER_TRAVELLER (orderid, travellerid)
values (&#39;E4DD4C45EED84870ABA83574A801083E&#39;, &#39;EE7A71FB6945483FBF91543DBE851960&#39;);</code></pre></div>

<h2 id="2-订单查询"><a href="#2-订单查询" class="headerlink" title="2.订单查询"></a>2.订单查询</h2><h3 id="2-1-订单查询页面-order-list-jsp"><a href="#2-1-订单查询页面-order-list-jsp" class="headerlink" title="2.1 订单查询页面 order-list.jsp"></a>2.1 订单查询页面 order-list.jsp</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600071735388.png" srcset="/img/loading.gif" alt="60007173538"></p>
<p>详细代码请查看今天课程资料</p>
<h3 id="2-2-Controller"><a href="#2-2-Controller" class="headerlink" title="2.2 Controller"></a>2.2 Controller</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span>
<span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/orders"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrdersController</span> </span>&#123;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> IOrdersService ordersService;


    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/findAll.do"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">findAll</span><span class="hljs-params">(@RequestParam(name=<span class="hljs-string">"page"</span>,required = <span class="hljs-keyword">true</span>,defaultValue = <span class="hljs-string">"1"</span>)</span> Integer page,@<span class="hljs-title">RequestParam</span><span class="hljs-params">(name = <span class="hljs-string">"size"</span>,required = <span class="hljs-keyword">true</span>,defaultValue = <span class="hljs-string">"4"</span>)</span> Integer size) <span class="hljs-keyword">throws</span> Exception </span>&#123;
        ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();
        List&lt;Orders&gt; ordersList = ordersService.findAll(page, size);
        <span class="hljs-comment">//PageInfo就是一个分页Bean</span>
        PageInfo pageInfo = <span class="hljs-keyword">new</span> PageInfo(ordersList);
        mv.addObject(<span class="hljs-string">"pageInfo"</span>,pageInfo);
        mv.setViewName(<span class="hljs-string">"orders-page-list"</span>);
        <span class="hljs-keyword">return</span> mv;
    &#125;</code></pre></div>

<h3 id="2-3-Dao"><a href="#2-3-Dao" class="headerlink" title="2.3 Dao"></a>2.3 Dao</h3><p>IOrdersDao</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@outhor</span> Mr.JK</span>
<span class="hljs-comment"> * <span class="hljs-doctag">@create</span> 2020-05-01  16:33</span>
<span class="hljs-comment"> */</span>

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IOrdersDao</span> </span>&#123;


    <span class="hljs-meta">@Select</span>(<span class="hljs-string">"select * from orders"</span>)
    <span class="hljs-meta">@Results</span>(&#123;
            <span class="hljs-meta">@Result</span>(id = <span class="hljs-keyword">true</span>,property = <span class="hljs-string">"id"</span>,column = <span class="hljs-string">"id"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"orderNum"</span>,column = <span class="hljs-string">"orderNum"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"orderTime"</span>,column = <span class="hljs-string">"orderTime"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"orderStatus"</span>,column = <span class="hljs-string">"orderStatus"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"peopleCount"</span>,column = <span class="hljs-string">"peopleCount"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"payType"</span>,column = <span class="hljs-string">"payType"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"payTypeStr"</span>,column = <span class="hljs-string">"payTypeStr"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"orderDesc"</span>,column = <span class="hljs-string">"orderDesc"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"product"</span>,column = <span class="hljs-string">"productId"</span>,javaType = Product<span class="hljs-class">.<span class="hljs-keyword">class</span>,</span>
<span class="hljs-class">                    <span class="hljs-title">one</span> </span>= <span class="hljs-meta">@One</span>(select = <span class="hljs-string">"com.jk.ssm.dao.IProductDao.findById"</span>))
    &#125;)
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Orders&gt; <span class="hljs-title">findAll</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception</span>;

&#125;</code></pre></div>

<p>IProductDao的findById</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Select</span>(<span class="hljs-string">"select * from product where id=#&#123;id&#125;"</span>) 
<span class="hljs-function">Product <span class="hljs-title">findById</span><span class="hljs-params">(String id)</span> <span class="hljs-keyword">throws</span> Exception</span>;</code></pre></div>

<h2 id="3-订单分页查询"><a href="#3-订单分页查询" class="headerlink" title="3.订单分页查询"></a>3.订单分页查询</h2><h3 id="3-1-PageHelper介绍"><a href="#3-1-PageHelper介绍" class="headerlink" title="3.1 PageHelper介绍"></a>3.1 PageHelper介绍</h3><p>PageHelper是国内非常优秀的一款开源的mybatis分页插件，它支持基本主流与常用的数据库，例如mysql、oracle、mariaDB、DB2、SQLite、Hsqldb等。</p>
<p>本项目在 github 的项目地址：<a href="https://github.com/pagehelper/Mybatis-PageHelper" target="_blank" rel="noopener">https://github.com/pagehelper/Mybatis-PageHelper</a>本项目在 gitosc 的项目地址：<a href="http://git.oschina.net/free/Mybatis_PageHelper" target="_blank" rel="noopener">http://git.oschina.net/free/Mybatis_PageHelper</a></p>
<h3 id="3-2-PageHelper使用"><a href="#3-2-PageHelper使用" class="headerlink" title="3.2 PageHelper使用"></a>3.2 PageHelper使用</h3><h4 id="3-2-1-集成"><a href="#3-2-1-集成" class="headerlink" title="3.2.1.集成"></a>3.2.1.集成</h4><p>引入分页插件有下面2种方式，推荐使用 Maven 方式。</p>
<h5 id="3-2-1-1-引入-Jar-包"><a href="#3-2-1-1-引入-Jar-包" class="headerlink" title="3.2.1.1. 引入 Jar 包"></a>3.2.1.1. 引入 Jar 包</h5><p> 你可以从下面的地址中下载最新版本的 jar 包</p>
<p><a href="https://oss.sonatype.org/content/repositories/releases/com/github/pagehelper/pagehelper/" target="_blank" rel="noopener">https://oss.sonatype.org/content/repositories/releases/com/github/pagehelper/pagehelper/</a></p>
<p><a href="http://repo1.maven.org/maven2/com/github/pagehelper/pagehelper/" target="_blank" rel="noopener">http://repo1.maven.org/maven2/com/github/pagehelper/pagehelper/</a></p>
<p>由于使用了sql 解析工具，你还需要下载 jsqlparser.jar：</p>
<p><a href="http://repo1.maven.org/maven2/com/github/jsqlparser/jsqlparser/0.9.5/" target="_blank" rel="noopener">http://repo1.maven.org/maven2/com/github/jsqlparser/jsqlparser/0.9.5/</a></p>
<h5 id="3-2-1-2-使用-Maven"><a href="#3-2-1-2-使用-Maven" class="headerlink" title="3.2.1.2. 使用 Maven"></a>3.2.1.2. 使用 Maven</h5><p>在 pom.xml 中添加如下依赖：</p>
<div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>最新版本<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div>

<h4 id="3-2-2-配置"><a href="#3-2-2-配置" class="headerlink" title="3.2.2.配置"></a>3.2.2.配置</h4><p>特别注意，新版拦截器是 com.github.pagehelper.PageInterceptor 。 com.github.pagehelper.PageHelper 现在是一个特殊的 dialect 实现类，是分页插件的默认实现类，提供了和以前相同的用法。</p>
<h5 id="3-2-2-1-在-MyBatis-配置-xml-中配置拦截器插件"><a href="#3-2-2-1-在-MyBatis-配置-xml-中配置拦截器插件" class="headerlink" title="3.2.2.1. 在 MyBatis 配置 xml 中配置拦截器插件"></a>3.2.2.1. 在 MyBatis 配置 xml 中配置拦截器插件</h5><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">plugins在配置文件中的位置必须符合要求，否则会报错，顺序如下:</span>
<span class="hljs-comment">	properties?, settings?, </span>
<span class="hljs-comment">	typeAliases?, typeHandlers?,</span>
<span class="hljs-comment">	objectFactory?,objectWrapperFactory?,</span>
<span class="hljs-comment">	plugins?,</span>
<span class="hljs-comment">	environments?, databaseIdProvider?, mappers?</span>
<span class="hljs-comment">--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- com.github.pagehelper为PageHelper类所在包名 --&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">"com.github.pagehelper.PageInterceptor"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 使用下面的方式配置参数，后面会有所有的参数介绍 --&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"param1"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value1"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span></code></pre></div>

<h5 id="3-2-2-2-在-Spring-配置文件中配置拦截器插件"><a href="#3-2-2-2-在-Spring-配置文件中配置拦截器插件" class="headerlink" title="3.2.2.2. 在 Spring 配置文件中配置拦截器插件"></a>3.2.2.2. 在 Spring 配置文件中配置拦截器插件</h5><p>使用 spring 的属性配置方式，可以使用 plugins 属性像下面这样配置：</p>
<div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 注意其他配置 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"plugins"</span>&gt;</span> 
        <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.github.pagehelper.PageInterceptor"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"properties"</span>&gt;</span>
                <span class="hljs-comment">&lt;!--使用下面的方式配置参数，一行配置一个 --&gt;</span>

                    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>
                    	params=value1
                    <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span> 
                <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span> 
        <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div>

<h4 id="3-2-3-分页插件参数介绍"><a href="#3-2-3-分页插件参数介绍" class="headerlink" title="3.2.3 分页插件参数介绍"></a>3.2.3 分页插件参数介绍</h4><ol>
<li>helperDialect ：分页插件会自动检测当前的数据库链接，自动选择合适的分页方式。 你可以配置</li>
</ol>
<p>helperDialect 属性来指定分页插件使用哪种方言。配置时，可以使用下面的缩写值：</p>
<p>oracle , mysql , mariadb , sqlite , hsqldb , postgresql , db2 , sqlserver , informix , h2  sqlserver201</p>
<p>2 , derby</p>
<p>特别注意：使用 SqlServer2012 数据库时，需要手动指定为 sqlserver2012 ，否则会使用 SqlServer2005 的方式进行分页。</p>
<p>你也可以实现 AbstractHelperDialect ，然后配置该属性为实现类的全限定名称即可使用自定义的实现方</p>
<p>法。</p>
<ol start="2">
<li>offsetAsPageNum ：默认值为 false ，该参数对使用 RowBounds 作为分页参数时有效。 当该参数设置为</li>
</ol>
<p>true 时，会将 RowBounds 中的 offset 参数当成 pageNum使用，可以用页码和页面大小两个参数进行分</p>
<p>页。</p>
<ol start="3">
<li>rowBoundsWithCount ：默认值为 false ，该参数对使用 RowBounds 作为分页参数时有效。 当该参数设置</li>
</ol>
<p>为 true 时，使用 RowBounds 分页会进行 count 查询。</p>
<ol start="4">
<li>pageSizeZero ：默认值为 false ，当该参数设置为 true 时，如果 pageSize=0 或者 RowBounds.limit =</li>
</ol>
<p>0 就会查询出全部的结果（相当于没有执行分页查询，但是返回结果仍然是 Page 类型）。</p>
<ol start="5">
<li>reasonable ：分页合理化参数，默认值为 false 。当该参数设置为 true时， pageNum&lt;=0 时会查询第一</li>
</ol>
<p>页， pageNum&gt;pages （超过总数时），会查询最后一页。默认 false 时，直接根据参数进行查询。</p>
<ol start="6">
<li>params ：为了支持 startPage(Object params) 方法，增加了该参数来配置参数映射，用于从对象中根据属性名取值， 可以配置 pageNum,pageSize,count,pageSizeZero,reasonable ，不配置映射的用默认值， 默认值为</li>
</ol>
<p>pageNum=pageNum;pageSize=pageSize;count=countSql;reasonable=reasonable;pageSizeZero=pageSizeZero。</p>
<ol start="7">
<li>supportMethodsArguments ：支持通过 Mapper 接口参数来传递分页参数，默认值 false ，分页插件会从查询方法的参数值中，自动根据上面 params 配置的字段中取值，查找到合适的值时就会自动分页。 使用方法可以参考测试代码中的 com.github.pagehelper.test.basic 包下的 ArgumentsMapTest 和</li>
</ol>
<p>ArgumentsObjTest 。</p>
<ol start="8">
<li>autoRuntimeDialect ：默认值为 false 。设置为 true 时，允许在运行时根据多数据源自动识别对应方言</li>
</ol>
<p>的分页 （不支持自动选择 sqlserver2012 ，只能使用 sqlserver ），用法和注意事项参考下面的场景五。</p>
<ol start="9">
<li>closeConn ：默认值为 true 。当使用运行时动态数据源或没有设置 helperDialect 属性自动获取数据库类</li>
</ol>
<p>型时，会自动获取一个数据库连接， 通过该属性来设置是否关闭获取的这个连接，默认 true 关闭，设置为</p>
<p>false 后，不会关闭获取的连接，这个参数的设置要根据自己选择的数据源来决定。</p>
<h4 id="3-2-4-基本使用"><a href="#3-2-4-基本使用" class="headerlink" title="3.2.4.基本使用"></a>3.2.4.基本使用</h4><p>PageHelper的基本使用有6种，大家可以查看文档，最常用的有两种</p>
<h5 id="3-2-4-1-RowBounds方式的调用（了解）"><a href="#3-2-4-1-RowBounds方式的调用（了解）" class="headerlink" title="3.2.4.1. RowBounds方式的调用（了解）"></a>3.2.4.1. RowBounds方式的调用（了解）</h5> <div class="hljs"><pre><code class="hljs java">List&lt;Country&gt; list = sqlSession.selectList(<span class="hljs-string">"x.y.selectIf"</span>, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">new</span> RowBounds(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>));</code></pre></div>

<p>使用这种调用方式时，你可以使用RowBounds参数进行分页，这种方式侵入性最小，我们可以看到，通过RowBounds方式调用只是使用了这个参数，并没有增加其他任何内容。</p>
<p>分页插件检测到使用了RowBounds参数时，就会对该查询进行物理分页。</p>
<p>关于这种方式的调用，有两个特殊的参数是针对 RowBounds的，你可以参看上面的分页插件参数介绍注：不只有命名空间方式可以用RowBounds，使用接口的时候也可以增加RowBounds参数，例如：</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//这种情况下也会进行物理分页查询</span>

<span class="hljs-function">List&lt;Country&gt; <span class="hljs-title">selectAll</span><span class="hljs-params">(RowBounds rowBounds)</span></span>;</code></pre></div>

<p>注意： 由于默认情况下的 RowBounds 无法获取查询总数，分页插件提供了一个继承自 RowBounds 的</p>
<p>PageRowBounds ，这个对象中增加了 total属性，执行分页查询后，可以从该属性得到查询总数。</p>
<h5 id="3-2-4-2-PageHelper-startPage静态方法调用（重点）"><a href="#3-2-4-2-PageHelper-startPage静态方法调用（重点）" class="headerlink" title="3.2.4.2. PageHelper.startPage静态方法调用（重点）"></a>3.2.4.2. PageHelper.startPage静态方法调用（重点）</h5><p>这种方式是我们要掌握的 在你需要进行分页的 MyBatis 查询方法前调用PageHelper.startPage 静态方法即可，紧跟在这个方法后的第一个MyBatis 查询方法会被进行分页。</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//获取第1页，10条内容，默认查询总数count</span>

PageHelper.startPage(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>); <span class="hljs-comment">//紧跟着的第一个select方法会被分页</span>
List&lt;Country&gt; list = countryMapper.selectIf(<span class="hljs-number">1</span>);</code></pre></div>

<h3 id="3-3-订单分页查询"><a href="#3-3-订单分页查询" class="headerlink" title="3.3 订单分页查询"></a>3.3 订单分页查询</h3><h4 id="3-3-1-Service"><a href="#3-3-1-Service" class="headerlink" title="3.3.1 Service"></a>3.3.1 Service</h4><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Orders&gt; <span class="hljs-title">findAllByPage</span><span class="hljs-params">(<span class="hljs-keyword">int</span> page, <span class="hljs-keyword">int</span> pageSize)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
	PageHelper.startPage(page, pageSize); 
    <span class="hljs-keyword">return</span> ordersDao.findAllByPage();
&#125;</code></pre></div>

<h4 id="3-3-2-Controller"><a href="#3-3-2-Controller" class="headerlink" title="3.3.2 Controller"></a>3.3.2 Controller</h4><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/findAll.do"</span>)
<span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">findAll</span><span class="hljs-params">(@RequestParam(name = <span class="hljs-string">"page"</span>, required = <span class="hljs-keyword">true</span>, defaultValue = <span class="hljs-string">"1"</span>)</span> Integer page, @<span class="hljs-title">RequestParam</span><span class="hljs-params">(name = <span class="hljs-string">"pageSize"</span>, required = <span class="hljs-keyword">true</span>, defaultValue = <span class="hljs-string">"10"</span>)</span> Integer pageSize) <span class="hljs-keyword">throws</span> Exception </span>&#123;
    List&lt;Orders&gt; ordersList = ordersService.findAllByPage(page, pageSize); 
    PageInfo pageInfo = <span class="hljs-keyword">new</span> PageInfo(ordersList);
    ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView(); 
    mv.setViewName(<span class="hljs-string">"order-list"</span>); 
    mv.addObject(<span class="hljs-string">"pageInfo"</span>, pageInfo); 
    <span class="hljs-keyword">return</span> mv;
&#125;</code></pre></div>

<h4 id="3-3-3-订单分页查询页面Order-list-jsp"><a href="#3-3-3-订单分页查询页面Order-list-jsp" class="headerlink" title="3.3.3 订单分页查询页面Order-list.jsp"></a>3.3.3 订单分页查询页面Order-list.jsp</h4><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600072686900.png" srcset="/img/loading.gif" alt="60007268690"></p>
<p>详细代码请查看今天课程资料</p>
<h2 id="4-订单详情"><a href="#4-订单详情" class="headerlink" title="4.订单详情"></a>4.订单详情</h2><p>在order-list.jsp页面上对”详情”添加链接</p>
<div class="hljs"><pre><code class="hljs jsp">&lt;button type="button" class="btn bg-olive btn-xs" onclick="location.href='$&#123;pageContext.request.contextPath&#125;/orders/findById.do?id=$&#123;orders.id&#125;'"&gt;详情&lt;/button&gt;</code></pre></div>

<h3 id="4-1-订单详情-order-show-jsp"><a href="#4-1-订单详情-order-show-jsp" class="headerlink" title="4.1 订单详情 order-show.jsp"></a>4.1 订单详情 order-show.jsp</h3><p><img src="/2020/09/14/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AF%87/1600072739934.png" srcset="/img/loading.gif" alt="60007273993"></p>
<p>详细代码请查看今天课程资料</p>
<h3 id="4-2-Controller"><a href="#4-2-Controller" class="headerlink" title="4.2 Controller"></a>4.2 Controller</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/findById.do"</span>)
<span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">findById</span><span class="hljs-params">(String id)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123; 
    Orders orders = ordersService.findById(id);
    ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView(); 
    mv.setViewName(<span class="hljs-string">"order-show"</span>);
	mv.addObject(<span class="hljs-string">"orders"</span>, orders); 
    <span class="hljs-keyword">return</span> mv;
&#125;</code></pre></div>

<h3 id="4-3-Dao"><a href="#4-3-Dao" class="headerlink" title="4.3 Dao"></a>4.3 Dao</h3><p>IOrdersDao的findById方法</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//多表操作</span>
    <span class="hljs-meta">@Select</span>(<span class="hljs-string">"select * from orders where id = #&#123;orderId&#125;"</span>)
    <span class="hljs-meta">@Results</span>(&#123;
            <span class="hljs-meta">@Result</span>(id = <span class="hljs-keyword">true</span>,property = <span class="hljs-string">"id"</span>,column = <span class="hljs-string">"id"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"orderNum"</span>,column = <span class="hljs-string">"orderNum"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"orderTime"</span>,column = <span class="hljs-string">"orderTime"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"orderStatus"</span>,column = <span class="hljs-string">"orderStatus"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"peopleCount"</span>,column = <span class="hljs-string">"peopleCount"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"payType"</span>,column = <span class="hljs-string">"payType"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"payTypeStr"</span>,column = <span class="hljs-string">"payTypeStr"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"orderDesc"</span>,column = <span class="hljs-string">"orderDesc"</span>),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"product"</span>,column = <span class="hljs-string">"productId"</span>,javaType = Product<span class="hljs-class">.<span class="hljs-keyword">class</span>,</span>
<span class="hljs-class">                    <span class="hljs-title">one</span> </span>= <span class="hljs-meta">@One</span>(select = <span class="hljs-string">"com.jk.ssm.dao.IProductDao.findById"</span>)),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"member"</span>,column = <span class="hljs-string">"memberId"</span>,javaType = Member<span class="hljs-class">.<span class="hljs-keyword">class</span>,</span>
<span class="hljs-class">                    <span class="hljs-title">one</span> </span>= <span class="hljs-meta">@One</span>(select = <span class="hljs-string">"com.jk.ssm.dao.IMemberDao.findById"</span>)),
            <span class="hljs-meta">@Result</span>(property = <span class="hljs-string">"travellers"</span>,column = <span class="hljs-string">"id"</span>,javaType = java.util.List<span class="hljs-class">.<span class="hljs-keyword">class</span>,</span>
<span class="hljs-class">                    <span class="hljs-title">many</span> </span>= <span class="hljs-meta">@Many</span>(select = <span class="hljs-string">"com.jk.ssm.dao.ITravellerDao.findByOrdersId"</span>))
    &#125;)
    <span class="hljs-function">Orders <span class="hljs-title">findById</span><span class="hljs-params">(String ordersId)</span> <span class="hljs-keyword">throws</span> Exception</span>;</code></pre></div>

<p>IMemberDao的findById方法</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IMemberDao</span> </span>&#123;

    <span class="hljs-meta">@Select</span>(<span class="hljs-string">"select * from member where id=#&#123;id&#125;"</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> Member <span class="hljs-title">findById</span><span class="hljs-params">(String id)</span> <span class="hljs-keyword">throws</span> Exception</span>;

&#125;</code></pre></div>

<p>ITravellerDao.findByOrdersId方法</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Select</span>(<span class="hljs-string">"select * from traveller where id in (select travellerId from order_traveller where orderId=#&#123;ordersId&#125;)"</span>)
<span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Traveller&gt; <span class="hljs-title">findByOrdersId</span><span class="hljs-params">(String ordersId)</span> <span class="hljs-keyword">throws</span> Exception</span>;</code></pre></div>
            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/">项目笔记</a>
                    
                  </div>
                
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2020/09/15/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%90%8E%E7%AF%87/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">权限管理、旅游系统后篇</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2020/09/09/SpringSecurity%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">
                        <span class="hidden-mobile">SpringSecurity源码分析</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
  </div>
</div>
<!--

代码块js 用不到，fulid自带有，添加css样式即可实现
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
<script type="text/javascript" src="/libs/codeBlock/clipboard.min.js"></script>

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script> 

<style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style>

-->




<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键字</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
	<div>
  <span id="timeDate">载入天数...</span>
  <span id="times">载入时分秒...</span>
  <script>
  var now = new Date();
  function createtime(){
      var grt= new Date("06/20/2020 00:00:00");//此处修改你的建站时间或者网站上线时间
      now.setTime(now.getTime()+250);
      days = (now - grt ) / 1000 / 60 / 60 / 24;
      dnum = Math.floor(days);
      hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
      hnum = Math.floor(hours);
      if(String(hnum).length ==1 ){
          hnum = "0" + hnum;
      }
      minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
      mnum = Math.floor(minutes);
      if(String(mnum).length ==1 ){
                mnum = "0" + mnum;
      }
      seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
      snum = Math.round(seconds);
      if(String(snum).length ==1 ){
                snum = "0" + snum;
      }
      document.getElementById("timeDate").innerHTML = "本站已经勉强运行&nbsp"+dnum+"&nbsp天";
      document.getElementById("times").innerHTML = hnum + "&nbsp小时&nbsp" + mnum + "&nbsp分&nbsp" + snum + "&nbsp秒";
  }
  setInterval("createtime()",250);
  </script>
</div>
    
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


    
  <!-- 备案信息 -->
  <div class="beian">
    <a href="http://beian.miit.gov.cn/" target="_blank"
       rel="nofollow noopener">京ICP证20000725号</a>
    
      <a
        href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=20000725"
        rel="nofollow noopener"
        class="beian-police"
        target="_blank"
      >
        <span class="beian-police-sep">&nbsp;|&nbsp;</span>
        
          <img src="/img/police_beian.png" srcset="/img/loading.gif" alt="police-icon" />
        
        <span>京公网安备20000725号</span>
      </a>
     
  </div>


    
	
  </div>
  

</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>



  
<script src="/js/custom.js"></script>




  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "权限管理、旅游系统前篇&nbsp;",
      ],
      cursorChar: "|",
      typeSpeed: 65,
      loop: true,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
      icon: "<"
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>







  
  
    <script>
      !function (e, t, a) {
        function r() {
          for (var e = 0; e < s.length; e++) s[e].alpha <= 0 ? (t.body.removeChild(s[e].el), s.splice(e, 1)) : (s[e].y--, s[e].scale += .004, s[e].alpha -= .013, s[e].el.style.cssText = "left:" + s[e].x + "px;top:" + s[e].y + "px;opacity:" + s[e].alpha + ";transform:scale(" + s[e].scale + "," + s[e].scale + ") rotate(45deg);background:" + s[e].color + ";z-index:99999");
          requestAnimationFrame(r)
        }

        function n() {
          var t = "function" == typeof e.onclick && e.onclick;
          e.onclick = function (e) {
            t && t(), o(e)
          }
        }

        function o(e) {
          var a = t.createElement("div");
          a.className = "heart", s.push({
            el: a,
            x: e.clientX - 5,
            y: e.clientY - 5,
            scale: 1,
            alpha: 1,
            color: c()
          }), t.body.appendChild(a)
        }

        function i(e) {
          var a = t.createElement("style");
          a.type = "text/css";
          try {
            a.appendChild(t.createTextNode(e))
          } catch (t) {
            a.styleSheet.cssText = e
          }
          t.getElementsByTagName("head")[0].appendChild(a)
        }

        function c() {
          return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")"
        }

        var s = [];
        e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) {
          setTimeout(e, 1e3 / 60)
        }, i(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"), n(), r()
      }(window, document);
    </script>
  
















<script type="text/javascript"
color="107,160,220" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
